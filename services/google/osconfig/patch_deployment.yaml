# Copyright 2022 Google LLC. All Rights Reserved.
# 
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
# 
#     http://www.apache.org/licenses/LICENSE-2.0
# 
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
info:
  title: OSConfig/PatchDeployment
  description: Patch deployments are configurations that individual patch jobs use
    to complete a patch. These configurations include instance filter, package repository
    settings, and a schedule.
  x-dcl-struct-name: PatchDeployment
  x-dcl-has-iam: false
  x-dcl-ref:
    text: API documentation
    url: https://cloud.google.com/compute/docs/osconfig/rest
  x-dcl-guides:
  - text: Official Documentation
    url: https://cloud.google.com/compute/docs/os-patch-management
paths:
  get:
    description: The function used to get information about a PatchDeployment
    parameters:
    - name: PatchDeployment
      required: true
      description: A full instance of a PatchDeployment
  apply:
    description: The function used to apply information about a PatchDeployment
    parameters:
    - name: PatchDeployment
      required: true
      description: A full instance of a PatchDeployment
  delete:
    description: The function used to delete a PatchDeployment
    parameters:
    - name: PatchDeployment
      required: true
      description: A full instance of a PatchDeployment
  deleteAll:
    description: The function used to delete all PatchDeployment
    parameters:
    - name: project
      required: true
      schema:
        type: string
  list:
    description: The function used to list information about many PatchDeployment
    parameters:
    - name: project
      required: true
      schema:
        type: string
components:
  schemas:
    PatchDeployment:
      title: PatchDeployment
      x-dcl-id: projects/{{project}}/patchDeployments/{{name}}
      x-dcl-parent-container: project
      x-dcl-has-iam: false
      type: object
      required:
      - name
      - instanceFilter
      - project
      properties:
        createTime:
          type: string
          format: date-time
          x-dcl-go-name: CreateTime
          readOnly: true
          description: Output only. Time the patch deployment was created. Timestamp
            is in [RFC3339](https://www.ietf.org/rfc/rfc3339.txt) text format.
          x-kubernetes-immutable: true
        description:
          type: string
          x-dcl-go-name: Description
          description: Optional. Description of the patch deployment. Length of the
            description is limited to 1024 characters.
        duration:
          type: string
          x-dcl-go-name: Duration
          description: Optional. Duration of the patch. After the duration ends, the
            patch times out.
        instanceFilter:
          type: object
          x-dcl-go-name: InstanceFilter
          x-dcl-go-type: PatchDeploymentInstanceFilter
          description: Required. VM instances to patch.
          properties:
            all:
              type: boolean
              x-dcl-go-name: All
              description: Target all VM instances in the project. If true, no other
                criteria is permitted.
              x-dcl-conflicts:
              - instanceNamePrefixes
            groupLabels:
              type: array
              x-dcl-go-name: GroupLabels
              description: Targets VM instances matching ANY of these GroupLabels.
                This allows targeting of disparate groups of VM instances.
              x-dcl-conflicts:
              - all
              x-dcl-send-empty: true
              x-dcl-list-type: list
              items:
                type: object
                x-dcl-go-type: PatchDeploymentInstanceFilterGroupLabels
                properties:
                  labels:
                    type: object
                    additionalProperties:
                      type: string
                    x-dcl-go-name: Labels
                    description: Compute Engine instance labels that must be present
                      for a VM instance to be targeted by this filter.
            instanceNamePrefixes:
              type: array
              x-dcl-go-name: InstanceNamePrefixes
              description: Targets VMs whose name starts with one of these prefixes.
                Similar to labels, this is another way to group VMs when targeting
                configs, for example prefix="prod-".
              x-dcl-conflicts:
              - all
              x-dcl-send-empty: true
              x-dcl-list-type: list
              items:
                type: string
                x-dcl-go-type: string
            instances:
              type: array
              x-dcl-go-name: Instances
              description: Targets any of the VM instances specified. Instances are
                specified by their URI in the form `zones/[ZONE]/instances/[INSTANCE_NAME]`,
                `projects/[PROJECT_ID]/zones/[ZONE]/instances/[INSTANCE_NAME]`, or
                `https://www.googleapis.com/compute/v1/projects/[PROJECT_ID]/zones/[ZONE]/instances/[INSTANCE_NAME]`
              x-dcl-conflicts:
              - all
              x-dcl-send-empty: true
              x-dcl-list-type: list
              items:
                type: string
                x-dcl-go-type: string
                x-dcl-references:
                - resource: Compute/Instance
                  field: name
            zones:
              type: array
              x-dcl-go-name: Zones
              description: Targets VM instances in ANY of these zones. Leave empty
                to target VM instances in any zone.
              x-dcl-conflicts:
              - all
              x-dcl-send-empty: true
              x-dcl-list-type: list
              items:
                type: string
                x-dcl-go-type: string
        lastExecuteTime:
          type: string
          format: date-time
          x-dcl-go-name: LastExecuteTime
          readOnly: true
          description: Output only. The last time a patch job was started by this
            deployment. Timestamp is in [RFC3339](https://www.ietf.org/rfc/rfc3339.txt)
            text format.
          x-kubernetes-immutable: true
        name:
          type: string
          x-dcl-go-name: Name
          description: 'Unique name for the patch deployment resource in a project.
            The patch deployment name is in the form: `projects/{project_id}/patchDeployments/{patch_deployment_id}`.
            This field is ignored when you create a new patch deployment.'
          x-kubernetes-immutable: true
        oneTimeSchedule:
          type: object
          x-dcl-go-name: OneTimeSchedule
          x-dcl-go-type: PatchDeploymentOneTimeSchedule
          description: Required. Schedule a one-time execution.
          x-dcl-conflicts:
          - recurringSchedule
          required:
          - executeTime
          properties:
            executeTime:
              type: string
              format: date-time
              x-dcl-go-name: ExecuteTime
              description: Required. The desired patch job execution time.
        patchConfig:
          type: object
          x-dcl-go-name: PatchConfig
          x-dcl-go-type: PatchDeploymentPatchConfig
          description: Optional. Patch configuration that is applied.
          properties:
            apt:
              type: object
              x-dcl-go-name: Apt
              x-dcl-go-type: PatchDeploymentPatchConfigApt
              description: Apt update settings. Use this setting to override the default
                `apt` patch rules.
              properties:
                excludes:
                  type: array
                  x-dcl-go-name: Excludes
                  description: List of packages to exclude from update. These packages
                    will be excluded
                  x-dcl-conflicts:
                  - exclusivePackages
                  x-dcl-send-empty: true
                  x-dcl-list-type: list
                  items:
                    type: string
                    x-dcl-go-type: string
                exclusivePackages:
                  type: array
                  x-dcl-go-name: ExclusivePackages
                  description: An exclusive list of packages to be updated. These
                    are the only packages that will be updated. If these packages
                    are not installed, they will be ignored. This field cannot be
                    specified with any other patch configuration fields.
                  x-dcl-conflicts:
                  - excludes
                  x-dcl-send-empty: true
                  x-dcl-list-type: list
                  items:
                    type: string
                    x-dcl-go-type: string
                type:
                  type: string
                  x-dcl-go-name: Type
                  x-dcl-go-type: PatchDeploymentPatchConfigAptTypeEnum
                  description: 'By changing the type to DIST, the patching is performed
                    using `apt-get dist-upgrade` instead. Possible values: TYPE_UNSPECIFIED,
                    DIST, UPGRADE'
                  enum:
                  - TYPE_UNSPECIFIED
                  - DIST
                  - UPGRADE
            goo:
              type: object
              x-dcl-go-name: Goo
              x-dcl-go-type: PatchDeploymentPatchConfigGoo
              description: Goo update settings. Use this setting to override the default
                `goo` patch rules.
            postStep:
              type: object
              x-dcl-go-name: PostStep
              x-dcl-go-type: PatchDeploymentPatchConfigPostStep
              description: The `ExecStep` to run after the patch update.
              properties:
                linuxExecStepConfig:
                  type: object
                  x-dcl-go-name: LinuxExecStepConfig
                  x-dcl-go-type: PatchDeploymentPatchConfigPostStepLinuxExecStepConfig
                  description: The ExecStepConfig for all Linux VMs targeted by the
                    PatchJob.
                  properties:
                    allowedSuccessCodes:
                      type: array
                      x-dcl-go-name: AllowedSuccessCodes
                      description: Defaults to [0]. A list of possible return values
                        that the execution can return to indicate a success.
                      x-dcl-send-empty: true
                      x-dcl-list-type: list
                      items:
                        type: integer
                        format: int64
                        x-dcl-go-type: int64
                    gcsObject:
                      type: object
                      x-dcl-go-name: GcsObject
                      x-dcl-go-type: PatchDeploymentPatchConfigPostStepLinuxExecStepConfigGcsObject
                      description: A Cloud Storage object containing the executable.
                      x-dcl-conflicts:
                      - localPath
                      required:
                      - bucket
                      - object
                      - generationNumber
                      properties:
                        bucket:
                          type: string
                          x-dcl-go-name: Bucket
                          description: Required. Bucket of the Cloud Storage object.
                        generationNumber:
                          type: integer
                          format: int64
                          x-dcl-go-name: GenerationNumber
                          description: Required. Generation number of the Cloud Storage
                            object. This is used to ensure that the ExecStep specified
                            by this PatchJob does not change.
                        object:
                          type: string
                          x-dcl-go-name: Object
                          description: Required. Name of the Cloud Storage object.
                    interpreter:
                      type: string
                      x-dcl-go-name: Interpreter
                      x-dcl-go-type: PatchDeploymentPatchConfigPostStepLinuxExecStepConfigInterpreterEnum
                      description: 'The script interpreter to use to run the script.
                        If no interpreter is specified the script will be executed
                        directly, which will likely only succeed for scripts with
                        [shebang lines] (https://en.wikipedia.org/wiki/Shebang_(Unix)).
                        Possible values: INTERPRETER_UNSPECIFIED, NONE, SHELL, POWERSHELL'
                      enum:
                      - INTERPRETER_UNSPECIFIED
                      - NONE
                      - SHELL
                      - POWERSHELL
                    localPath:
                      type: string
                      x-dcl-go-name: LocalPath
                      description: An absolute path to the executable on the VM.
                      x-dcl-conflicts:
                      - gcsObject
                windowsExecStepConfig:
                  type: object
                  x-dcl-go-name: WindowsExecStepConfig
                  x-dcl-go-type: PatchDeploymentPatchConfigPostStepWindowsExecStepConfig
                  description: The ExecStepConfig for all Windows VMs targeted by
                    the PatchJob.
                  required:
                  - interpreter
                  properties:
                    allowedSuccessCodes:
                      type: array
                      x-dcl-go-name: AllowedSuccessCodes
                      description: Defaults to [0]. A list of possible return values
                        that the execution can return to indicate a success.
                      x-dcl-send-empty: true
                      x-dcl-list-type: list
                      items:
                        type: integer
                        format: int64
                        x-dcl-go-type: int64
                    gcsObject:
                      type: object
                      x-dcl-go-name: GcsObject
                      x-dcl-go-type: PatchDeploymentPatchConfigPostStepWindowsExecStepConfigGcsObject
                      description: A Cloud Storage object containing the executable.
                      x-dcl-conflicts:
                      - localPath
                      required:
                      - bucket
                      - object
                      - generationNumber
                      properties:
                        bucket:
                          type: string
                          x-dcl-go-name: Bucket
                          description: Required. Bucket of the Cloud Storage object.
                        generationNumber:
                          type: integer
                          format: int64
                          x-dcl-go-name: GenerationNumber
                          description: Required. Generation number of the Cloud Storage
                            object. This is used to ensure that the ExecStep specified
                            by this PatchJob does not change.
                        object:
                          type: string
                          x-dcl-go-name: Object
                          description: Required. Name of the Cloud Storage object.
                    interpreter:
                      type: string
                      x-dcl-go-name: Interpreter
                      x-dcl-go-type: PatchDeploymentPatchConfigPostStepWindowsExecStepConfigInterpreterEnum
                      description: 'The script interpreter to use to run the script.
                        If no interpreter is specified the script will be executed
                        directly, which will likely only succeed for scripts with
                        [shebang lines] (https://en.wikipedia.org/wiki/Shebang_(Unix)).
                        Possible values: INTERPRETER_UNSPECIFIED, NONE, SHELL, POWERSHELL'
                      enum:
                      - INTERPRETER_UNSPECIFIED
                      - NONE
                      - SHELL
                      - POWERSHELL
                    localPath:
                      type: string
                      x-dcl-go-name: LocalPath
                      description: An absolute path to the executable on the VM.
                      x-dcl-conflicts:
                      - gcsObject
            preStep:
              type: object
              x-dcl-go-name: PreStep
              x-dcl-go-type: PatchDeploymentPatchConfigPreStep
              description: The `ExecStep` to run before the patch update.
              properties:
                linuxExecStepConfig:
                  type: object
                  x-dcl-go-name: LinuxExecStepConfig
                  x-dcl-go-type: PatchDeploymentPatchConfigPreStepLinuxExecStepConfig
                  description: The ExecStepConfig for all Linux VMs targeted by the
                    PatchJob.
                  properties:
                    allowedSuccessCodes:
                      type: array
                      x-dcl-go-name: AllowedSuccessCodes
                      description: Defaults to [0]. A list of possible return values
                        that the execution can return to indicate a success.
                      x-dcl-send-empty: true
                      x-dcl-list-type: list
                      items:
                        type: integer
                        format: int64
                        x-dcl-go-type: int64
                    gcsObject:
                      type: object
                      x-dcl-go-name: GcsObject
                      x-dcl-go-type: PatchDeploymentPatchConfigPreStepLinuxExecStepConfigGcsObject
                      description: A Cloud Storage object containing the executable.
                      x-dcl-conflicts:
                      - localPath
                      required:
                      - bucket
                      - object
                      - generationNumber
                      properties:
                        bucket:
                          type: string
                          x-dcl-go-name: Bucket
                          description: Required. Bucket of the Cloud Storage object.
                        generationNumber:
                          type: integer
                          format: int64
                          x-dcl-go-name: GenerationNumber
                          description: Required. Generation number of the Cloud Storage
                            object. This is used to ensure that the ExecStep specified
                            by this PatchJob does not change.
                        object:
                          type: string
                          x-dcl-go-name: Object
                          description: Required. Name of the Cloud Storage object.
                    interpreter:
                      type: string
                      x-dcl-go-name: Interpreter
                      x-dcl-go-type: PatchDeploymentPatchConfigPreStepLinuxExecStepConfigInterpreterEnum
                      description: 'The script interpreter to use to run the script.
                        If no interpreter is specified the script will be executed
                        directly, which will likely only succeed for scripts with
                        [shebang lines] (https://en.wikipedia.org/wiki/Shebang_(Unix)).
                        Possible values: INTERPRETER_UNSPECIFIED, NONE, SHELL, POWERSHELL'
                      enum:
                      - INTERPRETER_UNSPECIFIED
                      - NONE
                      - SHELL
                      - POWERSHELL
                    localPath:
                      type: string
                      x-dcl-go-name: LocalPath
                      description: An absolute path to the executable on the VM.
                      x-dcl-conflicts:
                      - gcsObject
                windowsExecStepConfig:
                  type: object
                  x-dcl-go-name: WindowsExecStepConfig
                  x-dcl-go-type: PatchDeploymentPatchConfigPreStepWindowsExecStepConfig
                  description: The ExecStepConfig for all Windows VMs targeted by
                    the PatchJob.
                  required:
                  - interpreter
                  properties:
                    allowedSuccessCodes:
                      type: array
                      x-dcl-go-name: AllowedSuccessCodes
                      description: Defaults to [0]. A list of possible return values
                        that the execution can return to indicate a success.
                      x-dcl-send-empty: true
                      x-dcl-list-type: list
                      items:
                        type: integer
                        format: int64
                        x-dcl-go-type: int64
                    gcsObject:
                      type: object
                      x-dcl-go-name: GcsObject
                      x-dcl-go-type: PatchDeploymentPatchConfigPreStepWindowsExecStepConfigGcsObject
                      description: A Cloud Storage object containing the executable.
                      x-dcl-conflicts:
                      - localPath
                      required:
                      - bucket
                      - object
                      - generationNumber
                      properties:
                        bucket:
                          type: string
                          x-dcl-go-name: Bucket
                          description: Required. Bucket of the Cloud Storage object.
                        generationNumber:
                          type: integer
                          format: int64
                          x-dcl-go-name: GenerationNumber
                          description: Required. Generation number of the Cloud Storage
                            object. This is used to ensure that the ExecStep specified
                            by this PatchJob does not change.
                        object:
                          type: string
                          x-dcl-go-name: Object
                          description: Required. Name of the Cloud Storage object.
                    interpreter:
                      type: string
                      x-dcl-go-name: Interpreter
                      x-dcl-go-type: PatchDeploymentPatchConfigPreStepWindowsExecStepConfigInterpreterEnum
                      description: 'The script interpreter to use to run the script.
                        If no interpreter is specified the script will be executed
                        directly, which will likely only succeed for scripts with
                        [shebang lines] (https://en.wikipedia.org/wiki/Shebang_(Unix)).
                        Possible values: INTERPRETER_UNSPECIFIED, NONE, SHELL, POWERSHELL'
                      enum:
                      - INTERPRETER_UNSPECIFIED
                      - NONE
                      - SHELL
                      - POWERSHELL
                    localPath:
                      type: string
                      x-dcl-go-name: LocalPath
                      description: An absolute path to the executable on the VM.
                      x-dcl-conflicts:
                      - gcsObject
            rebootConfig:
              type: string
              x-dcl-go-name: RebootConfig
              x-dcl-go-type: PatchDeploymentPatchConfigRebootConfigEnum
              description: 'Post-patch reboot settings. Possible values: REBOOT_CONFIG_UNSPECIFIED,
                DEFAULT, ALWAYS, NEVER'
              enum:
              - REBOOT_CONFIG_UNSPECIFIED
              - DEFAULT
              - ALWAYS
              - NEVER
            windowsUpdate:
              type: object
              x-dcl-go-name: WindowsUpdate
              x-dcl-go-type: PatchDeploymentPatchConfigWindowsUpdate
              description: Windows update settings. Use this override the default
                windows patch rules.
              properties:
                classifications:
                  type: array
                  x-dcl-go-name: Classifications
                  description: Only apply updates of these windows update classifications.
                    If empty, all updates are applied.
                  x-dcl-conflicts:
                  - exclusivePatches
                  x-dcl-send-empty: true
                  x-dcl-list-type: list
                  items:
                    type: string
                    x-dcl-go-type: PatchDeploymentPatchConfigWindowsUpdateClassificationsEnum
                    enum:
                    - CLASSIFICATION_UNSPECIFIED
                    - CRITICAL
                    - SECURITY
                    - DEFINITION
                    - DRIVER
                    - FEATURE_PACK
                    - SERVICE_PACK
                    - TOOL
                    - UPDATE_ROLLUP
                    - UPDATE
                excludes:
                  type: array
                  x-dcl-go-name: Excludes
                  description: List of KBs to exclude from update.
                  x-dcl-conflicts:
                  - exclusivePatches
                  x-dcl-send-empty: true
                  x-dcl-list-type: list
                  items:
                    type: string
                    x-dcl-go-type: string
                exclusivePatches:
                  type: array
                  x-dcl-go-name: ExclusivePatches
                  description: An exclusive list of kbs to be updated. These are the
                    only patches that will be updated. This field must not be used
                    with other patch configurations.
                  x-dcl-conflicts:
                  - excludes
                  x-dcl-send-empty: true
                  x-dcl-list-type: list
                  items:
                    type: string
                    x-dcl-go-type: string
            yum:
              type: object
              x-dcl-go-name: Yum
              x-dcl-go-type: PatchDeploymentPatchConfigYum
              description: Yum update settings. Use this setting to override the default
                `yum` patch rules.
              properties:
                excludes:
                  type: array
                  x-dcl-go-name: Excludes
                  description: List of packages to exclude from update. These packages
                    are excluded by using the yum `--exclude` flag.
                  x-dcl-conflicts:
                  - exclusivePackages
                  x-dcl-send-empty: true
                  x-dcl-list-type: list
                  items:
                    type: string
                    x-dcl-go-type: string
                exclusivePackages:
                  type: array
                  x-dcl-go-name: ExclusivePackages
                  description: An exclusive list of packages to be updated. These
                    are the only packages that will be updated. If these packages
                    are not installed, they will be ignored. This field must not be
                    specified with any other patch configuration fields.
                  x-dcl-conflicts:
                  - excludes
                  x-dcl-send-empty: true
                  x-dcl-list-type: list
                  items:
                    type: string
                    x-dcl-go-type: string
                minimal:
                  type: boolean
                  x-dcl-go-name: Minimal
                  description: Will cause patch to run `yum update-minimal` instead.
                security:
                  type: boolean
                  x-dcl-go-name: Security
                  description: Adds the `--security` flag to `yum update`. Not supported
                    on all platforms.
            zypper:
              type: object
              x-dcl-go-name: Zypper
              x-dcl-go-type: PatchDeploymentPatchConfigZypper
              description: Zypper update settings. Use this setting to override the
                default `zypper` patch rules.
              properties:
                categories:
                  type: array
                  x-dcl-go-name: Categories
                  description: Install only patches with these categories. Common
                    categories include security, recommended, and feature.
                  x-dcl-conflicts:
                  - exclusivePatches
                  x-dcl-send-empty: true
                  x-dcl-list-type: list
                  items:
                    type: string
                    x-dcl-go-type: string
                excludes:
                  type: array
                  x-dcl-go-name: Excludes
                  description: List of patches to exclude from update.
                  x-dcl-conflicts:
                  - exclusivePatches
                  x-dcl-send-empty: true
                  x-dcl-list-type: list
                  items:
                    type: string
                    x-dcl-go-type: string
                exclusivePatches:
                  type: array
                  x-dcl-go-name: ExclusivePatches
                  description: An exclusive list of patches to be updated. These are
                    the only patches that will be installed using 'zypper patch patch:'
                    command. This field must not be used with any other patch configuration
                    fields.
                  x-dcl-conflicts:
                  - excludes
                  x-dcl-send-empty: true
                  x-dcl-list-type: list
                  items:
                    type: string
                    x-dcl-go-type: string
                severities:
                  type: array
                  x-dcl-go-name: Severities
                  description: Install only patches with these severities. Common
                    severities include critical, important, moderate, and low.
                  x-dcl-conflicts:
                  - exclusivePatches
                  x-dcl-send-empty: true
                  x-dcl-list-type: list
                  items:
                    type: string
                    x-dcl-go-type: string
                withOptional:
                  type: boolean
                  x-dcl-go-name: WithOptional
                  description: Adds the `--with-optional` flag to `zypper patch`.
                  x-dcl-conflicts:
                  - exclusivePatches
                withUpdate:
                  type: boolean
                  x-dcl-go-name: WithUpdate
                  description: Adds the `--with-update` flag, to `zypper patch`.
                  x-dcl-conflicts:
                  - exclusivePatches
        project:
          type: string
          x-dcl-go-name: Project
          description: The project for the resource
          x-kubernetes-immutable: true
          x-dcl-references:
          - resource: Cloudresourcemanager/Project
            field: name
            parent: true
        recurringSchedule:
          type: object
          x-dcl-go-name: RecurringSchedule
          x-dcl-go-type: PatchDeploymentRecurringSchedule
          description: Required. Schedule recurring executions.
          x-dcl-conflicts:
          - oneTimeSchedule
          required:
          - timeZone
          - timeOfDay
          - frequency
          properties:
            endTime:
              type: string
              format: date-time
              x-dcl-go-name: EndTime
              description: Optional. The end time at which a recurring patch deployment
                schedule is no longer active.
            frequency:
              type: string
              x-dcl-go-name: Frequency
              x-dcl-go-type: PatchDeploymentRecurringScheduleFrequencyEnum
              description: 'Required. The frequency unit of this recurring schedule.
                Possible values: FREQUENCY_UNSPECIFIED, WEEKLY, MONTHLY, DAILY'
              enum:
              - FREQUENCY_UNSPECIFIED
              - WEEKLY
              - MONTHLY
              - DAILY
            lastExecuteTime:
              type: string
              format: date-time
              x-dcl-go-name: LastExecuteTime
              readOnly: true
              description: Output only. The time the last patch job ran successfully.
            monthly:
              type: object
              x-dcl-go-name: Monthly
              x-dcl-go-type: PatchDeploymentRecurringScheduleMonthly
              description: Required. Schedule with monthly executions.
              x-dcl-conflicts:
              - weekly
              properties:
                monthDay:
                  type: integer
                  format: int64
                  x-dcl-go-name: MonthDay
                  description: Required. One day of the month. 1-31 indicates the
                    1st to the 31st day. -1 indicates the last day of the month. Months
                    without the target day will be skipped. For example, a schedule
                    to run "every month on the 31st" will not run in February, April,
                    June, etc.
                  x-dcl-conflicts:
                  - weekDayOfMonth
                weekDayOfMonth:
                  type: object
                  x-dcl-go-name: WeekDayOfMonth
                  x-dcl-go-type: PatchDeploymentRecurringScheduleMonthlyWeekDayOfMonth
                  description: Required. Week day in a month.
                  x-dcl-conflicts:
                  - monthDay
                  required:
                  - weekOrdinal
                  - dayOfWeek
                  properties:
                    dayOfWeek:
                      type: string
                      x-dcl-go-name: DayOfWeek
                      x-dcl-go-type: PatchDeploymentRecurringScheduleMonthlyWeekDayOfMonthDayOfWeekEnum
                      description: 'Required. A day of the week. Possible values:
                        DAY_OF_WEEK_UNSPECIFIED, MONDAY, TUESDAY, WEDNESDAY, THURSDAY,
                        FRIDAY, SATURDAY, SUNDAY'
                      enum:
                      - DAY_OF_WEEK_UNSPECIFIED
                      - MONDAY
                      - TUESDAY
                      - WEDNESDAY
                      - THURSDAY
                      - FRIDAY
                      - SATURDAY
                      - SUNDAY
                    weekOrdinal:
                      type: integer
                      format: int64
                      x-dcl-go-name: WeekOrdinal
                      description: Required. Week number in a month. 1-4 indicates
                        the 1st to 4th week of the month. -1 indicates the last week
                        of the month.
            nextExecuteTime:
              type: string
              format: date-time
              x-dcl-go-name: NextExecuteTime
              readOnly: true
              description: Output only. The time the next patch job is scheduled to
                run.
            startTime:
              type: string
              format: date-time
              x-dcl-go-name: StartTime
              description: Optional. The time that the recurring schedule becomes
                effective. Defaults to `create_time` of the patch deployment.
            timeOfDay:
              type: object
              x-dcl-go-name: TimeOfDay
              x-dcl-go-type: PatchDeploymentRecurringScheduleTimeOfDay
              description: Required. Time of the day to run a recurring deployment.
              x-dcl-send-empty: true
              properties:
                hours:
                  type: integer
                  format: int64
                  x-dcl-go-name: Hours
                  description: Hours of day in 24 hour format. Should be from 0 to
                    23. An API may choose to allow the value "24:00:00" for scenarios
                    like business closing time.
                minutes:
                  type: integer
                  format: int64
                  x-dcl-go-name: Minutes
                  description: Minutes of hour of day. Must be from 0 to 59.
                nanos:
                  type: integer
                  format: int64
                  x-dcl-go-name: Nanos
                  description: Fractions of seconds in nanoseconds. Must be from 0
                    to 999,999,999.
                seconds:
                  type: integer
                  format: int64
                  x-dcl-go-name: Seconds
                  description: Seconds of minutes of the time. Must normally be from
                    0 to 59. An API may allow the value 60 if it allows leap-seconds.
            timeZone:
              type: object
              x-dcl-go-name: TimeZone
              x-dcl-go-type: PatchDeploymentRecurringScheduleTimeZone
              description: Required. Defines the time zone that `time_of_day` is relative
                to. The rules for daylight saving time are determined by the chosen
                time zone.
              properties:
                id:
                  type: string
                  x-dcl-go-name: Id
                  description: IANA Time Zone Database time zone, e.g. "America/New_York".
                version:
                  type: string
                  x-dcl-go-name: Version
                  description: Optional. IANA Time Zone Database version number, e.g.
                    "2019a".
            weekly:
              type: object
              x-dcl-go-name: Weekly
              x-dcl-go-type: PatchDeploymentRecurringScheduleWeekly
              description: Required. Schedule with weekly executions.
              x-dcl-conflicts:
              - monthly
              required:
              - dayOfWeek
              properties:
                dayOfWeek:
                  type: string
                  x-dcl-go-name: DayOfWeek
                  x-dcl-go-type: PatchDeploymentRecurringScheduleWeeklyDayOfWeekEnum
                  description: 'Required. Day of the week. Possible values: DAY_OF_WEEK_UNSPECIFIED,
                    MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY'
                  enum:
                  - DAY_OF_WEEK_UNSPECIFIED
                  - MONDAY
                  - TUESDAY
                  - WEDNESDAY
                  - THURSDAY
                  - FRIDAY
                  - SATURDAY
                  - SUNDAY
        rollout:
          type: object
          x-dcl-go-name: Rollout
          x-dcl-go-type: PatchDeploymentRollout
          description: Optional. Rollout strategy of the patch job.
          required:
          - mode
          - disruptionBudget
          properties:
            disruptionBudget:
              type: object
              x-dcl-go-name: DisruptionBudget
              x-dcl-go-type: PatchDeploymentRolloutDisruptionBudget
              description: The maximum number (or percentage) of VMs per zone to disrupt
                at any given moment. The number of VMs calculated from multiplying
                the percentage by the total number of VMs in a zone is rounded up.
                During patching, a VM is considered disrupted from the time the agent
                is notified to begin until patching has completed. This disruption
                time includes the time to complete reboot and any post-patch steps.
                A VM contributes to the disruption budget if its patching operation
                fails either when applying the patches, running pre or post patch
                steps, or if it fails to respond with a success notification before
                timing out. VMs that are not running or do not have an active agent
                do not count toward this disruption budget. For zone-by-zone rollouts,
                if the disruption budget in a zone is exceeded, the patch job stops,
                because continuing to the next zone requires completion of the patch
                process in the previous zone. For example, if the disruption budget
                has a fixed value of `10`, and 8 VMs fail to patch in the current
                zone, the patch job continues to patch 2 VMs at a time until the zone
                is completed. When that zone is completed successfully, patching begins
                with 10 VMs at a time in the next zone. If 10 VMs in the next zone
                fail to patch, the patch job stops.
              properties:
                fixed:
                  type: integer
                  format: int64
                  x-dcl-go-name: Fixed
                  description: Specifies a fixed value.
                  x-dcl-conflicts:
                  - percent
                percent:
                  type: integer
                  format: int64
                  x-dcl-go-name: Percent
                  description: Specifies the relative value defined as a percentage,
                    which will be multiplied by a reference value.
                  x-dcl-conflicts:
                  - fixed
            mode:
              type: string
              x-dcl-go-name: Mode
              x-dcl-go-type: PatchDeploymentRolloutModeEnum
              description: 'Mode of the patch rollout. Possible values: MODE_UNSPECIFIED,
                VALIDATION, ENFORCEMENT'
              enum:
              - MODE_UNSPECIFIED
              - VALIDATION
              - ENFORCEMENT
        updateTime:
          type: string
          format: date-time
          x-dcl-go-name: UpdateTime
          readOnly: true
          description: Output only. Time the patch deployment was last updated. Timestamp
            is in [RFC3339](https://www.ietf.org/rfc/rfc3339.txt) text format.
          x-kubernetes-immutable: true
