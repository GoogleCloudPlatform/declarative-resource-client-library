# Copyright 2021 Google LLC. All Rights Reserved.
# 
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
# 
#     http://www.apache.org/licenses/LICENSE-2.0
# 
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
components:
  schemas:
    Instance:
      properties:
        apiEndpoint:
          description: Output only. Endpoint on which the REST APIs is accessible.
          readOnly: true
          type: string
          x-dcl-go-name: ApiEndpoint
          x-kubernetes-immutable: true
        availableVersion:
          description: Available versions that the instance can be upgraded to using
            UpdateInstanceRequest.
          items:
            properties:
              availableFeatures:
                description: Represents a list of available feature names for a given
                  version.
                items:
                  type: string
                  x-dcl-go-type: string
                type: array
                x-dcl-go-name: AvailableFeatures
                x-dcl-list-type: list
              defaultVersion:
                description: Whether this is currently the default version for Cloud
                  Data Fusion
                type: boolean
                x-dcl-go-name: DefaultVersion
              versionNumber:
                description: The version number of the Data Fusion instance, such
                  as '6.0.1.0'.
                type: string
                x-dcl-go-name: VersionNumber
            type: object
            x-dcl-go-type: InstanceAvailableVersion
          type: array
          x-dcl-go-name: AvailableVersion
          x-dcl-list-type: list
        createTime:
          description: Output only. The time the instance was created.
          format: date-time
          readOnly: true
          type: string
          x-dcl-go-name: CreateTime
          x-kubernetes-immutable: true
        dataprocServiceAccount:
          description: User-managed service account to set on Dataproc when Cloud
            Data Fusion creates Dataproc to run data processing pipelines. This allows
            users to have fine-grained access control on Dataproc's accesses to cloud
            resources.
          type: string
          x-dcl-go-name: DataprocServiceAccount
          x-dcl-references:
          - field: email
            resource: Iam/Serviceaccount
        description:
          description: A description of this instance.
          type: string
          x-dcl-go-name: Description
          x-kubernetes-immutable: true
        displayName:
          description: Display name for an instance.
          type: string
          x-dcl-go-name: DisplayName
        enableStackdriverLogging:
          description: Option to enable Stackdriver Logging.
          type: boolean
          x-dcl-go-name: EnableStackdriverLogging
        enableStackdriverMonitoring:
          description: Option to enable Stackdriver Monitoring.
          type: boolean
          x-dcl-go-name: EnableStackdriverMonitoring
        gcsBucket:
          description: Output only. Cloud Storage bucket generated by Data Fusion
            in the customer project.
          readOnly: true
          type: string
          x-dcl-go-name: GcsBucket
          x-kubernetes-immutable: true
        labels:
          additionalProperties:
            type: string
          description: The resource labels for instance to use to annotate any related
            underlying resources such as GCE VMs. The character '=' is not allowed
            to be used within the labels.
          type: object
          x-dcl-go-name: Labels
        location:
          description: The location for the resource
          type: string
          x-dcl-go-name: Location
          x-kubernetes-immutable: true
        name:
          description: Output only. The name of this instance is in the form of projects/{project}/locations/{location}/instances/{instance}.
          type: string
          x-dcl-go-name: Name
          x-kubernetes-immutable: true
        networkConfig:
          description: Network configuration options. These are required when a private
            Data Fusion instance is to be created.
          properties:
            ipAllocation:
              description: The IP range in CIDR notation to use for the managed Data
                Fusion instance nodes. This range must not overlap with any other
                ranges used in the customer network.
              type: string
              x-dcl-go-name: IPAllocation
            network:
              description: Name of the network in the customer project with which
                the Tenant Project will be peered for executing pipelines. In case
                of shared VPC where the network resides in another host project the
                network should specified in the form of projects/{host-project-id}/global/networks/{network}
              type: string
              x-dcl-go-name: Network
              x-dcl-references:
              - field: name
                resource: Compute/Network
          type: object
          x-dcl-go-name: NetworkConfig
          x-dcl-go-type: InstanceNetworkConfig
        options:
          additionalProperties:
            type: string
          description: Map of additional options used to configure the behavior of
            Data Fusion instance.
          type: object
          x-dcl-go-name: Options
        p4ServiceAccount:
          description: Output only. P4 service account for the customer project.
          readOnly: true
          type: string
          x-dcl-go-name: P4ServiceAccount
          x-kubernetes-immutable: true
        privateInstance:
          description: Specifies whether the Data Fusion instance should be private.
            If set to true, all Data Fusion nodes will have private IP addresses and
            will not be able to access the public internet.
          type: boolean
          x-dcl-go-name: PrivateInstance
          x-kubernetes-immutable: true
        project:
          description: The project for the resource
          type: string
          x-dcl-go-name: Project
          x-dcl-references:
          - field: name
            parent: true
            resource: Cloudresourcemanager/Project
          x-kubernetes-immutable: true
        serviceEndpoint:
          description: Output only. Endpoint on which the Data Fusion UI is accessible.
          readOnly: true
          type: string
          x-dcl-go-name: ServiceEndpoint
          x-kubernetes-immutable: true
        state:
          description: 'Output only. The current state of this Data Fusion instance.
            Possible values: STATE_UNSPECIFIED, ENABLED, DISABLED, UNKNOWN'
          enum:
          - STATE_UNSPECIFIED
          - ENABLED
          - DISABLED
          - UNKNOWN
          readOnly: true
          type: string
          x-dcl-go-name: State
          x-dcl-go-type: InstanceStateEnum
          x-kubernetes-immutable: true
        stateMessage:
          description: Output only. Additional information about the current state
            of this Data Fusion instance if available.
          readOnly: true
          type: string
          x-dcl-go-name: StateMessage
          x-kubernetes-immutable: true
        tenantProjectId:
          description: Output only. The name of the tenant project.
          readOnly: true
          type: string
          x-dcl-go-name: TenantProjectId
          x-dcl-references:
          - field: name
            resource: Cloudresourcemanager/Project
          x-kubernetes-immutable: true
        type:
          description: 'Required. Instance type. Possible values: TYPE_UNSPECIFIED,
            BASIC, ENTERPRISE, DEVELOPER'
          enum:
          - TYPE_UNSPECIFIED
          - BASIC
          - ENTERPRISE
          - DEVELOPER
          type: string
          x-dcl-go-name: Type
          x-dcl-go-type: InstanceTypeEnum
        updateTime:
          description: Output only. The time the instance was last updated.
          format: date-time
          readOnly: true
          type: string
          x-dcl-go-name: UpdateTime
          x-kubernetes-immutable: true
        version:
          description: Current version of the Data Fusion. Only specifiable in Update.
          type: string
          x-dcl-go-name: Version
        zone:
          description: Name of the zone in which the Data Fusion instance will be
            created. Only DEVELOPER instances use this field.
          type: string
          x-dcl-go-name: Zone
      required:
      - name
      - type
      - project
      - location
      title: Instance
      type: object
      x-dcl-id: projects/{{project}}/locations/{{location}}/instances/{{name}}
      x-dcl-labels: labels
      x-dcl-locations:
      - zone
      x-dcl-parent-container: project
      x-dcl-uses-state-hint: false
info:
  description: DCL Specification for the Datafusion Instance resource
  title: Datafusion/Instance
  x-dcl-has-iam: false
paths:
  apply:
    description: The function used to apply information about a Instance
    parameters:
    - description: A full instance of a Instance
      name: Instance
      required: true
  delete:
    description: The function used to delete a Instance
    parameters:
    - description: A full instance of a Instance
      name: Instance
      required: true
  deleteAll:
    description: The function used to delete all Instance
    parameters:
    - name: project
      required: true
      schema:
        type: string
    - name: location
      required: true
      schema:
        type: string
  get:
    description: The function used to get information about a Instance
    parameters:
    - description: A full instance of a Instance
      name: Instance
      required: true
  list:
    description: The function used to list information about many Instance
    parameters:
    - name: project
      required: true
      schema:
        type: string
    - name: location
      required: true
      schema:
        type: string
