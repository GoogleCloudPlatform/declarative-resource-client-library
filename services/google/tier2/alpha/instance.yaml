# Copyright 2021 Google LLC. All Rights Reserved.
# 
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
# 
#     http://www.apache.org/licenses/LICENSE-2.0
# 
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
info:
  title: Tier2/Instance
  description: DCL Specification for the Tier2 Instance resource
  x-dcl-has-iam: false
paths:
  get:
    description: The function used to get information about a Instance
    parameters:
    - name: Instance
      required: true
      description: A full instance of a Instance
  apply:
    description: The function used to apply information about a Instance
    parameters:
    - name: Instance
      required: true
      description: A full instance of a Instance
  delete:
    description: The function used to delete a Instance
    parameters:
    - name: Instance
      required: true
      description: A full instance of a Instance
  deleteAll:
    description: The function used to delete all Instance
    parameters:
    - name: project
      required: true
      schema:
        type: string
    - name: location
      required: true
      schema:
        type: string
  list:
    description: The function used to list information about many Instance
    parameters:
    - name: project
      required: true
      schema:
        type: string
    - name: location
      required: true
      schema:
        type: string
components:
  schemas:
    Googleprotobufstruct:
      type: object
      x-dcl-go-name: ApiAttrs
      x-dcl-go-type: InstanceGoogleprotobufstruct
      description: The values of attributes to be provided for condition evaluation
        when checking policy. The name of the attribute has to be unique within a
        service and is using the format {service-fully-qualified-name}/{attribute-name},
        e.g. 'compute.googleapis.com/loadBalancingScheme' for passing the load balancing
        scheme in a forwarding rule to IAM. See tech.iam.SYSContext.api_attrs for
        more context.
      x-kubernetes-immutable: true
    Instance:
      title: Instance
      x-dcl-id: projects/{{project}}/locations/{{location}}/instances/{{name}}
      x-dcl-locations:
      - zone
      x-dcl-parent-container: project
      x-dcl-labels: labels
      type: object
      required:
      - name
      - project
      - location
      properties:
        alternativeZone:
          type: string
          x-dcl-go-name: AlternativeZone
          description: Alternative zone.
        authorizedNetworkId:
          type: string
          x-dcl-go-name: AuthorizedNetworkId
          description: The name of the (/compute/docs/networks-and-firewalls#networks)
            to which the instance is connected. If left unspecified, the `default`
            network will be used.
        createRecipe:
          type: object
          x-dcl-go-name: CreateRecipe
          x-dcl-go-type: InstanceCreateRecipe
          properties:
            delayToStoreResourcesInClhDbNanos:
              type: integer
              format: int64
              x-dcl-go-name: DelayToStoreResourcesInClhDbNanos
              description: Amount of time (in nanoseconds) takes for clh to store
                the resources listed in resource_names_stored_in_clh_with_delay in
                its DB and then return 200. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after that it will work normally. resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.
            honorCancelRequest:
              type: boolean
              x-dcl-go-name: HonorCancelRequest
              description: When set to true, CLH will return CANCELLED status on DONE
                if CCFE passed the cancellation bit.
            ignoreRecipeAfter:
              type: integer
              format: int64
              x-dcl-go-name: IgnoreRecipeAfter
              description: Absolute time (in nanoseconds) that specifies (if non-zero)
                after which this recipe should be ignored and not executed.
            populateOperationResult:
              type: boolean
              x-dcl-go-name: PopulateOperationResult
              description: When set to true, CLH will populate the Operation.Result,
                Operation.Result is optional and if it's not populated CCFE will use
                resourceViews to populate it.
            readonlyRecipeStartTime:
              type: string
              format: date-time
              x-dcl-go-name: ReadonlyRecipeStartTime
              description: Usually recipe start_time is calculated by operation.start_time
                but in readonly requests we won't have that, this field will act as
                an override for recipe start_time.
            resourceNamesStoredInClhWithDelay:
              type: array
              x-dcl-go-name: ResourceNamesStoredInClhWithDelay
              description: 'Resource names listed here will be returned to CCFE with
                resource_status=NOT_FOUND, instructing CCFE not to return them as
                part of Get/List calls. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                it will work normally and return the resource. example usage: resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.'
              x-dcl-list-type: list
              items:
                type: string
                x-dcl-go-type: string
            steps:
              type: array
              x-dcl-go-name: Steps
              x-dcl-list-type: list
              items:
                type: object
                x-dcl-go-type: InstanceCreateRecipeSteps
                properties:
                  action:
                    type: string
                    x-dcl-go-name: Action
                    x-dcl-go-type: InstanceCreateRecipeStepsActionEnum
                    description: 'Action to perform. Possible values: NO_ACTION, ALLOW,
                      ALLOW_WITH_LOG, DENY, DENY_WITH_LOG, LOG'
                    enum:
                    - NO_ACTION
                    - ALLOW
                    - ALLOW_WITH_LOG
                    - DENY
                    - DENY_WITH_LOG
                    - LOG
                  clhDataUpdateTime:
                    type: string
                    format: date-time
                    x-dcl-go-name: ClhDataUpdateTime
                    description: Optional timestamp simulating a write to a CLH-owned
                      database.
                  description:
                    type: string
                    x-dcl-go-name: Description
                    description: Description to store in CLHCallHistory history. Defaults
                      to a string provided by CLH (typically RPC name with parameters).
                  errorSpace:
                    type: string
                    x-dcl-go-name: ErrorSpace
                    description: If not empty, causes returned error to be in the
                      specified space.
                  keyNotificationsUpdate:
                    type: object
                    x-dcl-go-name: KeyNotificationsUpdate
                    x-dcl-go-type: InstanceCreateRecipeStepsKeyNotificationsUpdate
                    description: Optional update to be applied to the key_notifications
                      field (which KMS keys to watch and how to watch them).
                    properties:
                      keyNotificationsInfo:
                        type: object
                        x-dcl-go-name: KeyNotificationsInfo
                        x-dcl-go-type: InstanceCreateRecipeStepsKeyNotificationsUpdateKeyNotificationsInfo
                        properties:
                          dataVersion:
                            type: integer
                            format: int64
                            x-dcl-go-name: DataVersion
                            description: The version number of this configuration.
                              Any update is only applied if a new watched key has
                              a higher version number than the current watched key
                          delegate:
                            type: string
                            x-dcl-go-name: Delegate
                            description: 'The MDB role to delegate KMS grant to so
                              CCFE can register the key to be watched on behalf of
                              the CLH. Should be of the format: "serviceaccount:@prod.google.com"
                              This field will always be populated by CCFE and cannot
                              be updated by the CLH.'
                          keyNotificationConfigs:
                            type: array
                            x-dcl-go-name: KeyNotificationConfigs
                            description: The keys, if any, about which notifications
                              should be sent, along with any configuration options
                              controlling notification behavior. If absent, all the
                              watched keys are unregistered.
                            x-dcl-list-type: list
                            items:
                              type: object
                              x-dcl-go-type: InstanceCreateRecipeStepsKeyNotificationsUpdateKeyNotificationsInfoKeyNotificationConfigs
                              properties:
                                delegatorGaiaId:
                                  type: integer
                                  format: int64
                                  x-dcl-go-name: DelegatorGaiaId
                                  description: The gaia id of the p4sa used as the
                                    delegator in the call to DelegateGrant.
                                grant:
                                  type: string
                                  x-dcl-go-name: Grant
                                  description: The grant that gives CCFE access to
                                    check key state. This should be a grant that gives
                                    the user specified in KeyNotificationsInfo.delegate
                                    access to the key (see go/grants-mvp-1pager).
                                keyOrVersionName:
                                  type: string
                                  x-dcl-go-name: KeyOrVersionName
                                  description: The key or version name to watch. This
                                    should not be a grant.
                  p4ServiceAccount:
                    type: string
                    x-dcl-go-name: P4ServiceAccount
                    description: If not empty, instruct CLH to assert the p4 service
                      account passed in projects metadata. Note this action is not
                      supported in hermetic envs.
                  permissionsInfo:
                    type: array
                    x-dcl-go-name: PermissionsInfo
                    description: permission info list to be requested
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstanceCreateRecipeStepsPermissionsInfo
                      properties:
                        apiAttrs:
                          $ref: '#/components/schemas/Googleprotobufstruct'
                          x-dcl-go-name: ApiAttrs
                        iamPermissions:
                          type: array
                          x-dcl-go-name: IamPermissions
                          description: Contains the iam permission.
                          x-dcl-list-type: list
                          items:
                            type: object
                            x-dcl-go-type: InstanceCreateRecipeStepsPermissionsInfoIamPermissions
                            properties:
                              permission:
                                type: string
                                x-dcl-go-name: Permission
                                description: It represents iam permission, for example
                                  "arcus2tier2.instance.create". It cannot be empty
                                  or "iam.permissions.none".
                        policyName:
                          type: object
                          x-dcl-go-name: PolicyName
                          x-dcl-go-type: InstanceCreateRecipeStepsPermissionsInfoPolicyName
                          description: PolicyName contains the policy id and type.
                          properties:
                            id:
                              type: string
                              x-dcl-go-name: Id
                              description: Identifies an instance of the type. ID
                                format varies by type. The ID format is defined in
                                the IAM .service file that defines the type, either
                                in path_mapping or in a comment.
                            region:
                              type: string
                              x-dcl-go-name: Region
                              description: 'For Cloud IAM: The location of the Policy.
                                Must be empty or "global" for Policies owned by global
                                IAM. Must name a region from prodspec/cloud-iam-cloudspec
                                for Regional IAM Policies, see go/iam-faq#where-is-iam-currently-deployed.
                                For Local IAM: This field should be set to "local".'
                            type:
                              type: string
                              x-dcl-go-name: Type
                              description: 'Resource type. Types are defined in IAM''s
                                .service files. Valid values for type might be ''gce'',
                                ''gcs'', ''project'', ''account'' etc. TODO(b/112599007):
                                annotate this as holding the resource scope when that
                                is supported'
                        resourcePath:
                          type: string
                          x-dcl-go-name: ResourcePath
                          description: ResourcePath is used for cloud audit logging.
                            ResourcePath is also used for constructing the permission
                            denied error message when permission is denied. If resource_path
                            is provided, permission denied error message would be
                            "Permission X denied on resource Y" else error message
                            would be "Permission X denied on resource (or it may not
                            exist)".
                  preprocessUpdate:
                    type: object
                    x-dcl-go-name: PreprocessUpdate
                    x-dcl-go-type: InstanceCreateRecipeStepsPreprocessUpdate
                    description: Optional update to be applied to the operation metadata
                      update if the recipe needs to initialize the operation metadata
                      during preprocess
                    properties:
                      latencySloBucketName:
                        type: string
                        x-dcl-go-name: LatencySloBucketName
                      publicOperationMetadata:
                        type: string
                        x-dcl-go-name: PublicOperationMetadata
                        description: Optional public operation metadata to be returned
                          by Preprocess calls LROs. The value must be serialized using
                          the protojson.AnyToString. CLH recipe code will de-serialize
                          it using the protojson.StringToAny.
                  publicErrorMessage:
                    type: string
                    x-dcl-go-name: PublicErrorMessage
                    description: Public error message specified by CLH.
                  publicOperationMetadata:
                    type: string
                    x-dcl-go-name: PublicOperationMetadata
                    description: Optional public operation metadata to be returned
                      by Apply calls LROs. The value must be serialized using the
                      protojson.AnyToString. CLH recipe code will de-serialize it
                      using the protojson.StringToAny.
                  quotaRequestDeltas:
                    type: array
                    x-dcl-go-name: QuotaRequestDeltas
                    description: The quota usage delta to be charged. NOT an absolute
                      Desired number, but rather a delta.
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstanceCreateRecipeStepsQuotaRequestDeltas
                      properties:
                        amount:
                          type: integer
                          format: int64
                          x-dcl-go-name: Amount
                          description: How much quota is charged by the given resource.
                        metricName:
                          type: string
                          x-dcl-go-name: MetricName
                          description: The name of the metric to charge.
                  relativeTime:
                    type: integer
                    format: int64
                    x-dcl-go-name: RelativeTime
                    description: Relative time (in nanoseconds) after which the step
                      is to be run. The time is measured from the start of the operation.
                  requestedTenantProject:
                    type: object
                    x-dcl-go-name: RequestedTenantProject
                    x-dcl-go-type: InstanceCreateRecipeStepsRequestedTenantProject
                    description: The tenant project to be requested.
                    properties:
                      folder:
                        type: string
                        x-dcl-go-name: Folder
                        description: Folder where to create this tenannt project.
                          This field will override the corresponding field in TenantProjectConfig
                          (google3/google/api/serviceconsumermanagement/v1/tenancy.proto).
                          With this filed configured dynamicly, tenants can create
                          per-region tenant project pool.
                        x-dcl-references:
                        - resource: Cloudresourcemanager/Folder
                          field: name
                      scope:
                        type: string
                        x-dcl-go-name: Scope
                        x-dcl-go-type: InstanceCreateRecipeStepsRequestedTenantProjectScopeEnum
                        description: 'The scope of the tenant project. Note that if
                          the tenant project tag is "default", it''s automatically
                          treated as scope = PROJECT unless specified otherwise. Possible
                          values: UNKNOWN_SCOPE, PROJECT, RESOURCE'
                        enum:
                        - UNKNOWN_SCOPE
                        - PROJECT
                        - RESOURCE
                      tag:
                        type: string
                        x-dcl-go-name: Tag
                        description: A tenant project tag. This is the same tag that
                          is used by Tenancy Units API to identify a tenant project.
                          It is unique within a specific Tenancy Unit. CLH should
                          use a deterministic algorithm to generate a tag. For ex.,
                          if service needs a tenant project per consumer network,
                          consumer network name can be used to generate a tag. For
                          ex., if consumer network name is "my-network", a tag could
                          be "sn-my-network". Prefix "sn-" is used here, but CLH can
                          use any prefix they like as long as it does not change from
                          request to request. If a tenant project with tag "sn-my-network"
                          is requested, CCFE will check if a tenant project with such
                          a tag already exists. If it does, CCFE will reuses it. Otherwise
                          CCFE will create a new tenant project.
                  resourceMetadataSize:
                    type: integer
                    format: int64
                    x-dcl-go-name: ResourceMetadataSize
                    description: size of resource metadata that CL should return
                  sleepDuration:
                    type: integer
                    format: int64
                    x-dcl-go-name: SleepDuration
                    description: Amount of time (in nanoseconds) to sleep for when
                      the step runs.
                  status:
                    type: object
                    x-dcl-go-name: Status
                    x-dcl-go-type: InstanceCreateRecipeStepsStatus
                    properties:
                      code:
                        type: integer
                        format: int64
                        x-dcl-go-name: Code
                        description: The status code, which should be an enum value
                          of .
                      details:
                        type: array
                        x-dcl-go-name: Details
                        description: A list of messages that carry the error details.
                          There is a common set of message types for APIs to use.
                        x-dcl-list-type: list
                        items:
                          type: object
                          x-dcl-go-type: InstanceCreateRecipeStepsStatusDetails
                          properties:
                            typeUrl:
                              type: string
                              x-dcl-go-name: TypeUrl
                              description: 'A URL/resource name that uniquely identifies
                                the type of the serialized protocol buffer message.
                                This string must contain at least one "/" character.
                                The last segment of the URL''s path must represent
                                the fully qualified name of the type (as in `path/google.protobuf.Duration`).
                                The name should be in a canonical form (e.g., leading
                                "." is not accepted). In practice, teams usually precompile
                                into the binary all types that they expect it to use
                                in the context of Any. However, for URLs which use
                                the scheme `http`, `https`, or no scheme, one can
                                optionally set up a type server that maps type URLs
                                to message definitions as follows: * If no scheme
                                is provided, `https` is assumed. * An HTTP GET on
                                the URL must yield a value in binary format, or produce
                                an error. * Applications are allowed to cache lookup
                                results based on the URL, or have them precompiled
                                into a binary to avoid any lookup. Therefore, binary
                                compatibility needs to be preserved on changes to
                                types. (Use versioned type names to manage breaking
                                changes.) Note: this functionality is not currently
                                available in the official protobuf release, and it
                                is not used for type URLs beginning with type.googleapis.com.
                                Schemes other than `http`, `https` (or the empty scheme)
                                might be used with implementation specific semantics.'
                            value:
                              type: string
                              x-dcl-go-name: Value
                              description: Must be a valid serialized protocol buffer
                                of the above specified type.
                      message:
                        type: string
                        x-dcl-go-name: Message
                        description: A developer-facing error message, which should
                          be in English. Any user-facing error message should be localized
                          and sent in the field, or localized by the client.
                  updatedRepeatOperationDelaySec:
                    type: number
                    format: double
                    x-dcl-go-name: UpdatedRepeatOperationDelaySec
                    description: Updated repeat_operation_delay_sec in the operation
                      metadata.
            verifyDeadlineSecondsBelow:
              type: number
              format: double
              x-dcl-go-name: VerifyDeadlineSecondsBelow
              description: When set, CLH will verify that the RPC deadline (in seconds)
                is less than the value set in the field.
        createTime:
          type: string
          format: date-time
          x-dcl-go-name: CreateTime
          readOnly: true
          description: The time the instance was created.
          x-kubernetes-immutable: true
        currentZone:
          type: string
          x-dcl-go-name: CurrentZone
          readOnly: true
          description: The current zone of the instance.
          x-kubernetes-immutable: true
        deleteRecipe:
          type: object
          x-dcl-go-name: DeleteRecipe
          x-dcl-go-type: InstanceDeleteRecipe
          properties:
            delayToStoreResourcesInClhDbNanos:
              type: integer
              format: int64
              x-dcl-go-name: DelayToStoreResourcesInClhDbNanos
              description: Amount of time (in nanoseconds) takes for clh to store
                the resources listed in resource_names_stored_in_clh_with_delay in
                its DB and then return 200. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after that it will work normally. resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.
            honorCancelRequest:
              type: boolean
              x-dcl-go-name: HonorCancelRequest
              description: When set to true, CLH will return CANCELLED status on DONE
                if CCFE passed the cancellation bit.
            ignoreRecipeAfter:
              type: integer
              format: int64
              x-dcl-go-name: IgnoreRecipeAfter
              description: Absolute time (in nanoseconds) that specifies (if non-zero)
                after which this recipe should be ignored and not executed.
            populateOperationResult:
              type: boolean
              x-dcl-go-name: PopulateOperationResult
              description: When set to true, CLH will populate the Operation.Result,
                Operation.Result is optional and if it's not populated CCFE will use
                resourceViews to populate it.
            readonlyRecipeStartTime:
              type: string
              format: date-time
              x-dcl-go-name: ReadonlyRecipeStartTime
              description: Usually recipe start_time is calculated by operation.start_time
                but in readonly requests we won't have that, this field will act as
                an override for recipe start_time.
            resourceNamesStoredInClhWithDelay:
              type: array
              x-dcl-go-name: ResourceNamesStoredInClhWithDelay
              description: 'Resource names listed here will be returned to CCFE with
                resource_status=NOT_FOUND, instructing CCFE not to return them as
                part of Get/List calls. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                it will work normally and return the resource. example usage: resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.'
              x-dcl-list-type: list
              items:
                type: string
                x-dcl-go-type: string
            steps:
              type: array
              x-dcl-go-name: Steps
              x-dcl-list-type: list
              items:
                type: object
                x-dcl-go-type: InstanceDeleteRecipeSteps
                properties:
                  action:
                    type: string
                    x-dcl-go-name: Action
                    x-dcl-go-type: InstanceDeleteRecipeStepsActionEnum
                    description: 'Action to perform. Possible values: NO_ACTION, ALLOW,
                      ALLOW_WITH_LOG, DENY, DENY_WITH_LOG, LOG'
                    enum:
                    - NO_ACTION
                    - ALLOW
                    - ALLOW_WITH_LOG
                    - DENY
                    - DENY_WITH_LOG
                    - LOG
                  clhDataUpdateTime:
                    type: string
                    format: date-time
                    x-dcl-go-name: ClhDataUpdateTime
                    description: Optional timestamp simulating a write to a CLH-owned
                      database.
                  description:
                    type: string
                    x-dcl-go-name: Description
                    description: Description to store in CLHCallHistory history. Defaults
                      to a string provided by CLH (typically RPC name with parameters).
                  errorSpace:
                    type: string
                    x-dcl-go-name: ErrorSpace
                    description: If not empty, causes returned error to be in the
                      specified space.
                  keyNotificationsUpdate:
                    type: object
                    x-dcl-go-name: KeyNotificationsUpdate
                    x-dcl-go-type: InstanceDeleteRecipeStepsKeyNotificationsUpdate
                    description: Optional update to be applied to the key_notifications
                      field (which KMS keys to watch and how to watch them).
                    properties:
                      keyNotificationsInfo:
                        type: object
                        x-dcl-go-name: KeyNotificationsInfo
                        x-dcl-go-type: InstanceDeleteRecipeStepsKeyNotificationsUpdateKeyNotificationsInfo
                        properties:
                          dataVersion:
                            type: integer
                            format: int64
                            x-dcl-go-name: DataVersion
                            description: The version number of this configuration.
                              Any update is only applied if a new watched key has
                              a higher version number than the current watched key
                          delegate:
                            type: string
                            x-dcl-go-name: Delegate
                            description: 'The MDB role to delegate KMS grant to so
                              CCFE can register the key to be watched on behalf of
                              the CLH. Should be of the format: "serviceaccount:@prod.google.com"
                              This field will always be populated by CCFE and cannot
                              be updated by the CLH.'
                          keyNotificationConfigs:
                            type: array
                            x-dcl-go-name: KeyNotificationConfigs
                            description: The keys, if any, about which notifications
                              should be sent, along with any configuration options
                              controlling notification behavior. If absent, all the
                              watched keys are unregistered.
                            x-dcl-list-type: list
                            items:
                              type: object
                              x-dcl-go-type: InstanceDeleteRecipeStepsKeyNotificationsUpdateKeyNotificationsInfoKeyNotificationConfigs
                              properties:
                                delegatorGaiaId:
                                  type: integer
                                  format: int64
                                  x-dcl-go-name: DelegatorGaiaId
                                  description: The gaia id of the p4sa used as the
                                    delegator in the call to DelegateGrant.
                                grant:
                                  type: string
                                  x-dcl-go-name: Grant
                                  description: The grant that gives CCFE access to
                                    check key state. This should be a grant that gives
                                    the user specified in KeyNotificationsInfo.delegate
                                    access to the key (see go/grants-mvp-1pager).
                                keyOrVersionName:
                                  type: string
                                  x-dcl-go-name: KeyOrVersionName
                                  description: The key or version name to watch. This
                                    should not be a grant.
                  p4ServiceAccount:
                    type: string
                    x-dcl-go-name: P4ServiceAccount
                    description: If not empty, instruct CLH to assert the p4 service
                      account passed in projects metadata. Note this action is not
                      supported in hermetic envs.
                  permissionsInfo:
                    type: array
                    x-dcl-go-name: PermissionsInfo
                    description: permission info list to be requested
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstanceDeleteRecipeStepsPermissionsInfo
                      properties:
                        apiAttrs:
                          $ref: '#/components/schemas/Googleprotobufstruct'
                          x-dcl-go-name: ApiAttrs
                        iamPermissions:
                          type: array
                          x-dcl-go-name: IamPermissions
                          description: Contains the iam permission.
                          x-dcl-list-type: list
                          items:
                            type: object
                            x-dcl-go-type: InstanceDeleteRecipeStepsPermissionsInfoIamPermissions
                            properties:
                              permission:
                                type: string
                                x-dcl-go-name: Permission
                                description: It represents iam permission, for example
                                  "arcus2tier2.instance.create". It cannot be empty
                                  or "iam.permissions.none".
                        policyName:
                          type: object
                          x-dcl-go-name: PolicyName
                          x-dcl-go-type: InstanceDeleteRecipeStepsPermissionsInfoPolicyName
                          description: PolicyName contains the policy id and type.
                          properties:
                            id:
                              type: string
                              x-dcl-go-name: Id
                              description: Identifies an instance of the type. ID
                                format varies by type. The ID format is defined in
                                the IAM .service file that defines the type, either
                                in path_mapping or in a comment.
                            region:
                              type: string
                              x-dcl-go-name: Region
                              description: 'For Cloud IAM: The location of the Policy.
                                Must be empty or "global" for Policies owned by global
                                IAM. Must name a region from prodspec/cloud-iam-cloudspec
                                for Regional IAM Policies, see go/iam-faq#where-is-iam-currently-deployed.
                                For Local IAM: This field should be set to "local".'
                            type:
                              type: string
                              x-dcl-go-name: Type
                              description: 'Resource type. Types are defined in IAM''s
                                .service files. Valid values for type might be ''gce'',
                                ''gcs'', ''project'', ''account'' etc. TODO(b/112599007):
                                annotate this as holding the resource scope when that
                                is supported'
                        resourcePath:
                          type: string
                          x-dcl-go-name: ResourcePath
                          description: ResourcePath is used for cloud audit logging.
                            ResourcePath is also used for constructing the permission
                            denied error message when permission is denied. If resource_path
                            is provided, permission denied error message would be
                            "Permission X denied on resource Y" else error message
                            would be "Permission X denied on resource (or it may not
                            exist)".
                  preprocessUpdate:
                    type: object
                    x-dcl-go-name: PreprocessUpdate
                    x-dcl-go-type: InstanceDeleteRecipeStepsPreprocessUpdate
                    description: Optional update to be applied to the operation metadata
                      update if the recipe needs to initialize the operation metadata
                      during preprocess
                    properties:
                      latencySloBucketName:
                        type: string
                        x-dcl-go-name: LatencySloBucketName
                      publicOperationMetadata:
                        type: string
                        x-dcl-go-name: PublicOperationMetadata
                        description: Optional public operation metadata to be returned
                          by Preprocess calls LROs. The value must be serialized using
                          the protojson.AnyToString. CLH recipe code will de-serialize
                          it using the protojson.StringToAny.
                  publicErrorMessage:
                    type: string
                    x-dcl-go-name: PublicErrorMessage
                    description: Public error message specified by CLH.
                  publicOperationMetadata:
                    type: string
                    x-dcl-go-name: PublicOperationMetadata
                    description: Optional public operation metadata to be returned
                      by Apply calls LROs. The value must be serialized using the
                      protojson.AnyToString. CLH recipe code will de-serialize it
                      using the protojson.StringToAny.
                  quotaRequestDeltas:
                    type: array
                    x-dcl-go-name: QuotaRequestDeltas
                    description: The quota usage delta to be charged. NOT an absolute
                      Desired number, but rather a delta.
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstanceDeleteRecipeStepsQuotaRequestDeltas
                      properties:
                        amount:
                          type: integer
                          format: int64
                          x-dcl-go-name: Amount
                          description: How much quota is charged by the given resource.
                        metricName:
                          type: string
                          x-dcl-go-name: MetricName
                          description: The name of the metric to charge.
                  relativeTime:
                    type: integer
                    format: int64
                    x-dcl-go-name: RelativeTime
                    description: Relative time (in nanoseconds) after which the step
                      is to be run. The time is measured from the start of the operation.
                  requestedTenantProject:
                    type: object
                    x-dcl-go-name: RequestedTenantProject
                    x-dcl-go-type: InstanceDeleteRecipeStepsRequestedTenantProject
                    description: The tenant project to be requested.
                    properties:
                      folder:
                        type: string
                        x-dcl-go-name: Folder
                        description: Folder where to create this tenannt project.
                          This field will override the corresponding field in TenantProjectConfig
                          (google3/google/api/serviceconsumermanagement/v1/tenancy.proto).
                          With this filed configured dynamicly, tenants can create
                          per-region tenant project pool.
                        x-dcl-references:
                        - resource: Cloudresourcemanager/Folder
                          field: name
                      scope:
                        type: string
                        x-dcl-go-name: Scope
                        x-dcl-go-type: InstanceDeleteRecipeStepsRequestedTenantProjectScopeEnum
                        description: 'The scope of the tenant project. Note that if
                          the tenant project tag is "default", it''s automatically
                          treated as scope = PROJECT unless specified otherwise. Possible
                          values: UNKNOWN_SCOPE, PROJECT, RESOURCE'
                        enum:
                        - UNKNOWN_SCOPE
                        - PROJECT
                        - RESOURCE
                      tag:
                        type: string
                        x-dcl-go-name: Tag
                        description: A tenant project tag. This is the same tag that
                          is used by Tenancy Units API to identify a tenant project.
                          It is unique within a specific Tenancy Unit. CLH should
                          use a deterministic algorithm to generate a tag. For ex.,
                          if service needs a tenant project per consumer network,
                          consumer network name can be used to generate a tag. For
                          ex., if consumer network name is "my-network", a tag could
                          be "sn-my-network". Prefix "sn-" is used here, but CLH can
                          use any prefix they like as long as it does not change from
                          request to request. If a tenant project with tag "sn-my-network"
                          is requested, CCFE will check if a tenant project with such
                          a tag already exists. If it does, CCFE will reuses it. Otherwise
                          CCFE will create a new tenant project.
                  resourceMetadataSize:
                    type: integer
                    format: int64
                    x-dcl-go-name: ResourceMetadataSize
                    description: size of resource metadata that CL should return
                  sleepDuration:
                    type: integer
                    format: int64
                    x-dcl-go-name: SleepDuration
                    description: Amount of time (in nanoseconds) to sleep for when
                      the step runs.
                  status:
                    type: object
                    x-dcl-go-name: Status
                    x-dcl-go-type: InstanceDeleteRecipeStepsStatus
                    properties:
                      code:
                        type: integer
                        format: int64
                        x-dcl-go-name: Code
                        description: The status code, which should be an enum value
                          of .
                      details:
                        type: array
                        x-dcl-go-name: Details
                        description: A list of messages that carry the error details.
                          There is a common set of message types for APIs to use.
                        x-dcl-list-type: list
                        items:
                          type: object
                          x-dcl-go-type: InstanceDeleteRecipeStepsStatusDetails
                          properties:
                            typeUrl:
                              type: string
                              x-dcl-go-name: TypeUrl
                              description: 'A URL/resource name that uniquely identifies
                                the type of the serialized protocol buffer message.
                                This string must contain at least one "/" character.
                                The last segment of the URL''s path must represent
                                the fully qualified name of the type (as in `path/google.protobuf.Duration`).
                                The name should be in a canonical form (e.g., leading
                                "." is not accepted). In practice, teams usually precompile
                                into the binary all types that they expect it to use
                                in the context of Any. However, for URLs which use
                                the scheme `http`, `https`, or no scheme, one can
                                optionally set up a type server that maps type URLs
                                to message definitions as follows: * If no scheme
                                is provided, `https` is assumed. * An HTTP GET on
                                the URL must yield a value in binary format, or produce
                                an error. * Applications are allowed to cache lookup
                                results based on the URL, or have them precompiled
                                into a binary to avoid any lookup. Therefore, binary
                                compatibility needs to be preserved on changes to
                                types. (Use versioned type names to manage breaking
                                changes.) Note: this functionality is not currently
                                available in the official protobuf release, and it
                                is not used for type URLs beginning with type.googleapis.com.
                                Schemes other than `http`, `https` (or the empty scheme)
                                might be used with implementation specific semantics.'
                            value:
                              type: string
                              x-dcl-go-name: Value
                              description: Must be a valid serialized protocol buffer
                                of the above specified type.
                      message:
                        type: string
                        x-dcl-go-name: Message
                        description: A developer-facing error message, which should
                          be in English. Any user-facing error message should be localized
                          and sent in the field, or localized by the client.
                  updatedRepeatOperationDelaySec:
                    type: number
                    format: double
                    x-dcl-go-name: UpdatedRepeatOperationDelaySec
                    description: Updated repeat_operation_delay_sec in the operation
                      metadata.
            verifyDeadlineSecondsBelow:
              type: number
              format: double
              x-dcl-go-name: VerifyDeadlineSecondsBelow
              description: When set, CLH will verify that the RPC deadline (in seconds)
                is less than the value set in the field.
        displayName:
          type: string
          x-dcl-go-name: DisplayName
          description: An arbitrary and optional user provided name for the instance.
        enableCallHistory:
          type: boolean
          x-dcl-go-name: EnableCallHistory
          description: Enables call history for recipe steps.
        etag:
          type: string
          x-dcl-go-name: Etag
          readOnly: true
          description: This checksum is computed by the server based on the value
            of other fields, and may be sent on update and delete requests to ensure
            the client has an up-to-date value before proceeding.
          x-kubernetes-immutable: true
        extraInfo:
          type: string
          x-dcl-go-name: ExtraInfo
          readOnly: true
          description: extra info are returned when user choose FULL view in GetInstance
            request. It is demo for partial response.
          x-kubernetes-immutable: true
        freezeRecipe:
          type: object
          x-dcl-go-name: FreezeRecipe
          x-dcl-go-type: InstanceFreezeRecipe
          properties:
            delayToStoreResourcesInClhDbNanos:
              type: integer
              format: int64
              x-dcl-go-name: DelayToStoreResourcesInClhDbNanos
              description: Amount of time (in nanoseconds) takes for clh to store
                the resources listed in resource_names_stored_in_clh_with_delay in
                its DB and then return 200. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after that it will work normally. resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.
            honorCancelRequest:
              type: boolean
              x-dcl-go-name: HonorCancelRequest
              description: When set to true, CLH will return CANCELLED status on DONE
                if CCFE passed the cancellation bit.
            ignoreRecipeAfter:
              type: integer
              format: int64
              x-dcl-go-name: IgnoreRecipeAfter
              description: Absolute time (in nanoseconds) that specifies (if non-zero)
                after which this recipe should be ignored and not executed.
            populateOperationResult:
              type: boolean
              x-dcl-go-name: PopulateOperationResult
              description: When set to true, CLH will populate the Operation.Result,
                Operation.Result is optional and if it's not populated CCFE will use
                resourceViews to populate it.
            readonlyRecipeStartTime:
              type: string
              format: date-time
              x-dcl-go-name: ReadonlyRecipeStartTime
              description: Usually recipe start_time is calculated by operation.start_time
                but in readonly requests we won't have that, this field will act as
                an override for recipe start_time.
            resourceNamesStoredInClhWithDelay:
              type: array
              x-dcl-go-name: ResourceNamesStoredInClhWithDelay
              description: 'Resource names listed here will be returned to CCFE with
                resource_status=NOT_FOUND, instructing CCFE not to return them as
                part of Get/List calls. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                it will work normally and return the resource. example usage: resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.'
              x-dcl-list-type: list
              items:
                type: string
                x-dcl-go-type: string
            steps:
              type: array
              x-dcl-go-name: Steps
              x-dcl-list-type: list
              items:
                type: object
                x-dcl-go-type: InstanceFreezeRecipeSteps
                properties:
                  action:
                    type: string
                    x-dcl-go-name: Action
                    x-dcl-go-type: InstanceFreezeRecipeStepsActionEnum
                    description: 'Action to perform. Possible values: NO_ACTION, ALLOW,
                      ALLOW_WITH_LOG, DENY, DENY_WITH_LOG, LOG'
                    enum:
                    - NO_ACTION
                    - ALLOW
                    - ALLOW_WITH_LOG
                    - DENY
                    - DENY_WITH_LOG
                    - LOG
                  clhDataUpdateTime:
                    type: string
                    format: date-time
                    x-dcl-go-name: ClhDataUpdateTime
                    description: Optional timestamp simulating a write to a CLH-owned
                      database.
                  description:
                    type: string
                    x-dcl-go-name: Description
                    description: Description to store in CLHCallHistory history. Defaults
                      to a string provided by CLH (typically RPC name with parameters).
                  errorSpace:
                    type: string
                    x-dcl-go-name: ErrorSpace
                    description: If not empty, causes returned error to be in the
                      specified space.
                  keyNotificationsUpdate:
                    type: object
                    x-dcl-go-name: KeyNotificationsUpdate
                    x-dcl-go-type: InstanceFreezeRecipeStepsKeyNotificationsUpdate
                    description: Optional update to be applied to the key_notifications
                      field (which KMS keys to watch and how to watch them).
                    properties:
                      keyNotificationsInfo:
                        type: object
                        x-dcl-go-name: KeyNotificationsInfo
                        x-dcl-go-type: InstanceFreezeRecipeStepsKeyNotificationsUpdateKeyNotificationsInfo
                        properties:
                          dataVersion:
                            type: integer
                            format: int64
                            x-dcl-go-name: DataVersion
                            description: The version number of this configuration.
                              Any update is only applied if a new watched key has
                              a higher version number than the current watched key
                          delegate:
                            type: string
                            x-dcl-go-name: Delegate
                            description: 'The MDB role to delegate KMS grant to so
                              CCFE can register the key to be watched on behalf of
                              the CLH. Should be of the format: "serviceaccount:@prod.google.com"
                              This field will always be populated by CCFE and cannot
                              be updated by the CLH.'
                          keyNotificationConfigs:
                            type: array
                            x-dcl-go-name: KeyNotificationConfigs
                            description: The keys, if any, about which notifications
                              should be sent, along with any configuration options
                              controlling notification behavior. If absent, all the
                              watched keys are unregistered.
                            x-dcl-list-type: list
                            items:
                              type: object
                              x-dcl-go-type: InstanceFreezeRecipeStepsKeyNotificationsUpdateKeyNotificationsInfoKeyNotificationConfigs
                              properties:
                                delegatorGaiaId:
                                  type: integer
                                  format: int64
                                  x-dcl-go-name: DelegatorGaiaId
                                  description: The gaia id of the p4sa used as the
                                    delegator in the call to DelegateGrant.
                                grant:
                                  type: string
                                  x-dcl-go-name: Grant
                                  description: The grant that gives CCFE access to
                                    check key state. This should be a grant that gives
                                    the user specified in KeyNotificationsInfo.delegate
                                    access to the key (see go/grants-mvp-1pager).
                                keyOrVersionName:
                                  type: string
                                  x-dcl-go-name: KeyOrVersionName
                                  description: The key or version name to watch. This
                                    should not be a grant.
                  p4ServiceAccount:
                    type: string
                    x-dcl-go-name: P4ServiceAccount
                    description: If not empty, instruct CLH to assert the p4 service
                      account passed in projects metadata. Note this action is not
                      supported in hermetic envs.
                  permissionsInfo:
                    type: array
                    x-dcl-go-name: PermissionsInfo
                    description: permission info list to be requested
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstanceFreezeRecipeStepsPermissionsInfo
                      properties:
                        apiAttrs:
                          $ref: '#/components/schemas/Googleprotobufstruct'
                          x-dcl-go-name: ApiAttrs
                        iamPermissions:
                          type: array
                          x-dcl-go-name: IamPermissions
                          description: Contains the iam permission.
                          x-dcl-list-type: list
                          items:
                            type: object
                            x-dcl-go-type: InstanceFreezeRecipeStepsPermissionsInfoIamPermissions
                            properties:
                              permission:
                                type: string
                                x-dcl-go-name: Permission
                                description: It represents iam permission, for example
                                  "arcus2tier2.instance.create". It cannot be empty
                                  or "iam.permissions.none".
                        policyName:
                          type: object
                          x-dcl-go-name: PolicyName
                          x-dcl-go-type: InstanceFreezeRecipeStepsPermissionsInfoPolicyName
                          description: PolicyName contains the policy id and type.
                          properties:
                            id:
                              type: string
                              x-dcl-go-name: Id
                              description: Identifies an instance of the type. ID
                                format varies by type. The ID format is defined in
                                the IAM .service file that defines the type, either
                                in path_mapping or in a comment.
                            region:
                              type: string
                              x-dcl-go-name: Region
                              description: 'For Cloud IAM: The location of the Policy.
                                Must be empty or "global" for Policies owned by global
                                IAM. Must name a region from prodspec/cloud-iam-cloudspec
                                for Regional IAM Policies, see go/iam-faq#where-is-iam-currently-deployed.
                                For Local IAM: This field should be set to "local".'
                            type:
                              type: string
                              x-dcl-go-name: Type
                              description: 'Resource type. Types are defined in IAM''s
                                .service files. Valid values for type might be ''gce'',
                                ''gcs'', ''project'', ''account'' etc. TODO(b/112599007):
                                annotate this as holding the resource scope when that
                                is supported'
                        resourcePath:
                          type: string
                          x-dcl-go-name: ResourcePath
                          description: ResourcePath is used for cloud audit logging.
                            ResourcePath is also used for constructing the permission
                            denied error message when permission is denied. If resource_path
                            is provided, permission denied error message would be
                            "Permission X denied on resource Y" else error message
                            would be "Permission X denied on resource (or it may not
                            exist)".
                  preprocessUpdate:
                    type: object
                    x-dcl-go-name: PreprocessUpdate
                    x-dcl-go-type: InstanceFreezeRecipeStepsPreprocessUpdate
                    description: Optional update to be applied to the operation metadata
                      update if the recipe needs to initialize the operation metadata
                      during preprocess
                    properties:
                      latencySloBucketName:
                        type: string
                        x-dcl-go-name: LatencySloBucketName
                      publicOperationMetadata:
                        type: string
                        x-dcl-go-name: PublicOperationMetadata
                        description: Optional public operation metadata to be returned
                          by Preprocess calls LROs. The value must be serialized using
                          the protojson.AnyToString. CLH recipe code will de-serialize
                          it using the protojson.StringToAny.
                  publicErrorMessage:
                    type: string
                    x-dcl-go-name: PublicErrorMessage
                    description: Public error message specified by CLH.
                  publicOperationMetadata:
                    type: string
                    x-dcl-go-name: PublicOperationMetadata
                    description: Optional public operation metadata to be returned
                      by Apply calls LROs. The value must be serialized using the
                      protojson.AnyToString. CLH recipe code will de-serialize it
                      using the protojson.StringToAny.
                  quotaRequestDeltas:
                    type: array
                    x-dcl-go-name: QuotaRequestDeltas
                    description: The quota usage delta to be charged. NOT an absolute
                      Desired number, but rather a delta.
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstanceFreezeRecipeStepsQuotaRequestDeltas
                      properties:
                        amount:
                          type: integer
                          format: int64
                          x-dcl-go-name: Amount
                          description: How much quota is charged by the given resource.
                        metricName:
                          type: string
                          x-dcl-go-name: MetricName
                          description: The name of the metric to charge.
                  relativeTime:
                    type: integer
                    format: int64
                    x-dcl-go-name: RelativeTime
                    description: Relative time (in nanoseconds) after which the step
                      is to be run. The time is measured from the start of the operation.
                  requestedTenantProject:
                    type: object
                    x-dcl-go-name: RequestedTenantProject
                    x-dcl-go-type: InstanceFreezeRecipeStepsRequestedTenantProject
                    description: The tenant project to be requested.
                    properties:
                      folder:
                        type: string
                        x-dcl-go-name: Folder
                        description: Folder where to create this tenannt project.
                          This field will override the corresponding field in TenantProjectConfig
                          (google3/google/api/serviceconsumermanagement/v1/tenancy.proto).
                          With this filed configured dynamicly, tenants can create
                          per-region tenant project pool.
                        x-dcl-references:
                        - resource: Cloudresourcemanager/Folder
                          field: name
                      scope:
                        type: string
                        x-dcl-go-name: Scope
                        x-dcl-go-type: InstanceFreezeRecipeStepsRequestedTenantProjectScopeEnum
                        description: 'The scope of the tenant project. Note that if
                          the tenant project tag is "default", it''s automatically
                          treated as scope = PROJECT unless specified otherwise. Possible
                          values: UNKNOWN_SCOPE, PROJECT, RESOURCE'
                        enum:
                        - UNKNOWN_SCOPE
                        - PROJECT
                        - RESOURCE
                      tag:
                        type: string
                        x-dcl-go-name: Tag
                        description: A tenant project tag. This is the same tag that
                          is used by Tenancy Units API to identify a tenant project.
                          It is unique within a specific Tenancy Unit. CLH should
                          use a deterministic algorithm to generate a tag. For ex.,
                          if service needs a tenant project per consumer network,
                          consumer network name can be used to generate a tag. For
                          ex., if consumer network name is "my-network", a tag could
                          be "sn-my-network". Prefix "sn-" is used here, but CLH can
                          use any prefix they like as long as it does not change from
                          request to request. If a tenant project with tag "sn-my-network"
                          is requested, CCFE will check if a tenant project with such
                          a tag already exists. If it does, CCFE will reuses it. Otherwise
                          CCFE will create a new tenant project.
                  resourceMetadataSize:
                    type: integer
                    format: int64
                    x-dcl-go-name: ResourceMetadataSize
                    description: size of resource metadata that CL should return
                  sleepDuration:
                    type: integer
                    format: int64
                    x-dcl-go-name: SleepDuration
                    description: Amount of time (in nanoseconds) to sleep for when
                      the step runs.
                  status:
                    type: object
                    x-dcl-go-name: Status
                    x-dcl-go-type: InstanceFreezeRecipeStepsStatus
                    properties:
                      code:
                        type: integer
                        format: int64
                        x-dcl-go-name: Code
                        description: The status code, which should be an enum value
                          of .
                      details:
                        type: array
                        x-dcl-go-name: Details
                        description: A list of messages that carry the error details.
                          There is a common set of message types for APIs to use.
                        x-dcl-list-type: list
                        items:
                          type: object
                          x-dcl-go-type: InstanceFreezeRecipeStepsStatusDetails
                          properties:
                            typeUrl:
                              type: string
                              x-dcl-go-name: TypeUrl
                              description: 'A URL/resource name that uniquely identifies
                                the type of the serialized protocol buffer message.
                                This string must contain at least one "/" character.
                                The last segment of the URL''s path must represent
                                the fully qualified name of the type (as in `path/google.protobuf.Duration`).
                                The name should be in a canonical form (e.g., leading
                                "." is not accepted). In practice, teams usually precompile
                                into the binary all types that they expect it to use
                                in the context of Any. However, for URLs which use
                                the scheme `http`, `https`, or no scheme, one can
                                optionally set up a type server that maps type URLs
                                to message definitions as follows: * If no scheme
                                is provided, `https` is assumed. * An HTTP GET on
                                the URL must yield a value in binary format, or produce
                                an error. * Applications are allowed to cache lookup
                                results based on the URL, or have them precompiled
                                into a binary to avoid any lookup. Therefore, binary
                                compatibility needs to be preserved on changes to
                                types. (Use versioned type names to manage breaking
                                changes.) Note: this functionality is not currently
                                available in the official protobuf release, and it
                                is not used for type URLs beginning with type.googleapis.com.
                                Schemes other than `http`, `https` (or the empty scheme)
                                might be used with implementation specific semantics.'
                            value:
                              type: string
                              x-dcl-go-name: Value
                              description: Must be a valid serialized protocol buffer
                                of the above specified type.
                      message:
                        type: string
                        x-dcl-go-name: Message
                        description: A developer-facing error message, which should
                          be in English. Any user-facing error message should be localized
                          and sent in the field, or localized by the client.
                  updatedRepeatOperationDelaySec:
                    type: number
                    format: double
                    x-dcl-go-name: UpdatedRepeatOperationDelaySec
                    description: Updated repeat_operation_delay_sec in the operation
                      metadata.
            verifyDeadlineSecondsBelow:
              type: number
              format: double
              x-dcl-go-name: VerifyDeadlineSecondsBelow
              description: When set, CLH will verify that the RPC deadline (in seconds)
                is less than the value set in the field.
        history:
          type: array
          x-dcl-go-name: History
          description: Each call to the CLH that processed a step of some CLH recipe.
          x-dcl-list-type: list
          items:
            type: object
            x-dcl-go-type: InstanceHistory
            properties:
              description:
                type: string
                x-dcl-go-name: Description
              operationHandle:
                type: string
                x-dcl-go-name: OperationHandle
              p4ServiceAccount:
                type: string
                x-dcl-go-name: P4ServiceAccount
              stepIndex:
                type: integer
                format: int64
                x-dcl-go-name: StepIndex
              tenantProjectId:
                type: string
                x-dcl-go-name: TenantProjectId
              tenantProjectNumber:
                type: integer
                format: int64
                x-dcl-go-name: TenantProjectNumber
              timestamp:
                type: string
                format: date-time
                x-dcl-go-name: Timestamp
        host:
          type: string
          x-dcl-go-name: Host
          readOnly: true
          description: Hostname or IP address of the instance endpoint.
          x-kubernetes-immutable: true
        labels:
          type: object
          additionalProperties:
            type: string
          x-dcl-go-name: Labels
          description: Resource labels to represent user provided metadata
        location:
          type: string
          x-dcl-go-name: Location
          description: The location for the resource
          x-kubernetes-immutable: true
        mutateUserId:
          type: integer
          format: int64
          x-dcl-go-name: MutateUserId
          readOnly: true
          description: Gaia ID observed by the CLH from the last mutation.
          x-kubernetes-immutable: true
        name:
          type: string
          x-dcl-go-name: Name
          description: Unique name of the resource.
        notifyKeyAvailableRecipe:
          type: object
          x-dcl-go-name: NotifyKeyAvailableRecipe
          x-dcl-go-type: InstanceNotifyKeyAvailableRecipe
          properties:
            delayToStoreResourcesInClhDbNanos:
              type: integer
              format: int64
              x-dcl-go-name: DelayToStoreResourcesInClhDbNanos
              description: Amount of time (in nanoseconds) takes for clh to store
                the resources listed in resource_names_stored_in_clh_with_delay in
                its DB and then return 200. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after that it will work normally. resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.
            honorCancelRequest:
              type: boolean
              x-dcl-go-name: HonorCancelRequest
              description: When set to true, CLH will return CANCELLED status on DONE
                if CCFE passed the cancellation bit.
            ignoreRecipeAfter:
              type: integer
              format: int64
              x-dcl-go-name: IgnoreRecipeAfter
              description: Absolute time (in nanoseconds) that specifies (if non-zero)
                after which this recipe should be ignored and not executed.
            populateOperationResult:
              type: boolean
              x-dcl-go-name: PopulateOperationResult
              description: When set to true, CLH will populate the Operation.Result,
                Operation.Result is optional and if it's not populated CCFE will use
                resourceViews to populate it.
            readonlyRecipeStartTime:
              type: string
              format: date-time
              x-dcl-go-name: ReadonlyRecipeStartTime
              description: Usually recipe start_time is calculated by operation.start_time
                but in readonly requests we won't have that, this field will act as
                an override for recipe start_time.
            resourceNamesStoredInClhWithDelay:
              type: array
              x-dcl-go-name: ResourceNamesStoredInClhWithDelay
              description: 'Resource names listed here will be returned to CCFE with
                resource_status=NOT_FOUND, instructing CCFE not to return them as
                part of Get/List calls. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                it will work normally and return the resource. example usage: resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.'
              x-dcl-list-type: list
              items:
                type: string
                x-dcl-go-type: string
            steps:
              type: array
              x-dcl-go-name: Steps
              x-dcl-list-type: list
              items:
                type: object
                x-dcl-go-type: InstanceNotifyKeyAvailableRecipeSteps
                properties:
                  action:
                    type: string
                    x-dcl-go-name: Action
                    x-dcl-go-type: InstanceNotifyKeyAvailableRecipeStepsActionEnum
                    description: 'Action to perform. Possible values: NO_ACTION, ALLOW,
                      ALLOW_WITH_LOG, DENY, DENY_WITH_LOG, LOG'
                    enum:
                    - NO_ACTION
                    - ALLOW
                    - ALLOW_WITH_LOG
                    - DENY
                    - DENY_WITH_LOG
                    - LOG
                  clhDataUpdateTime:
                    type: string
                    format: date-time
                    x-dcl-go-name: ClhDataUpdateTime
                    description: Optional timestamp simulating a write to a CLH-owned
                      database.
                  description:
                    type: string
                    x-dcl-go-name: Description
                    description: Description to store in CLHCallHistory history. Defaults
                      to a string provided by CLH (typically RPC name with parameters).
                  errorSpace:
                    type: string
                    x-dcl-go-name: ErrorSpace
                    description: If not empty, causes returned error to be in the
                      specified space.
                  keyNotificationsUpdate:
                    type: object
                    x-dcl-go-name: KeyNotificationsUpdate
                    x-dcl-go-type: InstanceNotifyKeyAvailableRecipeStepsKeyNotificationsUpdate
                    description: Optional update to be applied to the key_notifications
                      field (which KMS keys to watch and how to watch them).
                    properties:
                      keyNotificationsInfo:
                        type: object
                        x-dcl-go-name: KeyNotificationsInfo
                        x-dcl-go-type: InstanceNotifyKeyAvailableRecipeStepsKeyNotificationsUpdateKeyNotificationsInfo
                        properties:
                          dataVersion:
                            type: integer
                            format: int64
                            x-dcl-go-name: DataVersion
                            description: The version number of this configuration.
                              Any update is only applied if a new watched key has
                              a higher version number than the current watched key
                          delegate:
                            type: string
                            x-dcl-go-name: Delegate
                            description: 'The MDB role to delegate KMS grant to so
                              CCFE can register the key to be watched on behalf of
                              the CLH. Should be of the format: "serviceaccount:@prod.google.com"
                              This field will always be populated by CCFE and cannot
                              be updated by the CLH.'
                          keyNotificationConfigs:
                            type: array
                            x-dcl-go-name: KeyNotificationConfigs
                            description: The keys, if any, about which notifications
                              should be sent, along with any configuration options
                              controlling notification behavior. If absent, all the
                              watched keys are unregistered.
                            x-dcl-list-type: list
                            items:
                              type: object
                              x-dcl-go-type: InstanceNotifyKeyAvailableRecipeStepsKeyNotificationsUpdateKeyNotificationsInfoKeyNotificationConfigs
                              properties:
                                delegatorGaiaId:
                                  type: integer
                                  format: int64
                                  x-dcl-go-name: DelegatorGaiaId
                                  description: The gaia id of the p4sa used as the
                                    delegator in the call to DelegateGrant.
                                grant:
                                  type: string
                                  x-dcl-go-name: Grant
                                  description: The grant that gives CCFE access to
                                    check key state. This should be a grant that gives
                                    the user specified in KeyNotificationsInfo.delegate
                                    access to the key (see go/grants-mvp-1pager).
                                keyOrVersionName:
                                  type: string
                                  x-dcl-go-name: KeyOrVersionName
                                  description: The key or version name to watch. This
                                    should not be a grant.
                  p4ServiceAccount:
                    type: string
                    x-dcl-go-name: P4ServiceAccount
                    description: If not empty, instruct CLH to assert the p4 service
                      account passed in projects metadata. Note this action is not
                      supported in hermetic envs.
                  permissionsInfo:
                    type: array
                    x-dcl-go-name: PermissionsInfo
                    description: permission info list to be requested
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstanceNotifyKeyAvailableRecipeStepsPermissionsInfo
                      properties:
                        apiAttrs:
                          $ref: '#/components/schemas/Googleprotobufstruct'
                          x-dcl-go-name: ApiAttrs
                        iamPermissions:
                          type: array
                          x-dcl-go-name: IamPermissions
                          description: Contains the iam permission.
                          x-dcl-list-type: list
                          items:
                            type: object
                            x-dcl-go-type: InstanceNotifyKeyAvailableRecipeStepsPermissionsInfoIamPermissions
                            properties:
                              permission:
                                type: string
                                x-dcl-go-name: Permission
                                description: It represents iam permission, for example
                                  "arcus2tier2.instance.create". It cannot be empty
                                  or "iam.permissions.none".
                        policyName:
                          type: object
                          x-dcl-go-name: PolicyName
                          x-dcl-go-type: InstanceNotifyKeyAvailableRecipeStepsPermissionsInfoPolicyName
                          description: PolicyName contains the policy id and type.
                          properties:
                            id:
                              type: string
                              x-dcl-go-name: Id
                              description: Identifies an instance of the type. ID
                                format varies by type. The ID format is defined in
                                the IAM .service file that defines the type, either
                                in path_mapping or in a comment.
                            region:
                              type: string
                              x-dcl-go-name: Region
                              description: 'For Cloud IAM: The location of the Policy.
                                Must be empty or "global" for Policies owned by global
                                IAM. Must name a region from prodspec/cloud-iam-cloudspec
                                for Regional IAM Policies, see go/iam-faq#where-is-iam-currently-deployed.
                                For Local IAM: This field should be set to "local".'
                            type:
                              type: string
                              x-dcl-go-name: Type
                              description: 'Resource type. Types are defined in IAM''s
                                .service files. Valid values for type might be ''gce'',
                                ''gcs'', ''project'', ''account'' etc. TODO(b/112599007):
                                annotate this as holding the resource scope when that
                                is supported'
                        resourcePath:
                          type: string
                          x-dcl-go-name: ResourcePath
                          description: ResourcePath is used for cloud audit logging.
                            ResourcePath is also used for constructing the permission
                            denied error message when permission is denied. If resource_path
                            is provided, permission denied error message would be
                            "Permission X denied on resource Y" else error message
                            would be "Permission X denied on resource (or it may not
                            exist)".
                  preprocessUpdate:
                    type: object
                    x-dcl-go-name: PreprocessUpdate
                    x-dcl-go-type: InstanceNotifyKeyAvailableRecipeStepsPreprocessUpdate
                    description: Optional update to be applied to the operation metadata
                      update if the recipe needs to initialize the operation metadata
                      during preprocess
                    properties:
                      latencySloBucketName:
                        type: string
                        x-dcl-go-name: LatencySloBucketName
                      publicOperationMetadata:
                        type: string
                        x-dcl-go-name: PublicOperationMetadata
                        description: Optional public operation metadata to be returned
                          by Preprocess calls LROs. The value must be serialized using
                          the protojson.AnyToString. CLH recipe code will de-serialize
                          it using the protojson.StringToAny.
                  publicErrorMessage:
                    type: string
                    x-dcl-go-name: PublicErrorMessage
                    description: Public error message specified by CLH.
                  publicOperationMetadata:
                    type: string
                    x-dcl-go-name: PublicOperationMetadata
                    description: Optional public operation metadata to be returned
                      by Apply calls LROs. The value must be serialized using the
                      protojson.AnyToString. CLH recipe code will de-serialize it
                      using the protojson.StringToAny.
                  quotaRequestDeltas:
                    type: array
                    x-dcl-go-name: QuotaRequestDeltas
                    description: The quota usage delta to be charged. NOT an absolute
                      Desired number, but rather a delta.
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstanceNotifyKeyAvailableRecipeStepsQuotaRequestDeltas
                      properties:
                        amount:
                          type: integer
                          format: int64
                          x-dcl-go-name: Amount
                          description: How much quota is charged by the given resource.
                        metricName:
                          type: string
                          x-dcl-go-name: MetricName
                          description: The name of the metric to charge.
                  relativeTime:
                    type: integer
                    format: int64
                    x-dcl-go-name: RelativeTime
                    description: Relative time (in nanoseconds) after which the step
                      is to be run. The time is measured from the start of the operation.
                  requestedTenantProject:
                    type: object
                    x-dcl-go-name: RequestedTenantProject
                    x-dcl-go-type: InstanceNotifyKeyAvailableRecipeStepsRequestedTenantProject
                    description: The tenant project to be requested.
                    properties:
                      folder:
                        type: string
                        x-dcl-go-name: Folder
                        description: Folder where to create this tenannt project.
                          This field will override the corresponding field in TenantProjectConfig
                          (google3/google/api/serviceconsumermanagement/v1/tenancy.proto).
                          With this filed configured dynamicly, tenants can create
                          per-region tenant project pool.
                        x-dcl-references:
                        - resource: Cloudresourcemanager/Folder
                          field: name
                      scope:
                        type: string
                        x-dcl-go-name: Scope
                        x-dcl-go-type: InstanceNotifyKeyAvailableRecipeStepsRequestedTenantProjectScopeEnum
                        description: 'The scope of the tenant project. Note that if
                          the tenant project tag is "default", it''s automatically
                          treated as scope = PROJECT unless specified otherwise. Possible
                          values: UNKNOWN_SCOPE, PROJECT, RESOURCE'
                        enum:
                        - UNKNOWN_SCOPE
                        - PROJECT
                        - RESOURCE
                      tag:
                        type: string
                        x-dcl-go-name: Tag
                        description: A tenant project tag. This is the same tag that
                          is used by Tenancy Units API to identify a tenant project.
                          It is unique within a specific Tenancy Unit. CLH should
                          use a deterministic algorithm to generate a tag. For ex.,
                          if service needs a tenant project per consumer network,
                          consumer network name can be used to generate a tag. For
                          ex., if consumer network name is "my-network", a tag could
                          be "sn-my-network". Prefix "sn-" is used here, but CLH can
                          use any prefix they like as long as it does not change from
                          request to request. If a tenant project with tag "sn-my-network"
                          is requested, CCFE will check if a tenant project with such
                          a tag already exists. If it does, CCFE will reuses it. Otherwise
                          CCFE will create a new tenant project.
                  resourceMetadataSize:
                    type: integer
                    format: int64
                    x-dcl-go-name: ResourceMetadataSize
                    description: size of resource metadata that CL should return
                  sleepDuration:
                    type: integer
                    format: int64
                    x-dcl-go-name: SleepDuration
                    description: Amount of time (in nanoseconds) to sleep for when
                      the step runs.
                  status:
                    type: object
                    x-dcl-go-name: Status
                    x-dcl-go-type: InstanceNotifyKeyAvailableRecipeStepsStatus
                    properties:
                      code:
                        type: integer
                        format: int64
                        x-dcl-go-name: Code
                        description: The status code, which should be an enum value
                          of .
                      details:
                        type: array
                        x-dcl-go-name: Details
                        description: A list of messages that carry the error details.
                          There is a common set of message types for APIs to use.
                        x-dcl-list-type: list
                        items:
                          type: object
                          x-dcl-go-type: InstanceNotifyKeyAvailableRecipeStepsStatusDetails
                          properties:
                            typeUrl:
                              type: string
                              x-dcl-go-name: TypeUrl
                              description: 'A URL/resource name that uniquely identifies
                                the type of the serialized protocol buffer message.
                                This string must contain at least one "/" character.
                                The last segment of the URL''s path must represent
                                the fully qualified name of the type (as in `path/google.protobuf.Duration`).
                                The name should be in a canonical form (e.g., leading
                                "." is not accepted). In practice, teams usually precompile
                                into the binary all types that they expect it to use
                                in the context of Any. However, for URLs which use
                                the scheme `http`, `https`, or no scheme, one can
                                optionally set up a type server that maps type URLs
                                to message definitions as follows: * If no scheme
                                is provided, `https` is assumed. * An HTTP GET on
                                the URL must yield a value in binary format, or produce
                                an error. * Applications are allowed to cache lookup
                                results based on the URL, or have them precompiled
                                into a binary to avoid any lookup. Therefore, binary
                                compatibility needs to be preserved on changes to
                                types. (Use versioned type names to manage breaking
                                changes.) Note: this functionality is not currently
                                available in the official protobuf release, and it
                                is not used for type URLs beginning with type.googleapis.com.
                                Schemes other than `http`, `https` (or the empty scheme)
                                might be used with implementation specific semantics.'
                            value:
                              type: string
                              x-dcl-go-name: Value
                              description: Must be a valid serialized protocol buffer
                                of the above specified type.
                      message:
                        type: string
                        x-dcl-go-name: Message
                        description: A developer-facing error message, which should
                          be in English. Any user-facing error message should be localized
                          and sent in the field, or localized by the client.
                  updatedRepeatOperationDelaySec:
                    type: number
                    format: double
                    x-dcl-go-name: UpdatedRepeatOperationDelaySec
                    description: Updated repeat_operation_delay_sec in the operation
                      metadata.
            verifyDeadlineSecondsBelow:
              type: number
              format: double
              x-dcl-go-name: VerifyDeadlineSecondsBelow
              description: When set, CLH will verify that the RPC deadline (in seconds)
                is less than the value set in the field.
        notifyKeyUnavailableRecipe:
          type: object
          x-dcl-go-name: NotifyKeyUnavailableRecipe
          x-dcl-go-type: InstanceNotifyKeyUnavailableRecipe
          properties:
            delayToStoreResourcesInClhDbNanos:
              type: integer
              format: int64
              x-dcl-go-name: DelayToStoreResourcesInClhDbNanos
              description: Amount of time (in nanoseconds) takes for clh to store
                the resources listed in resource_names_stored_in_clh_with_delay in
                its DB and then return 200. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after that it will work normally. resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.
            honorCancelRequest:
              type: boolean
              x-dcl-go-name: HonorCancelRequest
              description: When set to true, CLH will return CANCELLED status on DONE
                if CCFE passed the cancellation bit.
            ignoreRecipeAfter:
              type: integer
              format: int64
              x-dcl-go-name: IgnoreRecipeAfter
              description: Absolute time (in nanoseconds) that specifies (if non-zero)
                after which this recipe should be ignored and not executed.
            populateOperationResult:
              type: boolean
              x-dcl-go-name: PopulateOperationResult
              description: When set to true, CLH will populate the Operation.Result,
                Operation.Result is optional and if it's not populated CCFE will use
                resourceViews to populate it.
            readonlyRecipeStartTime:
              type: string
              format: date-time
              x-dcl-go-name: ReadonlyRecipeStartTime
              description: Usually recipe start_time is calculated by operation.start_time
                but in readonly requests we won't have that, this field will act as
                an override for recipe start_time.
            resourceNamesStoredInClhWithDelay:
              type: array
              x-dcl-go-name: ResourceNamesStoredInClhWithDelay
              description: 'Resource names listed here will be returned to CCFE with
                resource_status=NOT_FOUND, instructing CCFE not to return them as
                part of Get/List calls. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                it will work normally and return the resource. example usage: resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.'
              x-dcl-list-type: list
              items:
                type: string
                x-dcl-go-type: string
            steps:
              type: array
              x-dcl-go-name: Steps
              x-dcl-list-type: list
              items:
                type: object
                x-dcl-go-type: InstanceNotifyKeyUnavailableRecipeSteps
                properties:
                  action:
                    type: string
                    x-dcl-go-name: Action
                    x-dcl-go-type: InstanceNotifyKeyUnavailableRecipeStepsActionEnum
                    description: 'Action to perform. Possible values: NO_ACTION, ALLOW,
                      ALLOW_WITH_LOG, DENY, DENY_WITH_LOG, LOG'
                    enum:
                    - NO_ACTION
                    - ALLOW
                    - ALLOW_WITH_LOG
                    - DENY
                    - DENY_WITH_LOG
                    - LOG
                  clhDataUpdateTime:
                    type: string
                    format: date-time
                    x-dcl-go-name: ClhDataUpdateTime
                    description: Optional timestamp simulating a write to a CLH-owned
                      database.
                  description:
                    type: string
                    x-dcl-go-name: Description
                    description: Description to store in CLHCallHistory history. Defaults
                      to a string provided by CLH (typically RPC name with parameters).
                  errorSpace:
                    type: string
                    x-dcl-go-name: ErrorSpace
                    description: If not empty, causes returned error to be in the
                      specified space.
                  keyNotificationsUpdate:
                    type: object
                    x-dcl-go-name: KeyNotificationsUpdate
                    x-dcl-go-type: InstanceNotifyKeyUnavailableRecipeStepsKeyNotificationsUpdate
                    description: Optional update to be applied to the key_notifications
                      field (which KMS keys to watch and how to watch them).
                    properties:
                      keyNotificationsInfo:
                        type: object
                        x-dcl-go-name: KeyNotificationsInfo
                        x-dcl-go-type: InstanceNotifyKeyUnavailableRecipeStepsKeyNotificationsUpdateKeyNotificationsInfo
                        properties:
                          dataVersion:
                            type: integer
                            format: int64
                            x-dcl-go-name: DataVersion
                            description: The version number of this configuration.
                              Any update is only applied if a new watched key has
                              a higher version number than the current watched key
                          delegate:
                            type: string
                            x-dcl-go-name: Delegate
                            description: 'The MDB role to delegate KMS grant to so
                              CCFE can register the key to be watched on behalf of
                              the CLH. Should be of the format: "serviceaccount:@prod.google.com"
                              This field will always be populated by CCFE and cannot
                              be updated by the CLH.'
                          keyNotificationConfigs:
                            type: array
                            x-dcl-go-name: KeyNotificationConfigs
                            description: The keys, if any, about which notifications
                              should be sent, along with any configuration options
                              controlling notification behavior. If absent, all the
                              watched keys are unregistered.
                            x-dcl-list-type: list
                            items:
                              type: object
                              x-dcl-go-type: InstanceNotifyKeyUnavailableRecipeStepsKeyNotificationsUpdateKeyNotificationsInfoKeyNotificationConfigs
                              properties:
                                delegatorGaiaId:
                                  type: integer
                                  format: int64
                                  x-dcl-go-name: DelegatorGaiaId
                                  description: The gaia id of the p4sa used as the
                                    delegator in the call to DelegateGrant.
                                grant:
                                  type: string
                                  x-dcl-go-name: Grant
                                  description: The grant that gives CCFE access to
                                    check key state. This should be a grant that gives
                                    the user specified in KeyNotificationsInfo.delegate
                                    access to the key (see go/grants-mvp-1pager).
                                keyOrVersionName:
                                  type: string
                                  x-dcl-go-name: KeyOrVersionName
                                  description: The key or version name to watch. This
                                    should not be a grant.
                  p4ServiceAccount:
                    type: string
                    x-dcl-go-name: P4ServiceAccount
                    description: If not empty, instruct CLH to assert the p4 service
                      account passed in projects metadata. Note this action is not
                      supported in hermetic envs.
                  permissionsInfo:
                    type: array
                    x-dcl-go-name: PermissionsInfo
                    description: permission info list to be requested
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstanceNotifyKeyUnavailableRecipeStepsPermissionsInfo
                      properties:
                        apiAttrs:
                          $ref: '#/components/schemas/Googleprotobufstruct'
                          x-dcl-go-name: ApiAttrs
                        iamPermissions:
                          type: array
                          x-dcl-go-name: IamPermissions
                          description: Contains the iam permission.
                          x-dcl-list-type: list
                          items:
                            type: object
                            x-dcl-go-type: InstanceNotifyKeyUnavailableRecipeStepsPermissionsInfoIamPermissions
                            properties:
                              permission:
                                type: string
                                x-dcl-go-name: Permission
                                description: It represents iam permission, for example
                                  "arcus2tier2.instance.create". It cannot be empty
                                  or "iam.permissions.none".
                        policyName:
                          type: object
                          x-dcl-go-name: PolicyName
                          x-dcl-go-type: InstanceNotifyKeyUnavailableRecipeStepsPermissionsInfoPolicyName
                          description: PolicyName contains the policy id and type.
                          properties:
                            id:
                              type: string
                              x-dcl-go-name: Id
                              description: Identifies an instance of the type. ID
                                format varies by type. The ID format is defined in
                                the IAM .service file that defines the type, either
                                in path_mapping or in a comment.
                            region:
                              type: string
                              x-dcl-go-name: Region
                              description: 'For Cloud IAM: The location of the Policy.
                                Must be empty or "global" for Policies owned by global
                                IAM. Must name a region from prodspec/cloud-iam-cloudspec
                                for Regional IAM Policies, see go/iam-faq#where-is-iam-currently-deployed.
                                For Local IAM: This field should be set to "local".'
                            type:
                              type: string
                              x-dcl-go-name: Type
                              description: 'Resource type. Types are defined in IAM''s
                                .service files. Valid values for type might be ''gce'',
                                ''gcs'', ''project'', ''account'' etc. TODO(b/112599007):
                                annotate this as holding the resource scope when that
                                is supported'
                        resourcePath:
                          type: string
                          x-dcl-go-name: ResourcePath
                          description: ResourcePath is used for cloud audit logging.
                            ResourcePath is also used for constructing the permission
                            denied error message when permission is denied. If resource_path
                            is provided, permission denied error message would be
                            "Permission X denied on resource Y" else error message
                            would be "Permission X denied on resource (or it may not
                            exist)".
                  preprocessUpdate:
                    type: object
                    x-dcl-go-name: PreprocessUpdate
                    x-dcl-go-type: InstanceNotifyKeyUnavailableRecipeStepsPreprocessUpdate
                    description: Optional update to be applied to the operation metadata
                      update if the recipe needs to initialize the operation metadata
                      during preprocess
                    properties:
                      latencySloBucketName:
                        type: string
                        x-dcl-go-name: LatencySloBucketName
                      publicOperationMetadata:
                        type: string
                        x-dcl-go-name: PublicOperationMetadata
                        description: Optional public operation metadata to be returned
                          by Preprocess calls LROs. The value must be serialized using
                          the protojson.AnyToString. CLH recipe code will de-serialize
                          it using the protojson.StringToAny.
                  publicErrorMessage:
                    type: string
                    x-dcl-go-name: PublicErrorMessage
                    description: Public error message specified by CLH.
                  publicOperationMetadata:
                    type: string
                    x-dcl-go-name: PublicOperationMetadata
                    description: Optional public operation metadata to be returned
                      by Apply calls LROs. The value must be serialized using the
                      protojson.AnyToString. CLH recipe code will de-serialize it
                      using the protojson.StringToAny.
                  quotaRequestDeltas:
                    type: array
                    x-dcl-go-name: QuotaRequestDeltas
                    description: The quota usage delta to be charged. NOT an absolute
                      Desired number, but rather a delta.
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstanceNotifyKeyUnavailableRecipeStepsQuotaRequestDeltas
                      properties:
                        amount:
                          type: integer
                          format: int64
                          x-dcl-go-name: Amount
                          description: How much quota is charged by the given resource.
                        metricName:
                          type: string
                          x-dcl-go-name: MetricName
                          description: The name of the metric to charge.
                  relativeTime:
                    type: integer
                    format: int64
                    x-dcl-go-name: RelativeTime
                    description: Relative time (in nanoseconds) after which the step
                      is to be run. The time is measured from the start of the operation.
                  requestedTenantProject:
                    type: object
                    x-dcl-go-name: RequestedTenantProject
                    x-dcl-go-type: InstanceNotifyKeyUnavailableRecipeStepsRequestedTenantProject
                    description: The tenant project to be requested.
                    properties:
                      folder:
                        type: string
                        x-dcl-go-name: Folder
                        description: Folder where to create this tenannt project.
                          This field will override the corresponding field in TenantProjectConfig
                          (google3/google/api/serviceconsumermanagement/v1/tenancy.proto).
                          With this filed configured dynamicly, tenants can create
                          per-region tenant project pool.
                        x-dcl-references:
                        - resource: Cloudresourcemanager/Folder
                          field: name
                      scope:
                        type: string
                        x-dcl-go-name: Scope
                        x-dcl-go-type: InstanceNotifyKeyUnavailableRecipeStepsRequestedTenantProjectScopeEnum
                        description: 'The scope of the tenant project. Note that if
                          the tenant project tag is "default", it''s automatically
                          treated as scope = PROJECT unless specified otherwise. Possible
                          values: UNKNOWN_SCOPE, PROJECT, RESOURCE'
                        enum:
                        - UNKNOWN_SCOPE
                        - PROJECT
                        - RESOURCE
                      tag:
                        type: string
                        x-dcl-go-name: Tag
                        description: A tenant project tag. This is the same tag that
                          is used by Tenancy Units API to identify a tenant project.
                          It is unique within a specific Tenancy Unit. CLH should
                          use a deterministic algorithm to generate a tag. For ex.,
                          if service needs a tenant project per consumer network,
                          consumer network name can be used to generate a tag. For
                          ex., if consumer network name is "my-network", a tag could
                          be "sn-my-network". Prefix "sn-" is used here, but CLH can
                          use any prefix they like as long as it does not change from
                          request to request. If a tenant project with tag "sn-my-network"
                          is requested, CCFE will check if a tenant project with such
                          a tag already exists. If it does, CCFE will reuses it. Otherwise
                          CCFE will create a new tenant project.
                  resourceMetadataSize:
                    type: integer
                    format: int64
                    x-dcl-go-name: ResourceMetadataSize
                    description: size of resource metadata that CL should return
                  sleepDuration:
                    type: integer
                    format: int64
                    x-dcl-go-name: SleepDuration
                    description: Amount of time (in nanoseconds) to sleep for when
                      the step runs.
                  status:
                    type: object
                    x-dcl-go-name: Status
                    x-dcl-go-type: InstanceNotifyKeyUnavailableRecipeStepsStatus
                    properties:
                      code:
                        type: integer
                        format: int64
                        x-dcl-go-name: Code
                        description: The status code, which should be an enum value
                          of .
                      details:
                        type: array
                        x-dcl-go-name: Details
                        description: A list of messages that carry the error details.
                          There is a common set of message types for APIs to use.
                        x-dcl-list-type: list
                        items:
                          type: object
                          x-dcl-go-type: InstanceNotifyKeyUnavailableRecipeStepsStatusDetails
                          properties:
                            typeUrl:
                              type: string
                              x-dcl-go-name: TypeUrl
                              description: 'A URL/resource name that uniquely identifies
                                the type of the serialized protocol buffer message.
                                This string must contain at least one "/" character.
                                The last segment of the URL''s path must represent
                                the fully qualified name of the type (as in `path/google.protobuf.Duration`).
                                The name should be in a canonical form (e.g., leading
                                "." is not accepted). In practice, teams usually precompile
                                into the binary all types that they expect it to use
                                in the context of Any. However, for URLs which use
                                the scheme `http`, `https`, or no scheme, one can
                                optionally set up a type server that maps type URLs
                                to message definitions as follows: * If no scheme
                                is provided, `https` is assumed. * An HTTP GET on
                                the URL must yield a value in binary format, or produce
                                an error. * Applications are allowed to cache lookup
                                results based on the URL, or have them precompiled
                                into a binary to avoid any lookup. Therefore, binary
                                compatibility needs to be preserved on changes to
                                types. (Use versioned type names to manage breaking
                                changes.) Note: this functionality is not currently
                                available in the official protobuf release, and it
                                is not used for type URLs beginning with type.googleapis.com.
                                Schemes other than `http`, `https` (or the empty scheme)
                                might be used with implementation specific semantics.'
                            value:
                              type: string
                              x-dcl-go-name: Value
                              description: Must be a valid serialized protocol buffer
                                of the above specified type.
                      message:
                        type: string
                        x-dcl-go-name: Message
                        description: A developer-facing error message, which should
                          be in English. Any user-facing error message should be localized
                          and sent in the field, or localized by the client.
                  updatedRepeatOperationDelaySec:
                    type: number
                    format: double
                    x-dcl-go-name: UpdatedRepeatOperationDelaySec
                    description: Updated repeat_operation_delay_sec in the operation
                      metadata.
            verifyDeadlineSecondsBelow:
              type: number
              format: double
              x-dcl-go-name: VerifyDeadlineSecondsBelow
              description: When set, CLH will verify that the RPC deadline (in seconds)
                is less than the value set in the field.
        port:
          type: integer
          format: int64
          x-dcl-go-name: Port
          readOnly: true
          description: The port number of the instance endpoint.
          x-kubernetes-immutable: true
        preprocessCreateRecipe:
          type: object
          x-dcl-go-name: PreprocessCreateRecipe
          x-dcl-go-type: InstancePreprocessCreateRecipe
          properties:
            delayToStoreResourcesInClhDbNanos:
              type: integer
              format: int64
              x-dcl-go-name: DelayToStoreResourcesInClhDbNanos
              description: Amount of time (in nanoseconds) takes for clh to store
                the resources listed in resource_names_stored_in_clh_with_delay in
                its DB and then return 200. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after that it will work normally. resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.
            honorCancelRequest:
              type: boolean
              x-dcl-go-name: HonorCancelRequest
              description: When set to true, CLH will return CANCELLED status on DONE
                if CCFE passed the cancellation bit.
            ignoreRecipeAfter:
              type: integer
              format: int64
              x-dcl-go-name: IgnoreRecipeAfter
              description: Absolute time (in nanoseconds) that specifies (if non-zero)
                after which this recipe should be ignored and not executed.
            populateOperationResult:
              type: boolean
              x-dcl-go-name: PopulateOperationResult
              description: When set to true, CLH will populate the Operation.Result,
                Operation.Result is optional and if it's not populated CCFE will use
                resourceViews to populate it.
            readonlyRecipeStartTime:
              type: string
              format: date-time
              x-dcl-go-name: ReadonlyRecipeStartTime
              description: Usually recipe start_time is calculated by operation.start_time
                but in readonly requests we won't have that, this field will act as
                an override for recipe start_time.
            resourceNamesStoredInClhWithDelay:
              type: array
              x-dcl-go-name: ResourceNamesStoredInClhWithDelay
              description: 'Resource names listed here will be returned to CCFE with
                resource_status=NOT_FOUND, instructing CCFE not to return them as
                part of Get/List calls. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                it will work normally and return the resource. example usage: resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.'
              x-dcl-list-type: list
              items:
                type: string
                x-dcl-go-type: string
            steps:
              type: array
              x-dcl-go-name: Steps
              x-dcl-list-type: list
              items:
                type: object
                x-dcl-go-type: InstancePreprocessCreateRecipeSteps
                properties:
                  action:
                    type: string
                    x-dcl-go-name: Action
                    x-dcl-go-type: InstancePreprocessCreateRecipeStepsActionEnum
                    description: 'Action to perform. Possible values: NO_ACTION, ALLOW,
                      ALLOW_WITH_LOG, DENY, DENY_WITH_LOG, LOG'
                    enum:
                    - NO_ACTION
                    - ALLOW
                    - ALLOW_WITH_LOG
                    - DENY
                    - DENY_WITH_LOG
                    - LOG
                  clhDataUpdateTime:
                    type: string
                    format: date-time
                    x-dcl-go-name: ClhDataUpdateTime
                    description: Optional timestamp simulating a write to a CLH-owned
                      database.
                  description:
                    type: string
                    x-dcl-go-name: Description
                    description: Description to store in CLHCallHistory history. Defaults
                      to a string provided by CLH (typically RPC name with parameters).
                  errorSpace:
                    type: string
                    x-dcl-go-name: ErrorSpace
                    description: If not empty, causes returned error to be in the
                      specified space.
                  keyNotificationsUpdate:
                    type: object
                    x-dcl-go-name: KeyNotificationsUpdate
                    x-dcl-go-type: InstancePreprocessCreateRecipeStepsKeyNotificationsUpdate
                    description: Optional update to be applied to the key_notifications
                      field (which KMS keys to watch and how to watch them).
                    properties:
                      keyNotificationsInfo:
                        type: object
                        x-dcl-go-name: KeyNotificationsInfo
                        x-dcl-go-type: InstancePreprocessCreateRecipeStepsKeyNotificationsUpdateKeyNotificationsInfo
                        properties:
                          dataVersion:
                            type: integer
                            format: int64
                            x-dcl-go-name: DataVersion
                            description: The version number of this configuration.
                              Any update is only applied if a new watched key has
                              a higher version number than the current watched key
                          delegate:
                            type: string
                            x-dcl-go-name: Delegate
                            description: 'The MDB role to delegate KMS grant to so
                              CCFE can register the key to be watched on behalf of
                              the CLH. Should be of the format: "serviceaccount:@prod.google.com"
                              This field will always be populated by CCFE and cannot
                              be updated by the CLH.'
                          keyNotificationConfigs:
                            type: array
                            x-dcl-go-name: KeyNotificationConfigs
                            description: The keys, if any, about which notifications
                              should be sent, along with any configuration options
                              controlling notification behavior. If absent, all the
                              watched keys are unregistered.
                            x-dcl-list-type: list
                            items:
                              type: object
                              x-dcl-go-type: InstancePreprocessCreateRecipeStepsKeyNotificationsUpdateKeyNotificationsInfoKeyNotificationConfigs
                              properties:
                                delegatorGaiaId:
                                  type: integer
                                  format: int64
                                  x-dcl-go-name: DelegatorGaiaId
                                  description: The gaia id of the p4sa used as the
                                    delegator in the call to DelegateGrant.
                                grant:
                                  type: string
                                  x-dcl-go-name: Grant
                                  description: The grant that gives CCFE access to
                                    check key state. This should be a grant that gives
                                    the user specified in KeyNotificationsInfo.delegate
                                    access to the key (see go/grants-mvp-1pager).
                                keyOrVersionName:
                                  type: string
                                  x-dcl-go-name: KeyOrVersionName
                                  description: The key or version name to watch. This
                                    should not be a grant.
                  p4ServiceAccount:
                    type: string
                    x-dcl-go-name: P4ServiceAccount
                    description: If not empty, instruct CLH to assert the p4 service
                      account passed in projects metadata. Note this action is not
                      supported in hermetic envs.
                  permissionsInfo:
                    type: array
                    x-dcl-go-name: PermissionsInfo
                    description: permission info list to be requested
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstancePreprocessCreateRecipeStepsPermissionsInfo
                      properties:
                        apiAttrs:
                          $ref: '#/components/schemas/Googleprotobufstruct'
                          x-dcl-go-name: ApiAttrs
                        iamPermissions:
                          type: array
                          x-dcl-go-name: IamPermissions
                          description: Contains the iam permission.
                          x-dcl-list-type: list
                          items:
                            type: object
                            x-dcl-go-type: InstancePreprocessCreateRecipeStepsPermissionsInfoIamPermissions
                            properties:
                              permission:
                                type: string
                                x-dcl-go-name: Permission
                                description: It represents iam permission, for example
                                  "arcus2tier2.instance.create". It cannot be empty
                                  or "iam.permissions.none".
                        policyName:
                          type: object
                          x-dcl-go-name: PolicyName
                          x-dcl-go-type: InstancePreprocessCreateRecipeStepsPermissionsInfoPolicyName
                          description: PolicyName contains the policy id and type.
                          properties:
                            id:
                              type: string
                              x-dcl-go-name: Id
                              description: Identifies an instance of the type. ID
                                format varies by type. The ID format is defined in
                                the IAM .service file that defines the type, either
                                in path_mapping or in a comment.
                            region:
                              type: string
                              x-dcl-go-name: Region
                              description: 'For Cloud IAM: The location of the Policy.
                                Must be empty or "global" for Policies owned by global
                                IAM. Must name a region from prodspec/cloud-iam-cloudspec
                                for Regional IAM Policies, see go/iam-faq#where-is-iam-currently-deployed.
                                For Local IAM: This field should be set to "local".'
                            type:
                              type: string
                              x-dcl-go-name: Type
                              description: 'Resource type. Types are defined in IAM''s
                                .service files. Valid values for type might be ''gce'',
                                ''gcs'', ''project'', ''account'' etc. TODO(b/112599007):
                                annotate this as holding the resource scope when that
                                is supported'
                        resourcePath:
                          type: string
                          x-dcl-go-name: ResourcePath
                          description: ResourcePath is used for cloud audit logging.
                            ResourcePath is also used for constructing the permission
                            denied error message when permission is denied. If resource_path
                            is provided, permission denied error message would be
                            "Permission X denied on resource Y" else error message
                            would be "Permission X denied on resource (or it may not
                            exist)".
                  preprocessUpdate:
                    type: object
                    x-dcl-go-name: PreprocessUpdate
                    x-dcl-go-type: InstancePreprocessCreateRecipeStepsPreprocessUpdate
                    description: Optional update to be applied to the operation metadata
                      update if the recipe needs to initialize the operation metadata
                      during preprocess
                    properties:
                      latencySloBucketName:
                        type: string
                        x-dcl-go-name: LatencySloBucketName
                      publicOperationMetadata:
                        type: string
                        x-dcl-go-name: PublicOperationMetadata
                        description: Optional public operation metadata to be returned
                          by Preprocess calls LROs. The value must be serialized using
                          the protojson.AnyToString. CLH recipe code will de-serialize
                          it using the protojson.StringToAny.
                  publicErrorMessage:
                    type: string
                    x-dcl-go-name: PublicErrorMessage
                    description: Public error message specified by CLH.
                  publicOperationMetadata:
                    type: string
                    x-dcl-go-name: PublicOperationMetadata
                    description: Optional public operation metadata to be returned
                      by Apply calls LROs. The value must be serialized using the
                      protojson.AnyToString. CLH recipe code will de-serialize it
                      using the protojson.StringToAny.
                  quotaRequestDeltas:
                    type: array
                    x-dcl-go-name: QuotaRequestDeltas
                    description: The quota usage delta to be charged. NOT an absolute
                      Desired number, but rather a delta.
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstancePreprocessCreateRecipeStepsQuotaRequestDeltas
                      properties:
                        amount:
                          type: integer
                          format: int64
                          x-dcl-go-name: Amount
                          description: How much quota is charged by the given resource.
                        metricName:
                          type: string
                          x-dcl-go-name: MetricName
                          description: The name of the metric to charge.
                  relativeTime:
                    type: integer
                    format: int64
                    x-dcl-go-name: RelativeTime
                    description: Relative time (in nanoseconds) after which the step
                      is to be run. The time is measured from the start of the operation.
                  requestedTenantProject:
                    type: object
                    x-dcl-go-name: RequestedTenantProject
                    x-dcl-go-type: InstancePreprocessCreateRecipeStepsRequestedTenantProject
                    description: The tenant project to be requested.
                    properties:
                      folder:
                        type: string
                        x-dcl-go-name: Folder
                        description: Folder where to create this tenannt project.
                          This field will override the corresponding field in TenantProjectConfig
                          (google3/google/api/serviceconsumermanagement/v1/tenancy.proto).
                          With this filed configured dynamicly, tenants can create
                          per-region tenant project pool.
                        x-dcl-references:
                        - resource: Cloudresourcemanager/Folder
                          field: name
                      scope:
                        type: string
                        x-dcl-go-name: Scope
                        x-dcl-go-type: InstancePreprocessCreateRecipeStepsRequestedTenantProjectScopeEnum
                        description: 'The scope of the tenant project. Note that if
                          the tenant project tag is "default", it''s automatically
                          treated as scope = PROJECT unless specified otherwise. Possible
                          values: UNKNOWN_SCOPE, PROJECT, RESOURCE'
                        enum:
                        - UNKNOWN_SCOPE
                        - PROJECT
                        - RESOURCE
                      tag:
                        type: string
                        x-dcl-go-name: Tag
                        description: A tenant project tag. This is the same tag that
                          is used by Tenancy Units API to identify a tenant project.
                          It is unique within a specific Tenancy Unit. CLH should
                          use a deterministic algorithm to generate a tag. For ex.,
                          if service needs a tenant project per consumer network,
                          consumer network name can be used to generate a tag. For
                          ex., if consumer network name is "my-network", a tag could
                          be "sn-my-network". Prefix "sn-" is used here, but CLH can
                          use any prefix they like as long as it does not change from
                          request to request. If a tenant project with tag "sn-my-network"
                          is requested, CCFE will check if a tenant project with such
                          a tag already exists. If it does, CCFE will reuses it. Otherwise
                          CCFE will create a new tenant project.
                  resourceMetadataSize:
                    type: integer
                    format: int64
                    x-dcl-go-name: ResourceMetadataSize
                    description: size of resource metadata that CL should return
                  sleepDuration:
                    type: integer
                    format: int64
                    x-dcl-go-name: SleepDuration
                    description: Amount of time (in nanoseconds) to sleep for when
                      the step runs.
                  status:
                    type: object
                    x-dcl-go-name: Status
                    x-dcl-go-type: InstancePreprocessCreateRecipeStepsStatus
                    properties:
                      code:
                        type: integer
                        format: int64
                        x-dcl-go-name: Code
                        description: The status code, which should be an enum value
                          of .
                      details:
                        type: array
                        x-dcl-go-name: Details
                        description: A list of messages that carry the error details.
                          There is a common set of message types for APIs to use.
                        x-dcl-list-type: list
                        items:
                          type: object
                          x-dcl-go-type: InstancePreprocessCreateRecipeStepsStatusDetails
                          properties:
                            typeUrl:
                              type: string
                              x-dcl-go-name: TypeUrl
                              description: 'A URL/resource name that uniquely identifies
                                the type of the serialized protocol buffer message.
                                This string must contain at least one "/" character.
                                The last segment of the URL''s path must represent
                                the fully qualified name of the type (as in `path/google.protobuf.Duration`).
                                The name should be in a canonical form (e.g., leading
                                "." is not accepted). In practice, teams usually precompile
                                into the binary all types that they expect it to use
                                in the context of Any. However, for URLs which use
                                the scheme `http`, `https`, or no scheme, one can
                                optionally set up a type server that maps type URLs
                                to message definitions as follows: * If no scheme
                                is provided, `https` is assumed. * An HTTP GET on
                                the URL must yield a value in binary format, or produce
                                an error. * Applications are allowed to cache lookup
                                results based on the URL, or have them precompiled
                                into a binary to avoid any lookup. Therefore, binary
                                compatibility needs to be preserved on changes to
                                types. (Use versioned type names to manage breaking
                                changes.) Note: this functionality is not currently
                                available in the official protobuf release, and it
                                is not used for type URLs beginning with type.googleapis.com.
                                Schemes other than `http`, `https` (or the empty scheme)
                                might be used with implementation specific semantics.'
                            value:
                              type: string
                              x-dcl-go-name: Value
                              description: Must be a valid serialized protocol buffer
                                of the above specified type.
                      message:
                        type: string
                        x-dcl-go-name: Message
                        description: A developer-facing error message, which should
                          be in English. Any user-facing error message should be localized
                          and sent in the field, or localized by the client.
                  updatedRepeatOperationDelaySec:
                    type: number
                    format: double
                    x-dcl-go-name: UpdatedRepeatOperationDelaySec
                    description: Updated repeat_operation_delay_sec in the operation
                      metadata.
            verifyDeadlineSecondsBelow:
              type: number
              format: double
              x-dcl-go-name: VerifyDeadlineSecondsBelow
              description: When set, CLH will verify that the RPC deadline (in seconds)
                is less than the value set in the field.
        preprocessDeleteRecipe:
          type: object
          x-dcl-go-name: PreprocessDeleteRecipe
          x-dcl-go-type: InstancePreprocessDeleteRecipe
          properties:
            delayToStoreResourcesInClhDbNanos:
              type: integer
              format: int64
              x-dcl-go-name: DelayToStoreResourcesInClhDbNanos
              description: Amount of time (in nanoseconds) takes for clh to store
                the resources listed in resource_names_stored_in_clh_with_delay in
                its DB and then return 200. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after that it will work normally. resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.
            honorCancelRequest:
              type: boolean
              x-dcl-go-name: HonorCancelRequest
              description: When set to true, CLH will return CANCELLED status on DONE
                if CCFE passed the cancellation bit.
            ignoreRecipeAfter:
              type: integer
              format: int64
              x-dcl-go-name: IgnoreRecipeAfter
              description: Absolute time (in nanoseconds) that specifies (if non-zero)
                after which this recipe should be ignored and not executed.
            populateOperationResult:
              type: boolean
              x-dcl-go-name: PopulateOperationResult
              description: When set to true, CLH will populate the Operation.Result,
                Operation.Result is optional and if it's not populated CCFE will use
                resourceViews to populate it.
            readonlyRecipeStartTime:
              type: string
              format: date-time
              x-dcl-go-name: ReadonlyRecipeStartTime
              description: Usually recipe start_time is calculated by operation.start_time
                but in readonly requests we won't have that, this field will act as
                an override for recipe start_time.
            resourceNamesStoredInClhWithDelay:
              type: array
              x-dcl-go-name: ResourceNamesStoredInClhWithDelay
              description: 'Resource names listed here will be returned to CCFE with
                resource_status=NOT_FOUND, instructing CCFE not to return them as
                part of Get/List calls. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                it will work normally and return the resource. example usage: resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.'
              x-dcl-list-type: list
              items:
                type: string
                x-dcl-go-type: string
            steps:
              type: array
              x-dcl-go-name: Steps
              x-dcl-list-type: list
              items:
                type: object
                x-dcl-go-type: InstancePreprocessDeleteRecipeSteps
                properties:
                  action:
                    type: string
                    x-dcl-go-name: Action
                    x-dcl-go-type: InstancePreprocessDeleteRecipeStepsActionEnum
                    description: 'Action to perform. Possible values: NO_ACTION, ALLOW,
                      ALLOW_WITH_LOG, DENY, DENY_WITH_LOG, LOG'
                    enum:
                    - NO_ACTION
                    - ALLOW
                    - ALLOW_WITH_LOG
                    - DENY
                    - DENY_WITH_LOG
                    - LOG
                  clhDataUpdateTime:
                    type: string
                    format: date-time
                    x-dcl-go-name: ClhDataUpdateTime
                    description: Optional timestamp simulating a write to a CLH-owned
                      database.
                  description:
                    type: string
                    x-dcl-go-name: Description
                    description: Description to store in CLHCallHistory history. Defaults
                      to a string provided by CLH (typically RPC name with parameters).
                  errorSpace:
                    type: string
                    x-dcl-go-name: ErrorSpace
                    description: If not empty, causes returned error to be in the
                      specified space.
                  keyNotificationsUpdate:
                    type: object
                    x-dcl-go-name: KeyNotificationsUpdate
                    x-dcl-go-type: InstancePreprocessDeleteRecipeStepsKeyNotificationsUpdate
                    description: Optional update to be applied to the key_notifications
                      field (which KMS keys to watch and how to watch them).
                    properties:
                      keyNotificationsInfo:
                        type: object
                        x-dcl-go-name: KeyNotificationsInfo
                        x-dcl-go-type: InstancePreprocessDeleteRecipeStepsKeyNotificationsUpdateKeyNotificationsInfo
                        properties:
                          dataVersion:
                            type: integer
                            format: int64
                            x-dcl-go-name: DataVersion
                            description: The version number of this configuration.
                              Any update is only applied if a new watched key has
                              a higher version number than the current watched key
                          delegate:
                            type: string
                            x-dcl-go-name: Delegate
                            description: 'The MDB role to delegate KMS grant to so
                              CCFE can register the key to be watched on behalf of
                              the CLH. Should be of the format: "serviceaccount:@prod.google.com"
                              This field will always be populated by CCFE and cannot
                              be updated by the CLH.'
                          keyNotificationConfigs:
                            type: array
                            x-dcl-go-name: KeyNotificationConfigs
                            description: The keys, if any, about which notifications
                              should be sent, along with any configuration options
                              controlling notification behavior. If absent, all the
                              watched keys are unregistered.
                            x-dcl-list-type: list
                            items:
                              type: object
                              x-dcl-go-type: InstancePreprocessDeleteRecipeStepsKeyNotificationsUpdateKeyNotificationsInfoKeyNotificationConfigs
                              properties:
                                delegatorGaiaId:
                                  type: integer
                                  format: int64
                                  x-dcl-go-name: DelegatorGaiaId
                                  description: The gaia id of the p4sa used as the
                                    delegator in the call to DelegateGrant.
                                grant:
                                  type: string
                                  x-dcl-go-name: Grant
                                  description: The grant that gives CCFE access to
                                    check key state. This should be a grant that gives
                                    the user specified in KeyNotificationsInfo.delegate
                                    access to the key (see go/grants-mvp-1pager).
                                keyOrVersionName:
                                  type: string
                                  x-dcl-go-name: KeyOrVersionName
                                  description: The key or version name to watch. This
                                    should not be a grant.
                  p4ServiceAccount:
                    type: string
                    x-dcl-go-name: P4ServiceAccount
                    description: If not empty, instruct CLH to assert the p4 service
                      account passed in projects metadata. Note this action is not
                      supported in hermetic envs.
                  permissionsInfo:
                    type: array
                    x-dcl-go-name: PermissionsInfo
                    description: permission info list to be requested
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstancePreprocessDeleteRecipeStepsPermissionsInfo
                      properties:
                        apiAttrs:
                          $ref: '#/components/schemas/Googleprotobufstruct'
                          x-dcl-go-name: ApiAttrs
                        iamPermissions:
                          type: array
                          x-dcl-go-name: IamPermissions
                          description: Contains the iam permission.
                          x-dcl-list-type: list
                          items:
                            type: object
                            x-dcl-go-type: InstancePreprocessDeleteRecipeStepsPermissionsInfoIamPermissions
                            properties:
                              permission:
                                type: string
                                x-dcl-go-name: Permission
                                description: It represents iam permission, for example
                                  "arcus2tier2.instance.create". It cannot be empty
                                  or "iam.permissions.none".
                        policyName:
                          type: object
                          x-dcl-go-name: PolicyName
                          x-dcl-go-type: InstancePreprocessDeleteRecipeStepsPermissionsInfoPolicyName
                          description: PolicyName contains the policy id and type.
                          properties:
                            id:
                              type: string
                              x-dcl-go-name: Id
                              description: Identifies an instance of the type. ID
                                format varies by type. The ID format is defined in
                                the IAM .service file that defines the type, either
                                in path_mapping or in a comment.
                            region:
                              type: string
                              x-dcl-go-name: Region
                              description: 'For Cloud IAM: The location of the Policy.
                                Must be empty or "global" for Policies owned by global
                                IAM. Must name a region from prodspec/cloud-iam-cloudspec
                                for Regional IAM Policies, see go/iam-faq#where-is-iam-currently-deployed.
                                For Local IAM: This field should be set to "local".'
                            type:
                              type: string
                              x-dcl-go-name: Type
                              description: 'Resource type. Types are defined in IAM''s
                                .service files. Valid values for type might be ''gce'',
                                ''gcs'', ''project'', ''account'' etc. TODO(b/112599007):
                                annotate this as holding the resource scope when that
                                is supported'
                        resourcePath:
                          type: string
                          x-dcl-go-name: ResourcePath
                          description: ResourcePath is used for cloud audit logging.
                            ResourcePath is also used for constructing the permission
                            denied error message when permission is denied. If resource_path
                            is provided, permission denied error message would be
                            "Permission X denied on resource Y" else error message
                            would be "Permission X denied on resource (or it may not
                            exist)".
                  preprocessUpdate:
                    type: object
                    x-dcl-go-name: PreprocessUpdate
                    x-dcl-go-type: InstancePreprocessDeleteRecipeStepsPreprocessUpdate
                    description: Optional update to be applied to the operation metadata
                      update if the recipe needs to initialize the operation metadata
                      during preprocess
                    properties:
                      latencySloBucketName:
                        type: string
                        x-dcl-go-name: LatencySloBucketName
                      publicOperationMetadata:
                        type: string
                        x-dcl-go-name: PublicOperationMetadata
                        description: Optional public operation metadata to be returned
                          by Preprocess calls LROs. The value must be serialized using
                          the protojson.AnyToString. CLH recipe code will de-serialize
                          it using the protojson.StringToAny.
                  publicErrorMessage:
                    type: string
                    x-dcl-go-name: PublicErrorMessage
                    description: Public error message specified by CLH.
                  publicOperationMetadata:
                    type: string
                    x-dcl-go-name: PublicOperationMetadata
                    description: Optional public operation metadata to be returned
                      by Apply calls LROs. The value must be serialized using the
                      protojson.AnyToString. CLH recipe code will de-serialize it
                      using the protojson.StringToAny.
                  quotaRequestDeltas:
                    type: array
                    x-dcl-go-name: QuotaRequestDeltas
                    description: The quota usage delta to be charged. NOT an absolute
                      Desired number, but rather a delta.
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstancePreprocessDeleteRecipeStepsQuotaRequestDeltas
                      properties:
                        amount:
                          type: integer
                          format: int64
                          x-dcl-go-name: Amount
                          description: How much quota is charged by the given resource.
                        metricName:
                          type: string
                          x-dcl-go-name: MetricName
                          description: The name of the metric to charge.
                  relativeTime:
                    type: integer
                    format: int64
                    x-dcl-go-name: RelativeTime
                    description: Relative time (in nanoseconds) after which the step
                      is to be run. The time is measured from the start of the operation.
                  requestedTenantProject:
                    type: object
                    x-dcl-go-name: RequestedTenantProject
                    x-dcl-go-type: InstancePreprocessDeleteRecipeStepsRequestedTenantProject
                    description: The tenant project to be requested.
                    properties:
                      folder:
                        type: string
                        x-dcl-go-name: Folder
                        description: Folder where to create this tenannt project.
                          This field will override the corresponding field in TenantProjectConfig
                          (google3/google/api/serviceconsumermanagement/v1/tenancy.proto).
                          With this filed configured dynamicly, tenants can create
                          per-region tenant project pool.
                        x-dcl-references:
                        - resource: Cloudresourcemanager/Folder
                          field: name
                      scope:
                        type: string
                        x-dcl-go-name: Scope
                        x-dcl-go-type: InstancePreprocessDeleteRecipeStepsRequestedTenantProjectScopeEnum
                        description: 'The scope of the tenant project. Note that if
                          the tenant project tag is "default", it''s automatically
                          treated as scope = PROJECT unless specified otherwise. Possible
                          values: UNKNOWN_SCOPE, PROJECT, RESOURCE'
                        enum:
                        - UNKNOWN_SCOPE
                        - PROJECT
                        - RESOURCE
                      tag:
                        type: string
                        x-dcl-go-name: Tag
                        description: A tenant project tag. This is the same tag that
                          is used by Tenancy Units API to identify a tenant project.
                          It is unique within a specific Tenancy Unit. CLH should
                          use a deterministic algorithm to generate a tag. For ex.,
                          if service needs a tenant project per consumer network,
                          consumer network name can be used to generate a tag. For
                          ex., if consumer network name is "my-network", a tag could
                          be "sn-my-network". Prefix "sn-" is used here, but CLH can
                          use any prefix they like as long as it does not change from
                          request to request. If a tenant project with tag "sn-my-network"
                          is requested, CCFE will check if a tenant project with such
                          a tag already exists. If it does, CCFE will reuses it. Otherwise
                          CCFE will create a new tenant project.
                  resourceMetadataSize:
                    type: integer
                    format: int64
                    x-dcl-go-name: ResourceMetadataSize
                    description: size of resource metadata that CL should return
                  sleepDuration:
                    type: integer
                    format: int64
                    x-dcl-go-name: SleepDuration
                    description: Amount of time (in nanoseconds) to sleep for when
                      the step runs.
                  status:
                    type: object
                    x-dcl-go-name: Status
                    x-dcl-go-type: InstancePreprocessDeleteRecipeStepsStatus
                    properties:
                      code:
                        type: integer
                        format: int64
                        x-dcl-go-name: Code
                        description: The status code, which should be an enum value
                          of .
                      details:
                        type: array
                        x-dcl-go-name: Details
                        description: A list of messages that carry the error details.
                          There is a common set of message types for APIs to use.
                        x-dcl-list-type: list
                        items:
                          type: object
                          x-dcl-go-type: InstancePreprocessDeleteRecipeStepsStatusDetails
                          properties:
                            typeUrl:
                              type: string
                              x-dcl-go-name: TypeUrl
                              description: 'A URL/resource name that uniquely identifies
                                the type of the serialized protocol buffer message.
                                This string must contain at least one "/" character.
                                The last segment of the URL''s path must represent
                                the fully qualified name of the type (as in `path/google.protobuf.Duration`).
                                The name should be in a canonical form (e.g., leading
                                "." is not accepted). In practice, teams usually precompile
                                into the binary all types that they expect it to use
                                in the context of Any. However, for URLs which use
                                the scheme `http`, `https`, or no scheme, one can
                                optionally set up a type server that maps type URLs
                                to message definitions as follows: * If no scheme
                                is provided, `https` is assumed. * An HTTP GET on
                                the URL must yield a value in binary format, or produce
                                an error. * Applications are allowed to cache lookup
                                results based on the URL, or have them precompiled
                                into a binary to avoid any lookup. Therefore, binary
                                compatibility needs to be preserved on changes to
                                types. (Use versioned type names to manage breaking
                                changes.) Note: this functionality is not currently
                                available in the official protobuf release, and it
                                is not used for type URLs beginning with type.googleapis.com.
                                Schemes other than `http`, `https` (or the empty scheme)
                                might be used with implementation specific semantics.'
                            value:
                              type: string
                              x-dcl-go-name: Value
                              description: Must be a valid serialized protocol buffer
                                of the above specified type.
                      message:
                        type: string
                        x-dcl-go-name: Message
                        description: A developer-facing error message, which should
                          be in English. Any user-facing error message should be localized
                          and sent in the field, or localized by the client.
                  updatedRepeatOperationDelaySec:
                    type: number
                    format: double
                    x-dcl-go-name: UpdatedRepeatOperationDelaySec
                    description: Updated repeat_operation_delay_sec in the operation
                      metadata.
            verifyDeadlineSecondsBelow:
              type: number
              format: double
              x-dcl-go-name: VerifyDeadlineSecondsBelow
              description: When set, CLH will verify that the RPC deadline (in seconds)
                is less than the value set in the field.
        preprocessFreezeRecipe:
          type: object
          x-dcl-go-name: PreprocessFreezeRecipe
          x-dcl-go-type: InstancePreprocessFreezeRecipe
          properties:
            delayToStoreResourcesInClhDbNanos:
              type: integer
              format: int64
              x-dcl-go-name: DelayToStoreResourcesInClhDbNanos
              description: Amount of time (in nanoseconds) takes for clh to store
                the resources listed in resource_names_stored_in_clh_with_delay in
                its DB and then return 200. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after that it will work normally. resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.
            honorCancelRequest:
              type: boolean
              x-dcl-go-name: HonorCancelRequest
              description: When set to true, CLH will return CANCELLED status on DONE
                if CCFE passed the cancellation bit.
            ignoreRecipeAfter:
              type: integer
              format: int64
              x-dcl-go-name: IgnoreRecipeAfter
              description: Absolute time (in nanoseconds) that specifies (if non-zero)
                after which this recipe should be ignored and not executed.
            populateOperationResult:
              type: boolean
              x-dcl-go-name: PopulateOperationResult
              description: When set to true, CLH will populate the Operation.Result,
                Operation.Result is optional and if it's not populated CCFE will use
                resourceViews to populate it.
            readonlyRecipeStartTime:
              type: string
              format: date-time
              x-dcl-go-name: ReadonlyRecipeStartTime
              description: Usually recipe start_time is calculated by operation.start_time
                but in readonly requests we won't have that, this field will act as
                an override for recipe start_time.
            resourceNamesStoredInClhWithDelay:
              type: array
              x-dcl-go-name: ResourceNamesStoredInClhWithDelay
              description: 'Resource names listed here will be returned to CCFE with
                resource_status=NOT_FOUND, instructing CCFE not to return them as
                part of Get/List calls. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                it will work normally and return the resource. example usage: resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.'
              x-dcl-list-type: list
              items:
                type: string
                x-dcl-go-type: string
            steps:
              type: array
              x-dcl-go-name: Steps
              x-dcl-list-type: list
              items:
                type: object
                x-dcl-go-type: InstancePreprocessFreezeRecipeSteps
                properties:
                  action:
                    type: string
                    x-dcl-go-name: Action
                    x-dcl-go-type: InstancePreprocessFreezeRecipeStepsActionEnum
                    description: 'Action to perform. Possible values: NO_ACTION, ALLOW,
                      ALLOW_WITH_LOG, DENY, DENY_WITH_LOG, LOG'
                    enum:
                    - NO_ACTION
                    - ALLOW
                    - ALLOW_WITH_LOG
                    - DENY
                    - DENY_WITH_LOG
                    - LOG
                  clhDataUpdateTime:
                    type: string
                    format: date-time
                    x-dcl-go-name: ClhDataUpdateTime
                    description: Optional timestamp simulating a write to a CLH-owned
                      database.
                  description:
                    type: string
                    x-dcl-go-name: Description
                    description: Description to store in CLHCallHistory history. Defaults
                      to a string provided by CLH (typically RPC name with parameters).
                  errorSpace:
                    type: string
                    x-dcl-go-name: ErrorSpace
                    description: If not empty, causes returned error to be in the
                      specified space.
                  keyNotificationsUpdate:
                    type: object
                    x-dcl-go-name: KeyNotificationsUpdate
                    x-dcl-go-type: InstancePreprocessFreezeRecipeStepsKeyNotificationsUpdate
                    description: Optional update to be applied to the key_notifications
                      field (which KMS keys to watch and how to watch them).
                    properties:
                      keyNotificationsInfo:
                        type: object
                        x-dcl-go-name: KeyNotificationsInfo
                        x-dcl-go-type: InstancePreprocessFreezeRecipeStepsKeyNotificationsUpdateKeyNotificationsInfo
                        properties:
                          dataVersion:
                            type: integer
                            format: int64
                            x-dcl-go-name: DataVersion
                            description: The version number of this configuration.
                              Any update is only applied if a new watched key has
                              a higher version number than the current watched key
                          delegate:
                            type: string
                            x-dcl-go-name: Delegate
                            description: 'The MDB role to delegate KMS grant to so
                              CCFE can register the key to be watched on behalf of
                              the CLH. Should be of the format: "serviceaccount:@prod.google.com"
                              This field will always be populated by CCFE and cannot
                              be updated by the CLH.'
                          keyNotificationConfigs:
                            type: array
                            x-dcl-go-name: KeyNotificationConfigs
                            description: The keys, if any, about which notifications
                              should be sent, along with any configuration options
                              controlling notification behavior. If absent, all the
                              watched keys are unregistered.
                            x-dcl-list-type: list
                            items:
                              type: object
                              x-dcl-go-type: InstancePreprocessFreezeRecipeStepsKeyNotificationsUpdateKeyNotificationsInfoKeyNotificationConfigs
                              properties:
                                delegatorGaiaId:
                                  type: integer
                                  format: int64
                                  x-dcl-go-name: DelegatorGaiaId
                                  description: The gaia id of the p4sa used as the
                                    delegator in the call to DelegateGrant.
                                grant:
                                  type: string
                                  x-dcl-go-name: Grant
                                  description: The grant that gives CCFE access to
                                    check key state. This should be a grant that gives
                                    the user specified in KeyNotificationsInfo.delegate
                                    access to the key (see go/grants-mvp-1pager).
                                keyOrVersionName:
                                  type: string
                                  x-dcl-go-name: KeyOrVersionName
                                  description: The key or version name to watch. This
                                    should not be a grant.
                  p4ServiceAccount:
                    type: string
                    x-dcl-go-name: P4ServiceAccount
                    description: If not empty, instruct CLH to assert the p4 service
                      account passed in projects metadata. Note this action is not
                      supported in hermetic envs.
                  permissionsInfo:
                    type: array
                    x-dcl-go-name: PermissionsInfo
                    description: permission info list to be requested
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstancePreprocessFreezeRecipeStepsPermissionsInfo
                      properties:
                        apiAttrs:
                          $ref: '#/components/schemas/Googleprotobufstruct'
                          x-dcl-go-name: ApiAttrs
                        iamPermissions:
                          type: array
                          x-dcl-go-name: IamPermissions
                          description: Contains the iam permission.
                          x-dcl-list-type: list
                          items:
                            type: object
                            x-dcl-go-type: InstancePreprocessFreezeRecipeStepsPermissionsInfoIamPermissions
                            properties:
                              permission:
                                type: string
                                x-dcl-go-name: Permission
                                description: It represents iam permission, for example
                                  "arcus2tier2.instance.create". It cannot be empty
                                  or "iam.permissions.none".
                        policyName:
                          type: object
                          x-dcl-go-name: PolicyName
                          x-dcl-go-type: InstancePreprocessFreezeRecipeStepsPermissionsInfoPolicyName
                          description: PolicyName contains the policy id and type.
                          properties:
                            id:
                              type: string
                              x-dcl-go-name: Id
                              description: Identifies an instance of the type. ID
                                format varies by type. The ID format is defined in
                                the IAM .service file that defines the type, either
                                in path_mapping or in a comment.
                            region:
                              type: string
                              x-dcl-go-name: Region
                              description: 'For Cloud IAM: The location of the Policy.
                                Must be empty or "global" for Policies owned by global
                                IAM. Must name a region from prodspec/cloud-iam-cloudspec
                                for Regional IAM Policies, see go/iam-faq#where-is-iam-currently-deployed.
                                For Local IAM: This field should be set to "local".'
                            type:
                              type: string
                              x-dcl-go-name: Type
                              description: 'Resource type. Types are defined in IAM''s
                                .service files. Valid values for type might be ''gce'',
                                ''gcs'', ''project'', ''account'' etc. TODO(b/112599007):
                                annotate this as holding the resource scope when that
                                is supported'
                        resourcePath:
                          type: string
                          x-dcl-go-name: ResourcePath
                          description: ResourcePath is used for cloud audit logging.
                            ResourcePath is also used for constructing the permission
                            denied error message when permission is denied. If resource_path
                            is provided, permission denied error message would be
                            "Permission X denied on resource Y" else error message
                            would be "Permission X denied on resource (or it may not
                            exist)".
                  preprocessUpdate:
                    type: object
                    x-dcl-go-name: PreprocessUpdate
                    x-dcl-go-type: InstancePreprocessFreezeRecipeStepsPreprocessUpdate
                    description: Optional update to be applied to the operation metadata
                      update if the recipe needs to initialize the operation metadata
                      during preprocess
                    properties:
                      latencySloBucketName:
                        type: string
                        x-dcl-go-name: LatencySloBucketName
                      publicOperationMetadata:
                        type: string
                        x-dcl-go-name: PublicOperationMetadata
                        description: Optional public operation metadata to be returned
                          by Preprocess calls LROs. The value must be serialized using
                          the protojson.AnyToString. CLH recipe code will de-serialize
                          it using the protojson.StringToAny.
                  publicErrorMessage:
                    type: string
                    x-dcl-go-name: PublicErrorMessage
                    description: Public error message specified by CLH.
                  publicOperationMetadata:
                    type: string
                    x-dcl-go-name: PublicOperationMetadata
                    description: Optional public operation metadata to be returned
                      by Apply calls LROs. The value must be serialized using the
                      protojson.AnyToString. CLH recipe code will de-serialize it
                      using the protojson.StringToAny.
                  quotaRequestDeltas:
                    type: array
                    x-dcl-go-name: QuotaRequestDeltas
                    description: The quota usage delta to be charged. NOT an absolute
                      Desired number, but rather a delta.
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstancePreprocessFreezeRecipeStepsQuotaRequestDeltas
                      properties:
                        amount:
                          type: integer
                          format: int64
                          x-dcl-go-name: Amount
                          description: How much quota is charged by the given resource.
                        metricName:
                          type: string
                          x-dcl-go-name: MetricName
                          description: The name of the metric to charge.
                  relativeTime:
                    type: integer
                    format: int64
                    x-dcl-go-name: RelativeTime
                    description: Relative time (in nanoseconds) after which the step
                      is to be run. The time is measured from the start of the operation.
                  requestedTenantProject:
                    type: object
                    x-dcl-go-name: RequestedTenantProject
                    x-dcl-go-type: InstancePreprocessFreezeRecipeStepsRequestedTenantProject
                    description: The tenant project to be requested.
                    properties:
                      folder:
                        type: string
                        x-dcl-go-name: Folder
                        description: Folder where to create this tenannt project.
                          This field will override the corresponding field in TenantProjectConfig
                          (google3/google/api/serviceconsumermanagement/v1/tenancy.proto).
                          With this filed configured dynamicly, tenants can create
                          per-region tenant project pool.
                        x-dcl-references:
                        - resource: Cloudresourcemanager/Folder
                          field: name
                      scope:
                        type: string
                        x-dcl-go-name: Scope
                        x-dcl-go-type: InstancePreprocessFreezeRecipeStepsRequestedTenantProjectScopeEnum
                        description: 'The scope of the tenant project. Note that if
                          the tenant project tag is "default", it''s automatically
                          treated as scope = PROJECT unless specified otherwise. Possible
                          values: UNKNOWN_SCOPE, PROJECT, RESOURCE'
                        enum:
                        - UNKNOWN_SCOPE
                        - PROJECT
                        - RESOURCE
                      tag:
                        type: string
                        x-dcl-go-name: Tag
                        description: A tenant project tag. This is the same tag that
                          is used by Tenancy Units API to identify a tenant project.
                          It is unique within a specific Tenancy Unit. CLH should
                          use a deterministic algorithm to generate a tag. For ex.,
                          if service needs a tenant project per consumer network,
                          consumer network name can be used to generate a tag. For
                          ex., if consumer network name is "my-network", a tag could
                          be "sn-my-network". Prefix "sn-" is used here, but CLH can
                          use any prefix they like as long as it does not change from
                          request to request. If a tenant project with tag "sn-my-network"
                          is requested, CCFE will check if a tenant project with such
                          a tag already exists. If it does, CCFE will reuses it. Otherwise
                          CCFE will create a new tenant project.
                  resourceMetadataSize:
                    type: integer
                    format: int64
                    x-dcl-go-name: ResourceMetadataSize
                    description: size of resource metadata that CL should return
                  sleepDuration:
                    type: integer
                    format: int64
                    x-dcl-go-name: SleepDuration
                    description: Amount of time (in nanoseconds) to sleep for when
                      the step runs.
                  status:
                    type: object
                    x-dcl-go-name: Status
                    x-dcl-go-type: InstancePreprocessFreezeRecipeStepsStatus
                    properties:
                      code:
                        type: integer
                        format: int64
                        x-dcl-go-name: Code
                        description: The status code, which should be an enum value
                          of .
                      details:
                        type: array
                        x-dcl-go-name: Details
                        description: A list of messages that carry the error details.
                          There is a common set of message types for APIs to use.
                        x-dcl-list-type: list
                        items:
                          type: object
                          x-dcl-go-type: InstancePreprocessFreezeRecipeStepsStatusDetails
                          properties:
                            typeUrl:
                              type: string
                              x-dcl-go-name: TypeUrl
                              description: 'A URL/resource name that uniquely identifies
                                the type of the serialized protocol buffer message.
                                This string must contain at least one "/" character.
                                The last segment of the URL''s path must represent
                                the fully qualified name of the type (as in `path/google.protobuf.Duration`).
                                The name should be in a canonical form (e.g., leading
                                "." is not accepted). In practice, teams usually precompile
                                into the binary all types that they expect it to use
                                in the context of Any. However, for URLs which use
                                the scheme `http`, `https`, or no scheme, one can
                                optionally set up a type server that maps type URLs
                                to message definitions as follows: * If no scheme
                                is provided, `https` is assumed. * An HTTP GET on
                                the URL must yield a value in binary format, or produce
                                an error. * Applications are allowed to cache lookup
                                results based on the URL, or have them precompiled
                                into a binary to avoid any lookup. Therefore, binary
                                compatibility needs to be preserved on changes to
                                types. (Use versioned type names to manage breaking
                                changes.) Note: this functionality is not currently
                                available in the official protobuf release, and it
                                is not used for type URLs beginning with type.googleapis.com.
                                Schemes other than `http`, `https` (or the empty scheme)
                                might be used with implementation specific semantics.'
                            value:
                              type: string
                              x-dcl-go-name: Value
                              description: Must be a valid serialized protocol buffer
                                of the above specified type.
                      message:
                        type: string
                        x-dcl-go-name: Message
                        description: A developer-facing error message, which should
                          be in English. Any user-facing error message should be localized
                          and sent in the field, or localized by the client.
                  updatedRepeatOperationDelaySec:
                    type: number
                    format: double
                    x-dcl-go-name: UpdatedRepeatOperationDelaySec
                    description: Updated repeat_operation_delay_sec in the operation
                      metadata.
            verifyDeadlineSecondsBelow:
              type: number
              format: double
              x-dcl-go-name: VerifyDeadlineSecondsBelow
              description: When set, CLH will verify that the RPC deadline (in seconds)
                is less than the value set in the field.
        preprocessGetRecipe:
          type: object
          x-dcl-go-name: PreprocessGetRecipe
          x-dcl-go-type: InstancePreprocessGetRecipe
          properties:
            delayToStoreResourcesInClhDbNanos:
              type: integer
              format: int64
              x-dcl-go-name: DelayToStoreResourcesInClhDbNanos
              description: Amount of time (in nanoseconds) takes for clh to store
                the resources listed in resource_names_stored_in_clh_with_delay in
                its DB and then return 200. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after that it will work normally. resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.
            honorCancelRequest:
              type: boolean
              x-dcl-go-name: HonorCancelRequest
              description: When set to true, CLH will return CANCELLED status on DONE
                if CCFE passed the cancellation bit.
            ignoreRecipeAfter:
              type: integer
              format: int64
              x-dcl-go-name: IgnoreRecipeAfter
              description: Absolute time (in nanoseconds) that specifies (if non-zero)
                after which this recipe should be ignored and not executed.
            populateOperationResult:
              type: boolean
              x-dcl-go-name: PopulateOperationResult
              description: When set to true, CLH will populate the Operation.Result,
                Operation.Result is optional and if it's not populated CCFE will use
                resourceViews to populate it.
            readonlyRecipeStartTime:
              type: string
              format: date-time
              x-dcl-go-name: ReadonlyRecipeStartTime
              description: Usually recipe start_time is calculated by operation.start_time
                but in readonly requests we won't have that, this field will act as
                an override for recipe start_time.
            resourceNamesStoredInClhWithDelay:
              type: array
              x-dcl-go-name: ResourceNamesStoredInClhWithDelay
              description: 'Resource names listed here will be returned to CCFE with
                resource_status=NOT_FOUND, instructing CCFE not to return them as
                part of Get/List calls. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                it will work normally and return the resource. example usage: resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.'
              x-dcl-list-type: list
              items:
                type: string
                x-dcl-go-type: string
            steps:
              type: array
              x-dcl-go-name: Steps
              x-dcl-list-type: list
              items:
                type: object
                x-dcl-go-type: InstancePreprocessGetRecipeSteps
                properties:
                  action:
                    type: string
                    x-dcl-go-name: Action
                    x-dcl-go-type: InstancePreprocessGetRecipeStepsActionEnum
                    description: 'Action to perform. Possible values: NO_ACTION, ALLOW,
                      ALLOW_WITH_LOG, DENY, DENY_WITH_LOG, LOG'
                    enum:
                    - NO_ACTION
                    - ALLOW
                    - ALLOW_WITH_LOG
                    - DENY
                    - DENY_WITH_LOG
                    - LOG
                  clhDataUpdateTime:
                    type: string
                    format: date-time
                    x-dcl-go-name: ClhDataUpdateTime
                    description: Optional timestamp simulating a write to a CLH-owned
                      database.
                  description:
                    type: string
                    x-dcl-go-name: Description
                    description: Description to store in CLHCallHistory history. Defaults
                      to a string provided by CLH (typically RPC name with parameters).
                  errorSpace:
                    type: string
                    x-dcl-go-name: ErrorSpace
                    description: If not empty, causes returned error to be in the
                      specified space.
                  keyNotificationsUpdate:
                    type: object
                    x-dcl-go-name: KeyNotificationsUpdate
                    x-dcl-go-type: InstancePreprocessGetRecipeStepsKeyNotificationsUpdate
                    description: Optional update to be applied to the key_notifications
                      field (which KMS keys to watch and how to watch them).
                    properties:
                      keyNotificationsInfo:
                        type: object
                        x-dcl-go-name: KeyNotificationsInfo
                        x-dcl-go-type: InstancePreprocessGetRecipeStepsKeyNotificationsUpdateKeyNotificationsInfo
                        properties:
                          dataVersion:
                            type: integer
                            format: int64
                            x-dcl-go-name: DataVersion
                            description: The version number of this configuration.
                              Any update is only applied if a new watched key has
                              a higher version number than the current watched key
                          delegate:
                            type: string
                            x-dcl-go-name: Delegate
                            description: 'The MDB role to delegate KMS grant to so
                              CCFE can register the key to be watched on behalf of
                              the CLH. Should be of the format: "serviceaccount:@prod.google.com"
                              This field will always be populated by CCFE and cannot
                              be updated by the CLH.'
                          keyNotificationConfigs:
                            type: array
                            x-dcl-go-name: KeyNotificationConfigs
                            description: The keys, if any, about which notifications
                              should be sent, along with any configuration options
                              controlling notification behavior. If absent, all the
                              watched keys are unregistered.
                            x-dcl-list-type: list
                            items:
                              type: object
                              x-dcl-go-type: InstancePreprocessGetRecipeStepsKeyNotificationsUpdateKeyNotificationsInfoKeyNotificationConfigs
                              properties:
                                delegatorGaiaId:
                                  type: integer
                                  format: int64
                                  x-dcl-go-name: DelegatorGaiaId
                                  description: The gaia id of the p4sa used as the
                                    delegator in the call to DelegateGrant.
                                grant:
                                  type: string
                                  x-dcl-go-name: Grant
                                  description: The grant that gives CCFE access to
                                    check key state. This should be a grant that gives
                                    the user specified in KeyNotificationsInfo.delegate
                                    access to the key (see go/grants-mvp-1pager).
                                keyOrVersionName:
                                  type: string
                                  x-dcl-go-name: KeyOrVersionName
                                  description: The key or version name to watch. This
                                    should not be a grant.
                  p4ServiceAccount:
                    type: string
                    x-dcl-go-name: P4ServiceAccount
                    description: If not empty, instruct CLH to assert the p4 service
                      account passed in projects metadata. Note this action is not
                      supported in hermetic envs.
                  permissionsInfo:
                    type: array
                    x-dcl-go-name: PermissionsInfo
                    description: permission info list to be requested
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstancePreprocessGetRecipeStepsPermissionsInfo
                      properties:
                        apiAttrs:
                          $ref: '#/components/schemas/Googleprotobufstruct'
                          x-dcl-go-name: ApiAttrs
                        iamPermissions:
                          type: array
                          x-dcl-go-name: IamPermissions
                          description: Contains the iam permission.
                          x-dcl-list-type: list
                          items:
                            type: object
                            x-dcl-go-type: InstancePreprocessGetRecipeStepsPermissionsInfoIamPermissions
                            properties:
                              permission:
                                type: string
                                x-dcl-go-name: Permission
                                description: It represents iam permission, for example
                                  "arcus2tier2.instance.create". It cannot be empty
                                  or "iam.permissions.none".
                        policyName:
                          type: object
                          x-dcl-go-name: PolicyName
                          x-dcl-go-type: InstancePreprocessGetRecipeStepsPermissionsInfoPolicyName
                          description: PolicyName contains the policy id and type.
                          properties:
                            id:
                              type: string
                              x-dcl-go-name: Id
                              description: Identifies an instance of the type. ID
                                format varies by type. The ID format is defined in
                                the IAM .service file that defines the type, either
                                in path_mapping or in a comment.
                            region:
                              type: string
                              x-dcl-go-name: Region
                              description: 'For Cloud IAM: The location of the Policy.
                                Must be empty or "global" for Policies owned by global
                                IAM. Must name a region from prodspec/cloud-iam-cloudspec
                                for Regional IAM Policies, see go/iam-faq#where-is-iam-currently-deployed.
                                For Local IAM: This field should be set to "local".'
                            type:
                              type: string
                              x-dcl-go-name: Type
                              description: 'Resource type. Types are defined in IAM''s
                                .service files. Valid values for type might be ''gce'',
                                ''gcs'', ''project'', ''account'' etc. TODO(b/112599007):
                                annotate this as holding the resource scope when that
                                is supported'
                        resourcePath:
                          type: string
                          x-dcl-go-name: ResourcePath
                          description: ResourcePath is used for cloud audit logging.
                            ResourcePath is also used for constructing the permission
                            denied error message when permission is denied. If resource_path
                            is provided, permission denied error message would be
                            "Permission X denied on resource Y" else error message
                            would be "Permission X denied on resource (or it may not
                            exist)".
                  preprocessUpdate:
                    type: object
                    x-dcl-go-name: PreprocessUpdate
                    x-dcl-go-type: InstancePreprocessGetRecipeStepsPreprocessUpdate
                    description: Optional update to be applied to the operation metadata
                      update if the recipe needs to initialize the operation metadata
                      during preprocess
                    properties:
                      latencySloBucketName:
                        type: string
                        x-dcl-go-name: LatencySloBucketName
                      publicOperationMetadata:
                        type: string
                        x-dcl-go-name: PublicOperationMetadata
                        description: Optional public operation metadata to be returned
                          by Preprocess calls LROs. The value must be serialized using
                          the protojson.AnyToString. CLH recipe code will de-serialize
                          it using the protojson.StringToAny.
                  publicErrorMessage:
                    type: string
                    x-dcl-go-name: PublicErrorMessage
                    description: Public error message specified by CLH.
                  publicOperationMetadata:
                    type: string
                    x-dcl-go-name: PublicOperationMetadata
                    description: Optional public operation metadata to be returned
                      by Apply calls LROs. The value must be serialized using the
                      protojson.AnyToString. CLH recipe code will de-serialize it
                      using the protojson.StringToAny.
                  quotaRequestDeltas:
                    type: array
                    x-dcl-go-name: QuotaRequestDeltas
                    description: The quota usage delta to be charged. NOT an absolute
                      Desired number, but rather a delta.
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstancePreprocessGetRecipeStepsQuotaRequestDeltas
                      properties:
                        amount:
                          type: integer
                          format: int64
                          x-dcl-go-name: Amount
                          description: How much quota is charged by the given resource.
                        metricName:
                          type: string
                          x-dcl-go-name: MetricName
                          description: The name of the metric to charge.
                  relativeTime:
                    type: integer
                    format: int64
                    x-dcl-go-name: RelativeTime
                    description: Relative time (in nanoseconds) after which the step
                      is to be run. The time is measured from the start of the operation.
                  requestedTenantProject:
                    type: object
                    x-dcl-go-name: RequestedTenantProject
                    x-dcl-go-type: InstancePreprocessGetRecipeStepsRequestedTenantProject
                    description: The tenant project to be requested.
                    properties:
                      folder:
                        type: string
                        x-dcl-go-name: Folder
                        description: Folder where to create this tenannt project.
                          This field will override the corresponding field in TenantProjectConfig
                          (google3/google/api/serviceconsumermanagement/v1/tenancy.proto).
                          With this filed configured dynamicly, tenants can create
                          per-region tenant project pool.
                        x-dcl-references:
                        - resource: Cloudresourcemanager/Folder
                          field: name
                      scope:
                        type: string
                        x-dcl-go-name: Scope
                        x-dcl-go-type: InstancePreprocessGetRecipeStepsRequestedTenantProjectScopeEnum
                        description: 'The scope of the tenant project. Note that if
                          the tenant project tag is "default", it''s automatically
                          treated as scope = PROJECT unless specified otherwise. Possible
                          values: UNKNOWN_SCOPE, PROJECT, RESOURCE'
                        enum:
                        - UNKNOWN_SCOPE
                        - PROJECT
                        - RESOURCE
                      tag:
                        type: string
                        x-dcl-go-name: Tag
                        description: A tenant project tag. This is the same tag that
                          is used by Tenancy Units API to identify a tenant project.
                          It is unique within a specific Tenancy Unit. CLH should
                          use a deterministic algorithm to generate a tag. For ex.,
                          if service needs a tenant project per consumer network,
                          consumer network name can be used to generate a tag. For
                          ex., if consumer network name is "my-network", a tag could
                          be "sn-my-network". Prefix "sn-" is used here, but CLH can
                          use any prefix they like as long as it does not change from
                          request to request. If a tenant project with tag "sn-my-network"
                          is requested, CCFE will check if a tenant project with such
                          a tag already exists. If it does, CCFE will reuses it. Otherwise
                          CCFE will create a new tenant project.
                  resourceMetadataSize:
                    type: integer
                    format: int64
                    x-dcl-go-name: ResourceMetadataSize
                    description: size of resource metadata that CL should return
                  sleepDuration:
                    type: integer
                    format: int64
                    x-dcl-go-name: SleepDuration
                    description: Amount of time (in nanoseconds) to sleep for when
                      the step runs.
                  status:
                    type: object
                    x-dcl-go-name: Status
                    x-dcl-go-type: InstancePreprocessGetRecipeStepsStatus
                    properties:
                      code:
                        type: integer
                        format: int64
                        x-dcl-go-name: Code
                        description: The status code, which should be an enum value
                          of .
                      details:
                        type: array
                        x-dcl-go-name: Details
                        description: A list of messages that carry the error details.
                          There is a common set of message types for APIs to use.
                        x-dcl-list-type: list
                        items:
                          type: object
                          x-dcl-go-type: InstancePreprocessGetRecipeStepsStatusDetails
                          properties:
                            typeUrl:
                              type: string
                              x-dcl-go-name: TypeUrl
                              description: 'A URL/resource name that uniquely identifies
                                the type of the serialized protocol buffer message.
                                This string must contain at least one "/" character.
                                The last segment of the URL''s path must represent
                                the fully qualified name of the type (as in `path/google.protobuf.Duration`).
                                The name should be in a canonical form (e.g., leading
                                "." is not accepted). In practice, teams usually precompile
                                into the binary all types that they expect it to use
                                in the context of Any. However, for URLs which use
                                the scheme `http`, `https`, or no scheme, one can
                                optionally set up a type server that maps type URLs
                                to message definitions as follows: * If no scheme
                                is provided, `https` is assumed. * An HTTP GET on
                                the URL must yield a value in binary format, or produce
                                an error. * Applications are allowed to cache lookup
                                results based on the URL, or have them precompiled
                                into a binary to avoid any lookup. Therefore, binary
                                compatibility needs to be preserved on changes to
                                types. (Use versioned type names to manage breaking
                                changes.) Note: this functionality is not currently
                                available in the official protobuf release, and it
                                is not used for type URLs beginning with type.googleapis.com.
                                Schemes other than `http`, `https` (or the empty scheme)
                                might be used with implementation specific semantics.'
                            value:
                              type: string
                              x-dcl-go-name: Value
                              description: Must be a valid serialized protocol buffer
                                of the above specified type.
                      message:
                        type: string
                        x-dcl-go-name: Message
                        description: A developer-facing error message, which should
                          be in English. Any user-facing error message should be localized
                          and sent in the field, or localized by the client.
                  updatedRepeatOperationDelaySec:
                    type: number
                    format: double
                    x-dcl-go-name: UpdatedRepeatOperationDelaySec
                    description: Updated repeat_operation_delay_sec in the operation
                      metadata.
            verifyDeadlineSecondsBelow:
              type: number
              format: double
              x-dcl-go-name: VerifyDeadlineSecondsBelow
              description: When set, CLH will verify that the RPC deadline (in seconds)
                is less than the value set in the field.
        preprocessPassthroughRecipe:
          type: object
          x-dcl-go-name: PreprocessPassthroughRecipe
          x-dcl-go-type: InstancePreprocessPassthroughRecipe
          properties:
            delayToStoreResourcesInClhDbNanos:
              type: integer
              format: int64
              x-dcl-go-name: DelayToStoreResourcesInClhDbNanos
              description: Amount of time (in nanoseconds) takes for clh to store
                the resources listed in resource_names_stored_in_clh_with_delay in
                its DB and then return 200. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after that it will work normally. resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.
            honorCancelRequest:
              type: boolean
              x-dcl-go-name: HonorCancelRequest
              description: When set to true, CLH will return CANCELLED status on DONE
                if CCFE passed the cancellation bit.
            ignoreRecipeAfter:
              type: integer
              format: int64
              x-dcl-go-name: IgnoreRecipeAfter
              description: Absolute time (in nanoseconds) that specifies (if non-zero)
                after which this recipe should be ignored and not executed.
            populateOperationResult:
              type: boolean
              x-dcl-go-name: PopulateOperationResult
              description: When set to true, CLH will populate the Operation.Result,
                Operation.Result is optional and if it's not populated CCFE will use
                resourceViews to populate it.
            readonlyRecipeStartTime:
              type: string
              format: date-time
              x-dcl-go-name: ReadonlyRecipeStartTime
              description: Usually recipe start_time is calculated by operation.start_time
                but in readonly requests we won't have that, this field will act as
                an override for recipe start_time.
            resourceNamesStoredInClhWithDelay:
              type: array
              x-dcl-go-name: ResourceNamesStoredInClhWithDelay
              description: 'Resource names listed here will be returned to CCFE with
                resource_status=NOT_FOUND, instructing CCFE not to return them as
                part of Get/List calls. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                it will work normally and return the resource. example usage: resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.'
              x-dcl-list-type: list
              items:
                type: string
                x-dcl-go-type: string
            steps:
              type: array
              x-dcl-go-name: Steps
              x-dcl-list-type: list
              items:
                type: object
                x-dcl-go-type: InstancePreprocessPassthroughRecipeSteps
                properties:
                  action:
                    type: string
                    x-dcl-go-name: Action
                    x-dcl-go-type: InstancePreprocessPassthroughRecipeStepsActionEnum
                    description: 'Action to perform. Possible values: NO_ACTION, ALLOW,
                      ALLOW_WITH_LOG, DENY, DENY_WITH_LOG, LOG'
                    enum:
                    - NO_ACTION
                    - ALLOW
                    - ALLOW_WITH_LOG
                    - DENY
                    - DENY_WITH_LOG
                    - LOG
                  clhDataUpdateTime:
                    type: string
                    format: date-time
                    x-dcl-go-name: ClhDataUpdateTime
                    description: Optional timestamp simulating a write to a CLH-owned
                      database.
                  description:
                    type: string
                    x-dcl-go-name: Description
                    description: Description to store in CLHCallHistory history. Defaults
                      to a string provided by CLH (typically RPC name with parameters).
                  errorSpace:
                    type: string
                    x-dcl-go-name: ErrorSpace
                    description: If not empty, causes returned error to be in the
                      specified space.
                  keyNotificationsUpdate:
                    type: object
                    x-dcl-go-name: KeyNotificationsUpdate
                    x-dcl-go-type: InstancePreprocessPassthroughRecipeStepsKeyNotificationsUpdate
                    description: Optional update to be applied to the key_notifications
                      field (which KMS keys to watch and how to watch them).
                    properties:
                      keyNotificationsInfo:
                        type: object
                        x-dcl-go-name: KeyNotificationsInfo
                        x-dcl-go-type: InstancePreprocessPassthroughRecipeStepsKeyNotificationsUpdateKeyNotificationsInfo
                        properties:
                          dataVersion:
                            type: integer
                            format: int64
                            x-dcl-go-name: DataVersion
                            description: The version number of this configuration.
                              Any update is only applied if a new watched key has
                              a higher version number than the current watched key
                          delegate:
                            type: string
                            x-dcl-go-name: Delegate
                            description: 'The MDB role to delegate KMS grant to so
                              CCFE can register the key to be watched on behalf of
                              the CLH. Should be of the format: "serviceaccount:@prod.google.com"
                              This field will always be populated by CCFE and cannot
                              be updated by the CLH.'
                          keyNotificationConfigs:
                            type: array
                            x-dcl-go-name: KeyNotificationConfigs
                            description: The keys, if any, about which notifications
                              should be sent, along with any configuration options
                              controlling notification behavior. If absent, all the
                              watched keys are unregistered.
                            x-dcl-list-type: list
                            items:
                              type: object
                              x-dcl-go-type: InstancePreprocessPassthroughRecipeStepsKeyNotificationsUpdateKeyNotificationsInfoKeyNotificationConfigs
                              properties:
                                delegatorGaiaId:
                                  type: integer
                                  format: int64
                                  x-dcl-go-name: DelegatorGaiaId
                                  description: The gaia id of the p4sa used as the
                                    delegator in the call to DelegateGrant.
                                grant:
                                  type: string
                                  x-dcl-go-name: Grant
                                  description: The grant that gives CCFE access to
                                    check key state. This should be a grant that gives
                                    the user specified in KeyNotificationsInfo.delegate
                                    access to the key (see go/grants-mvp-1pager).
                                keyOrVersionName:
                                  type: string
                                  x-dcl-go-name: KeyOrVersionName
                                  description: The key or version name to watch. This
                                    should not be a grant.
                  p4ServiceAccount:
                    type: string
                    x-dcl-go-name: P4ServiceAccount
                    description: If not empty, instruct CLH to assert the p4 service
                      account passed in projects metadata. Note this action is not
                      supported in hermetic envs.
                  permissionsInfo:
                    type: array
                    x-dcl-go-name: PermissionsInfo
                    description: permission info list to be requested
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstancePreprocessPassthroughRecipeStepsPermissionsInfo
                      properties:
                        apiAttrs:
                          $ref: '#/components/schemas/Googleprotobufstruct'
                          x-dcl-go-name: ApiAttrs
                        iamPermissions:
                          type: array
                          x-dcl-go-name: IamPermissions
                          description: Contains the iam permission.
                          x-dcl-list-type: list
                          items:
                            type: object
                            x-dcl-go-type: InstancePreprocessPassthroughRecipeStepsPermissionsInfoIamPermissions
                            properties:
                              permission:
                                type: string
                                x-dcl-go-name: Permission
                                description: It represents iam permission, for example
                                  "arcus2tier2.instance.create". It cannot be empty
                                  or "iam.permissions.none".
                        policyName:
                          type: object
                          x-dcl-go-name: PolicyName
                          x-dcl-go-type: InstancePreprocessPassthroughRecipeStepsPermissionsInfoPolicyName
                          description: PolicyName contains the policy id and type.
                          properties:
                            id:
                              type: string
                              x-dcl-go-name: Id
                              description: Identifies an instance of the type. ID
                                format varies by type. The ID format is defined in
                                the IAM .service file that defines the type, either
                                in path_mapping or in a comment.
                            region:
                              type: string
                              x-dcl-go-name: Region
                              description: 'For Cloud IAM: The location of the Policy.
                                Must be empty or "global" for Policies owned by global
                                IAM. Must name a region from prodspec/cloud-iam-cloudspec
                                for Regional IAM Policies, see go/iam-faq#where-is-iam-currently-deployed.
                                For Local IAM: This field should be set to "local".'
                            type:
                              type: string
                              x-dcl-go-name: Type
                              description: 'Resource type. Types are defined in IAM''s
                                .service files. Valid values for type might be ''gce'',
                                ''gcs'', ''project'', ''account'' etc. TODO(b/112599007):
                                annotate this as holding the resource scope when that
                                is supported'
                        resourcePath:
                          type: string
                          x-dcl-go-name: ResourcePath
                          description: ResourcePath is used for cloud audit logging.
                            ResourcePath is also used for constructing the permission
                            denied error message when permission is denied. If resource_path
                            is provided, permission denied error message would be
                            "Permission X denied on resource Y" else error message
                            would be "Permission X denied on resource (or it may not
                            exist)".
                  preprocessUpdate:
                    type: object
                    x-dcl-go-name: PreprocessUpdate
                    x-dcl-go-type: InstancePreprocessPassthroughRecipeStepsPreprocessUpdate
                    description: Optional update to be applied to the operation metadata
                      update if the recipe needs to initialize the operation metadata
                      during preprocess
                    properties:
                      latencySloBucketName:
                        type: string
                        x-dcl-go-name: LatencySloBucketName
                      publicOperationMetadata:
                        type: string
                        x-dcl-go-name: PublicOperationMetadata
                        description: Optional public operation metadata to be returned
                          by Preprocess calls LROs. The value must be serialized using
                          the protojson.AnyToString. CLH recipe code will de-serialize
                          it using the protojson.StringToAny.
                  publicErrorMessage:
                    type: string
                    x-dcl-go-name: PublicErrorMessage
                    description: Public error message specified by CLH.
                  publicOperationMetadata:
                    type: string
                    x-dcl-go-name: PublicOperationMetadata
                    description: Optional public operation metadata to be returned
                      by Apply calls LROs. The value must be serialized using the
                      protojson.AnyToString. CLH recipe code will de-serialize it
                      using the protojson.StringToAny.
                  quotaRequestDeltas:
                    type: array
                    x-dcl-go-name: QuotaRequestDeltas
                    description: The quota usage delta to be charged. NOT an absolute
                      Desired number, but rather a delta.
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstancePreprocessPassthroughRecipeStepsQuotaRequestDeltas
                      properties:
                        amount:
                          type: integer
                          format: int64
                          x-dcl-go-name: Amount
                          description: How much quota is charged by the given resource.
                        metricName:
                          type: string
                          x-dcl-go-name: MetricName
                          description: The name of the metric to charge.
                  relativeTime:
                    type: integer
                    format: int64
                    x-dcl-go-name: RelativeTime
                    description: Relative time (in nanoseconds) after which the step
                      is to be run. The time is measured from the start of the operation.
                  requestedTenantProject:
                    type: object
                    x-dcl-go-name: RequestedTenantProject
                    x-dcl-go-type: InstancePreprocessPassthroughRecipeStepsRequestedTenantProject
                    description: The tenant project to be requested.
                    properties:
                      folder:
                        type: string
                        x-dcl-go-name: Folder
                        description: Folder where to create this tenannt project.
                          This field will override the corresponding field in TenantProjectConfig
                          (google3/google/api/serviceconsumermanagement/v1/tenancy.proto).
                          With this filed configured dynamicly, tenants can create
                          per-region tenant project pool.
                        x-dcl-references:
                        - resource: Cloudresourcemanager/Folder
                          field: name
                      scope:
                        type: string
                        x-dcl-go-name: Scope
                        x-dcl-go-type: InstancePreprocessPassthroughRecipeStepsRequestedTenantProjectScopeEnum
                        description: 'The scope of the tenant project. Note that if
                          the tenant project tag is "default", it''s automatically
                          treated as scope = PROJECT unless specified otherwise. Possible
                          values: UNKNOWN_SCOPE, PROJECT, RESOURCE'
                        enum:
                        - UNKNOWN_SCOPE
                        - PROJECT
                        - RESOURCE
                      tag:
                        type: string
                        x-dcl-go-name: Tag
                        description: A tenant project tag. This is the same tag that
                          is used by Tenancy Units API to identify a tenant project.
                          It is unique within a specific Tenancy Unit. CLH should
                          use a deterministic algorithm to generate a tag. For ex.,
                          if service needs a tenant project per consumer network,
                          consumer network name can be used to generate a tag. For
                          ex., if consumer network name is "my-network", a tag could
                          be "sn-my-network". Prefix "sn-" is used here, but CLH can
                          use any prefix they like as long as it does not change from
                          request to request. If a tenant project with tag "sn-my-network"
                          is requested, CCFE will check if a tenant project with such
                          a tag already exists. If it does, CCFE will reuses it. Otherwise
                          CCFE will create a new tenant project.
                  resourceMetadataSize:
                    type: integer
                    format: int64
                    x-dcl-go-name: ResourceMetadataSize
                    description: size of resource metadata that CL should return
                  sleepDuration:
                    type: integer
                    format: int64
                    x-dcl-go-name: SleepDuration
                    description: Amount of time (in nanoseconds) to sleep for when
                      the step runs.
                  status:
                    type: object
                    x-dcl-go-name: Status
                    x-dcl-go-type: InstancePreprocessPassthroughRecipeStepsStatus
                    properties:
                      code:
                        type: integer
                        format: int64
                        x-dcl-go-name: Code
                        description: The status code, which should be an enum value
                          of .
                      details:
                        type: array
                        x-dcl-go-name: Details
                        description: A list of messages that carry the error details.
                          There is a common set of message types for APIs to use.
                        x-dcl-list-type: list
                        items:
                          type: object
                          x-dcl-go-type: InstancePreprocessPassthroughRecipeStepsStatusDetails
                          properties:
                            typeUrl:
                              type: string
                              x-dcl-go-name: TypeUrl
                              description: 'A URL/resource name that uniquely identifies
                                the type of the serialized protocol buffer message.
                                This string must contain at least one "/" character.
                                The last segment of the URL''s path must represent
                                the fully qualified name of the type (as in `path/google.protobuf.Duration`).
                                The name should be in a canonical form (e.g., leading
                                "." is not accepted). In practice, teams usually precompile
                                into the binary all types that they expect it to use
                                in the context of Any. However, for URLs which use
                                the scheme `http`, `https`, or no scheme, one can
                                optionally set up a type server that maps type URLs
                                to message definitions as follows: * If no scheme
                                is provided, `https` is assumed. * An HTTP GET on
                                the URL must yield a value in binary format, or produce
                                an error. * Applications are allowed to cache lookup
                                results based on the URL, or have them precompiled
                                into a binary to avoid any lookup. Therefore, binary
                                compatibility needs to be preserved on changes to
                                types. (Use versioned type names to manage breaking
                                changes.) Note: this functionality is not currently
                                available in the official protobuf release, and it
                                is not used for type URLs beginning with type.googleapis.com.
                                Schemes other than `http`, `https` (or the empty scheme)
                                might be used with implementation specific semantics.'
                            value:
                              type: string
                              x-dcl-go-name: Value
                              description: Must be a valid serialized protocol buffer
                                of the above specified type.
                      message:
                        type: string
                        x-dcl-go-name: Message
                        description: A developer-facing error message, which should
                          be in English. Any user-facing error message should be localized
                          and sent in the field, or localized by the client.
                  updatedRepeatOperationDelaySec:
                    type: number
                    format: double
                    x-dcl-go-name: UpdatedRepeatOperationDelaySec
                    description: Updated repeat_operation_delay_sec in the operation
                      metadata.
            verifyDeadlineSecondsBelow:
              type: number
              format: double
              x-dcl-go-name: VerifyDeadlineSecondsBelow
              description: When set, CLH will verify that the RPC deadline (in seconds)
                is less than the value set in the field.
        preprocessReconcileRecipe:
          type: object
          x-dcl-go-name: PreprocessReconcileRecipe
          x-dcl-go-type: InstancePreprocessReconcileRecipe
          properties:
            delayToStoreResourcesInClhDbNanos:
              type: integer
              format: int64
              x-dcl-go-name: DelayToStoreResourcesInClhDbNanos
              description: Amount of time (in nanoseconds) takes for clh to store
                the resources listed in resource_names_stored_in_clh_with_delay in
                its DB and then return 200. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after that it will work normally. resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.
            honorCancelRequest:
              type: boolean
              x-dcl-go-name: HonorCancelRequest
              description: When set to true, CLH will return CANCELLED status on DONE
                if CCFE passed the cancellation bit.
            ignoreRecipeAfter:
              type: integer
              format: int64
              x-dcl-go-name: IgnoreRecipeAfter
              description: Absolute time (in nanoseconds) that specifies (if non-zero)
                after which this recipe should be ignored and not executed.
            populateOperationResult:
              type: boolean
              x-dcl-go-name: PopulateOperationResult
              description: When set to true, CLH will populate the Operation.Result,
                Operation.Result is optional and if it's not populated CCFE will use
                resourceViews to populate it.
            readonlyRecipeStartTime:
              type: string
              format: date-time
              x-dcl-go-name: ReadonlyRecipeStartTime
              description: Usually recipe start_time is calculated by operation.start_time
                but in readonly requests we won't have that, this field will act as
                an override for recipe start_time.
            resourceNamesStoredInClhWithDelay:
              type: array
              x-dcl-go-name: ResourceNamesStoredInClhWithDelay
              description: 'Resource names listed here will be returned to CCFE with
                resource_status=NOT_FOUND, instructing CCFE not to return them as
                part of Get/List calls. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                it will work normally and return the resource. example usage: resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.'
              x-dcl-list-type: list
              items:
                type: string
                x-dcl-go-type: string
            steps:
              type: array
              x-dcl-go-name: Steps
              x-dcl-list-type: list
              items:
                type: object
                x-dcl-go-type: InstancePreprocessReconcileRecipeSteps
                properties:
                  action:
                    type: string
                    x-dcl-go-name: Action
                    x-dcl-go-type: InstancePreprocessReconcileRecipeStepsActionEnum
                    description: 'Action to perform. Possible values: NO_ACTION, ALLOW,
                      ALLOW_WITH_LOG, DENY, DENY_WITH_LOG, LOG'
                    enum:
                    - NO_ACTION
                    - ALLOW
                    - ALLOW_WITH_LOG
                    - DENY
                    - DENY_WITH_LOG
                    - LOG
                  clhDataUpdateTime:
                    type: string
                    format: date-time
                    x-dcl-go-name: ClhDataUpdateTime
                    description: Optional timestamp simulating a write to a CLH-owned
                      database.
                  description:
                    type: string
                    x-dcl-go-name: Description
                    description: Description to store in CLHCallHistory history. Defaults
                      to a string provided by CLH (typically RPC name with parameters).
                  errorSpace:
                    type: string
                    x-dcl-go-name: ErrorSpace
                    description: If not empty, causes returned error to be in the
                      specified space.
                  keyNotificationsUpdate:
                    type: object
                    x-dcl-go-name: KeyNotificationsUpdate
                    x-dcl-go-type: InstancePreprocessReconcileRecipeStepsKeyNotificationsUpdate
                    description: Optional update to be applied to the key_notifications
                      field (which KMS keys to watch and how to watch them).
                    properties:
                      keyNotificationsInfo:
                        type: object
                        x-dcl-go-name: KeyNotificationsInfo
                        x-dcl-go-type: InstancePreprocessReconcileRecipeStepsKeyNotificationsUpdateKeyNotificationsInfo
                        properties:
                          dataVersion:
                            type: integer
                            format: int64
                            x-dcl-go-name: DataVersion
                            description: The version number of this configuration.
                              Any update is only applied if a new watched key has
                              a higher version number than the current watched key
                          delegate:
                            type: string
                            x-dcl-go-name: Delegate
                            description: 'The MDB role to delegate KMS grant to so
                              CCFE can register the key to be watched on behalf of
                              the CLH. Should be of the format: "serviceaccount:@prod.google.com"
                              This field will always be populated by CCFE and cannot
                              be updated by the CLH.'
                          keyNotificationConfigs:
                            type: array
                            x-dcl-go-name: KeyNotificationConfigs
                            description: The keys, if any, about which notifications
                              should be sent, along with any configuration options
                              controlling notification behavior. If absent, all the
                              watched keys are unregistered.
                            x-dcl-list-type: list
                            items:
                              type: object
                              x-dcl-go-type: InstancePreprocessReconcileRecipeStepsKeyNotificationsUpdateKeyNotificationsInfoKeyNotificationConfigs
                              properties:
                                delegatorGaiaId:
                                  type: integer
                                  format: int64
                                  x-dcl-go-name: DelegatorGaiaId
                                  description: The gaia id of the p4sa used as the
                                    delegator in the call to DelegateGrant.
                                grant:
                                  type: string
                                  x-dcl-go-name: Grant
                                  description: The grant that gives CCFE access to
                                    check key state. This should be a grant that gives
                                    the user specified in KeyNotificationsInfo.delegate
                                    access to the key (see go/grants-mvp-1pager).
                                keyOrVersionName:
                                  type: string
                                  x-dcl-go-name: KeyOrVersionName
                                  description: The key or version name to watch. This
                                    should not be a grant.
                  p4ServiceAccount:
                    type: string
                    x-dcl-go-name: P4ServiceAccount
                    description: If not empty, instruct CLH to assert the p4 service
                      account passed in projects metadata. Note this action is not
                      supported in hermetic envs.
                  permissionsInfo:
                    type: array
                    x-dcl-go-name: PermissionsInfo
                    description: permission info list to be requested
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstancePreprocessReconcileRecipeStepsPermissionsInfo
                      properties:
                        apiAttrs:
                          $ref: '#/components/schemas/Googleprotobufstruct'
                          x-dcl-go-name: ApiAttrs
                        iamPermissions:
                          type: array
                          x-dcl-go-name: IamPermissions
                          description: Contains the iam permission.
                          x-dcl-list-type: list
                          items:
                            type: object
                            x-dcl-go-type: InstancePreprocessReconcileRecipeStepsPermissionsInfoIamPermissions
                            properties:
                              permission:
                                type: string
                                x-dcl-go-name: Permission
                                description: It represents iam permission, for example
                                  "arcus2tier2.instance.create". It cannot be empty
                                  or "iam.permissions.none".
                        policyName:
                          type: object
                          x-dcl-go-name: PolicyName
                          x-dcl-go-type: InstancePreprocessReconcileRecipeStepsPermissionsInfoPolicyName
                          description: PolicyName contains the policy id and type.
                          properties:
                            id:
                              type: string
                              x-dcl-go-name: Id
                              description: Identifies an instance of the type. ID
                                format varies by type. The ID format is defined in
                                the IAM .service file that defines the type, either
                                in path_mapping or in a comment.
                            region:
                              type: string
                              x-dcl-go-name: Region
                              description: 'For Cloud IAM: The location of the Policy.
                                Must be empty or "global" for Policies owned by global
                                IAM. Must name a region from prodspec/cloud-iam-cloudspec
                                for Regional IAM Policies, see go/iam-faq#where-is-iam-currently-deployed.
                                For Local IAM: This field should be set to "local".'
                            type:
                              type: string
                              x-dcl-go-name: Type
                              description: 'Resource type. Types are defined in IAM''s
                                .service files. Valid values for type might be ''gce'',
                                ''gcs'', ''project'', ''account'' etc. TODO(b/112599007):
                                annotate this as holding the resource scope when that
                                is supported'
                        resourcePath:
                          type: string
                          x-dcl-go-name: ResourcePath
                          description: ResourcePath is used for cloud audit logging.
                            ResourcePath is also used for constructing the permission
                            denied error message when permission is denied. If resource_path
                            is provided, permission denied error message would be
                            "Permission X denied on resource Y" else error message
                            would be "Permission X denied on resource (or it may not
                            exist)".
                  preprocessUpdate:
                    type: object
                    x-dcl-go-name: PreprocessUpdate
                    x-dcl-go-type: InstancePreprocessReconcileRecipeStepsPreprocessUpdate
                    description: Optional update to be applied to the operation metadata
                      update if the recipe needs to initialize the operation metadata
                      during preprocess
                    properties:
                      latencySloBucketName:
                        type: string
                        x-dcl-go-name: LatencySloBucketName
                      publicOperationMetadata:
                        type: string
                        x-dcl-go-name: PublicOperationMetadata
                        description: Optional public operation metadata to be returned
                          by Preprocess calls LROs. The value must be serialized using
                          the protojson.AnyToString. CLH recipe code will de-serialize
                          it using the protojson.StringToAny.
                  publicErrorMessage:
                    type: string
                    x-dcl-go-name: PublicErrorMessage
                    description: Public error message specified by CLH.
                  publicOperationMetadata:
                    type: string
                    x-dcl-go-name: PublicOperationMetadata
                    description: Optional public operation metadata to be returned
                      by Apply calls LROs. The value must be serialized using the
                      protojson.AnyToString. CLH recipe code will de-serialize it
                      using the protojson.StringToAny.
                  quotaRequestDeltas:
                    type: array
                    x-dcl-go-name: QuotaRequestDeltas
                    description: The quota usage delta to be charged. NOT an absolute
                      Desired number, but rather a delta.
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstancePreprocessReconcileRecipeStepsQuotaRequestDeltas
                      properties:
                        amount:
                          type: integer
                          format: int64
                          x-dcl-go-name: Amount
                          description: How much quota is charged by the given resource.
                        metricName:
                          type: string
                          x-dcl-go-name: MetricName
                          description: The name of the metric to charge.
                  relativeTime:
                    type: integer
                    format: int64
                    x-dcl-go-name: RelativeTime
                    description: Relative time (in nanoseconds) after which the step
                      is to be run. The time is measured from the start of the operation.
                  requestedTenantProject:
                    type: object
                    x-dcl-go-name: RequestedTenantProject
                    x-dcl-go-type: InstancePreprocessReconcileRecipeStepsRequestedTenantProject
                    description: The tenant project to be requested.
                    properties:
                      folder:
                        type: string
                        x-dcl-go-name: Folder
                        description: Folder where to create this tenannt project.
                          This field will override the corresponding field in TenantProjectConfig
                          (google3/google/api/serviceconsumermanagement/v1/tenancy.proto).
                          With this filed configured dynamicly, tenants can create
                          per-region tenant project pool.
                        x-dcl-references:
                        - resource: Cloudresourcemanager/Folder
                          field: name
                      scope:
                        type: string
                        x-dcl-go-name: Scope
                        x-dcl-go-type: InstancePreprocessReconcileRecipeStepsRequestedTenantProjectScopeEnum
                        description: 'The scope of the tenant project. Note that if
                          the tenant project tag is "default", it''s automatically
                          treated as scope = PROJECT unless specified otherwise. Possible
                          values: UNKNOWN_SCOPE, PROJECT, RESOURCE'
                        enum:
                        - UNKNOWN_SCOPE
                        - PROJECT
                        - RESOURCE
                      tag:
                        type: string
                        x-dcl-go-name: Tag
                        description: A tenant project tag. This is the same tag that
                          is used by Tenancy Units API to identify a tenant project.
                          It is unique within a specific Tenancy Unit. CLH should
                          use a deterministic algorithm to generate a tag. For ex.,
                          if service needs a tenant project per consumer network,
                          consumer network name can be used to generate a tag. For
                          ex., if consumer network name is "my-network", a tag could
                          be "sn-my-network". Prefix "sn-" is used here, but CLH can
                          use any prefix they like as long as it does not change from
                          request to request. If a tenant project with tag "sn-my-network"
                          is requested, CCFE will check if a tenant project with such
                          a tag already exists. If it does, CCFE will reuses it. Otherwise
                          CCFE will create a new tenant project.
                  resourceMetadataSize:
                    type: integer
                    format: int64
                    x-dcl-go-name: ResourceMetadataSize
                    description: size of resource metadata that CL should return
                  sleepDuration:
                    type: integer
                    format: int64
                    x-dcl-go-name: SleepDuration
                    description: Amount of time (in nanoseconds) to sleep for when
                      the step runs.
                  status:
                    type: object
                    x-dcl-go-name: Status
                    x-dcl-go-type: InstancePreprocessReconcileRecipeStepsStatus
                    properties:
                      code:
                        type: integer
                        format: int64
                        x-dcl-go-name: Code
                        description: The status code, which should be an enum value
                          of .
                      details:
                        type: array
                        x-dcl-go-name: Details
                        description: A list of messages that carry the error details.
                          There is a common set of message types for APIs to use.
                        x-dcl-list-type: list
                        items:
                          type: object
                          x-dcl-go-type: InstancePreprocessReconcileRecipeStepsStatusDetails
                          properties:
                            typeUrl:
                              type: string
                              x-dcl-go-name: TypeUrl
                              description: 'A URL/resource name that uniquely identifies
                                the type of the serialized protocol buffer message.
                                This string must contain at least one "/" character.
                                The last segment of the URL''s path must represent
                                the fully qualified name of the type (as in `path/google.protobuf.Duration`).
                                The name should be in a canonical form (e.g., leading
                                "." is not accepted). In practice, teams usually precompile
                                into the binary all types that they expect it to use
                                in the context of Any. However, for URLs which use
                                the scheme `http`, `https`, or no scheme, one can
                                optionally set up a type server that maps type URLs
                                to message definitions as follows: * If no scheme
                                is provided, `https` is assumed. * An HTTP GET on
                                the URL must yield a value in binary format, or produce
                                an error. * Applications are allowed to cache lookup
                                results based on the URL, or have them precompiled
                                into a binary to avoid any lookup. Therefore, binary
                                compatibility needs to be preserved on changes to
                                types. (Use versioned type names to manage breaking
                                changes.) Note: this functionality is not currently
                                available in the official protobuf release, and it
                                is not used for type URLs beginning with type.googleapis.com.
                                Schemes other than `http`, `https` (or the empty scheme)
                                might be used with implementation specific semantics.'
                            value:
                              type: string
                              x-dcl-go-name: Value
                              description: Must be a valid serialized protocol buffer
                                of the above specified type.
                      message:
                        type: string
                        x-dcl-go-name: Message
                        description: A developer-facing error message, which should
                          be in English. Any user-facing error message should be localized
                          and sent in the field, or localized by the client.
                  updatedRepeatOperationDelaySec:
                    type: number
                    format: double
                    x-dcl-go-name: UpdatedRepeatOperationDelaySec
                    description: Updated repeat_operation_delay_sec in the operation
                      metadata.
            verifyDeadlineSecondsBelow:
              type: number
              format: double
              x-dcl-go-name: VerifyDeadlineSecondsBelow
              description: When set, CLH will verify that the RPC deadline (in seconds)
                is less than the value set in the field.
        preprocessRepairRecipe:
          type: object
          x-dcl-go-name: PreprocessRepairRecipe
          x-dcl-go-type: InstancePreprocessRepairRecipe
          properties:
            delayToStoreResourcesInClhDbNanos:
              type: integer
              format: int64
              x-dcl-go-name: DelayToStoreResourcesInClhDbNanos
              description: Amount of time (in nanoseconds) takes for clh to store
                the resources listed in resource_names_stored_in_clh_with_delay in
                its DB and then return 200. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after that it will work normally. resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.
            honorCancelRequest:
              type: boolean
              x-dcl-go-name: HonorCancelRequest
              description: When set to true, CLH will return CANCELLED status on DONE
                if CCFE passed the cancellation bit.
            ignoreRecipeAfter:
              type: integer
              format: int64
              x-dcl-go-name: IgnoreRecipeAfter
              description: Absolute time (in nanoseconds) that specifies (if non-zero)
                after which this recipe should be ignored and not executed.
            populateOperationResult:
              type: boolean
              x-dcl-go-name: PopulateOperationResult
              description: When set to true, CLH will populate the Operation.Result,
                Operation.Result is optional and if it's not populated CCFE will use
                resourceViews to populate it.
            readonlyRecipeStartTime:
              type: string
              format: date-time
              x-dcl-go-name: ReadonlyRecipeStartTime
              description: Usually recipe start_time is calculated by operation.start_time
                but in readonly requests we won't have that, this field will act as
                an override for recipe start_time.
            resourceNamesStoredInClhWithDelay:
              type: array
              x-dcl-go-name: ResourceNamesStoredInClhWithDelay
              description: 'Resource names listed here will be returned to CCFE with
                resource_status=NOT_FOUND, instructing CCFE not to return them as
                part of Get/List calls. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                it will work normally and return the resource. example usage: resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.'
              x-dcl-list-type: list
              items:
                type: string
                x-dcl-go-type: string
            steps:
              type: array
              x-dcl-go-name: Steps
              x-dcl-list-type: list
              items:
                type: object
                x-dcl-go-type: InstancePreprocessRepairRecipeSteps
                properties:
                  action:
                    type: string
                    x-dcl-go-name: Action
                    x-dcl-go-type: InstancePreprocessRepairRecipeStepsActionEnum
                    description: 'Action to perform. Possible values: NO_ACTION, ALLOW,
                      ALLOW_WITH_LOG, DENY, DENY_WITH_LOG, LOG'
                    enum:
                    - NO_ACTION
                    - ALLOW
                    - ALLOW_WITH_LOG
                    - DENY
                    - DENY_WITH_LOG
                    - LOG
                  clhDataUpdateTime:
                    type: string
                    format: date-time
                    x-dcl-go-name: ClhDataUpdateTime
                    description: Optional timestamp simulating a write to a CLH-owned
                      database.
                  description:
                    type: string
                    x-dcl-go-name: Description
                    description: Description to store in CLHCallHistory history. Defaults
                      to a string provided by CLH (typically RPC name with parameters).
                  errorSpace:
                    type: string
                    x-dcl-go-name: ErrorSpace
                    description: If not empty, causes returned error to be in the
                      specified space.
                  keyNotificationsUpdate:
                    type: object
                    x-dcl-go-name: KeyNotificationsUpdate
                    x-dcl-go-type: InstancePreprocessRepairRecipeStepsKeyNotificationsUpdate
                    description: Optional update to be applied to the key_notifications
                      field (which KMS keys to watch and how to watch them).
                    properties:
                      keyNotificationsInfo:
                        type: object
                        x-dcl-go-name: KeyNotificationsInfo
                        x-dcl-go-type: InstancePreprocessRepairRecipeStepsKeyNotificationsUpdateKeyNotificationsInfo
                        properties:
                          dataVersion:
                            type: integer
                            format: int64
                            x-dcl-go-name: DataVersion
                            description: The version number of this configuration.
                              Any update is only applied if a new watched key has
                              a higher version number than the current watched key
                          delegate:
                            type: string
                            x-dcl-go-name: Delegate
                            description: 'The MDB role to delegate KMS grant to so
                              CCFE can register the key to be watched on behalf of
                              the CLH. Should be of the format: "serviceaccount:@prod.google.com"
                              This field will always be populated by CCFE and cannot
                              be updated by the CLH.'
                          keyNotificationConfigs:
                            type: array
                            x-dcl-go-name: KeyNotificationConfigs
                            description: The keys, if any, about which notifications
                              should be sent, along with any configuration options
                              controlling notification behavior. If absent, all the
                              watched keys are unregistered.
                            x-dcl-list-type: list
                            items:
                              type: object
                              x-dcl-go-type: InstancePreprocessRepairRecipeStepsKeyNotificationsUpdateKeyNotificationsInfoKeyNotificationConfigs
                              properties:
                                delegatorGaiaId:
                                  type: integer
                                  format: int64
                                  x-dcl-go-name: DelegatorGaiaId
                                  description: The gaia id of the p4sa used as the
                                    delegator in the call to DelegateGrant.
                                grant:
                                  type: string
                                  x-dcl-go-name: Grant
                                  description: The grant that gives CCFE access to
                                    check key state. This should be a grant that gives
                                    the user specified in KeyNotificationsInfo.delegate
                                    access to the key (see go/grants-mvp-1pager).
                                keyOrVersionName:
                                  type: string
                                  x-dcl-go-name: KeyOrVersionName
                                  description: The key or version name to watch. This
                                    should not be a grant.
                  p4ServiceAccount:
                    type: string
                    x-dcl-go-name: P4ServiceAccount
                    description: If not empty, instruct CLH to assert the p4 service
                      account passed in projects metadata. Note this action is not
                      supported in hermetic envs.
                  permissionsInfo:
                    type: array
                    x-dcl-go-name: PermissionsInfo
                    description: permission info list to be requested
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstancePreprocessRepairRecipeStepsPermissionsInfo
                      properties:
                        apiAttrs:
                          $ref: '#/components/schemas/Googleprotobufstruct'
                          x-dcl-go-name: ApiAttrs
                        iamPermissions:
                          type: array
                          x-dcl-go-name: IamPermissions
                          description: Contains the iam permission.
                          x-dcl-list-type: list
                          items:
                            type: object
                            x-dcl-go-type: InstancePreprocessRepairRecipeStepsPermissionsInfoIamPermissions
                            properties:
                              permission:
                                type: string
                                x-dcl-go-name: Permission
                                description: It represents iam permission, for example
                                  "arcus2tier2.instance.create". It cannot be empty
                                  or "iam.permissions.none".
                        policyName:
                          type: object
                          x-dcl-go-name: PolicyName
                          x-dcl-go-type: InstancePreprocessRepairRecipeStepsPermissionsInfoPolicyName
                          description: PolicyName contains the policy id and type.
                          properties:
                            id:
                              type: string
                              x-dcl-go-name: Id
                              description: Identifies an instance of the type. ID
                                format varies by type. The ID format is defined in
                                the IAM .service file that defines the type, either
                                in path_mapping or in a comment.
                            region:
                              type: string
                              x-dcl-go-name: Region
                              description: 'For Cloud IAM: The location of the Policy.
                                Must be empty or "global" for Policies owned by global
                                IAM. Must name a region from prodspec/cloud-iam-cloudspec
                                for Regional IAM Policies, see go/iam-faq#where-is-iam-currently-deployed.
                                For Local IAM: This field should be set to "local".'
                            type:
                              type: string
                              x-dcl-go-name: Type
                              description: 'Resource type. Types are defined in IAM''s
                                .service files. Valid values for type might be ''gce'',
                                ''gcs'', ''project'', ''account'' etc. TODO(b/112599007):
                                annotate this as holding the resource scope when that
                                is supported'
                        resourcePath:
                          type: string
                          x-dcl-go-name: ResourcePath
                          description: ResourcePath is used for cloud audit logging.
                            ResourcePath is also used for constructing the permission
                            denied error message when permission is denied. If resource_path
                            is provided, permission denied error message would be
                            "Permission X denied on resource Y" else error message
                            would be "Permission X denied on resource (or it may not
                            exist)".
                  preprocessUpdate:
                    type: object
                    x-dcl-go-name: PreprocessUpdate
                    x-dcl-go-type: InstancePreprocessRepairRecipeStepsPreprocessUpdate
                    description: Optional update to be applied to the operation metadata
                      update if the recipe needs to initialize the operation metadata
                      during preprocess
                    properties:
                      latencySloBucketName:
                        type: string
                        x-dcl-go-name: LatencySloBucketName
                      publicOperationMetadata:
                        type: string
                        x-dcl-go-name: PublicOperationMetadata
                        description: Optional public operation metadata to be returned
                          by Preprocess calls LROs. The value must be serialized using
                          the protojson.AnyToString. CLH recipe code will de-serialize
                          it using the protojson.StringToAny.
                  publicErrorMessage:
                    type: string
                    x-dcl-go-name: PublicErrorMessage
                    description: Public error message specified by CLH.
                  publicOperationMetadata:
                    type: string
                    x-dcl-go-name: PublicOperationMetadata
                    description: Optional public operation metadata to be returned
                      by Apply calls LROs. The value must be serialized using the
                      protojson.AnyToString. CLH recipe code will de-serialize it
                      using the protojson.StringToAny.
                  quotaRequestDeltas:
                    type: array
                    x-dcl-go-name: QuotaRequestDeltas
                    description: The quota usage delta to be charged. NOT an absolute
                      Desired number, but rather a delta.
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstancePreprocessRepairRecipeStepsQuotaRequestDeltas
                      properties:
                        amount:
                          type: integer
                          format: int64
                          x-dcl-go-name: Amount
                          description: How much quota is charged by the given resource.
                        metricName:
                          type: string
                          x-dcl-go-name: MetricName
                          description: The name of the metric to charge.
                  relativeTime:
                    type: integer
                    format: int64
                    x-dcl-go-name: RelativeTime
                    description: Relative time (in nanoseconds) after which the step
                      is to be run. The time is measured from the start of the operation.
                  requestedTenantProject:
                    type: object
                    x-dcl-go-name: RequestedTenantProject
                    x-dcl-go-type: InstancePreprocessRepairRecipeStepsRequestedTenantProject
                    description: The tenant project to be requested.
                    properties:
                      folder:
                        type: string
                        x-dcl-go-name: Folder
                        description: Folder where to create this tenannt project.
                          This field will override the corresponding field in TenantProjectConfig
                          (google3/google/api/serviceconsumermanagement/v1/tenancy.proto).
                          With this filed configured dynamicly, tenants can create
                          per-region tenant project pool.
                        x-dcl-references:
                        - resource: Cloudresourcemanager/Folder
                          field: name
                      scope:
                        type: string
                        x-dcl-go-name: Scope
                        x-dcl-go-type: InstancePreprocessRepairRecipeStepsRequestedTenantProjectScopeEnum
                        description: 'The scope of the tenant project. Note that if
                          the tenant project tag is "default", it''s automatically
                          treated as scope = PROJECT unless specified otherwise. Possible
                          values: UNKNOWN_SCOPE, PROJECT, RESOURCE'
                        enum:
                        - UNKNOWN_SCOPE
                        - PROJECT
                        - RESOURCE
                      tag:
                        type: string
                        x-dcl-go-name: Tag
                        description: A tenant project tag. This is the same tag that
                          is used by Tenancy Units API to identify a tenant project.
                          It is unique within a specific Tenancy Unit. CLH should
                          use a deterministic algorithm to generate a tag. For ex.,
                          if service needs a tenant project per consumer network,
                          consumer network name can be used to generate a tag. For
                          ex., if consumer network name is "my-network", a tag could
                          be "sn-my-network". Prefix "sn-" is used here, but CLH can
                          use any prefix they like as long as it does not change from
                          request to request. If a tenant project with tag "sn-my-network"
                          is requested, CCFE will check if a tenant project with such
                          a tag already exists. If it does, CCFE will reuses it. Otherwise
                          CCFE will create a new tenant project.
                  resourceMetadataSize:
                    type: integer
                    format: int64
                    x-dcl-go-name: ResourceMetadataSize
                    description: size of resource metadata that CL should return
                  sleepDuration:
                    type: integer
                    format: int64
                    x-dcl-go-name: SleepDuration
                    description: Amount of time (in nanoseconds) to sleep for when
                      the step runs.
                  status:
                    type: object
                    x-dcl-go-name: Status
                    x-dcl-go-type: InstancePreprocessRepairRecipeStepsStatus
                    properties:
                      code:
                        type: integer
                        format: int64
                        x-dcl-go-name: Code
                        description: The status code, which should be an enum value
                          of .
                      details:
                        type: array
                        x-dcl-go-name: Details
                        description: A list of messages that carry the error details.
                          There is a common set of message types for APIs to use.
                        x-dcl-list-type: list
                        items:
                          type: object
                          x-dcl-go-type: InstancePreprocessRepairRecipeStepsStatusDetails
                          properties:
                            typeUrl:
                              type: string
                              x-dcl-go-name: TypeUrl
                              description: 'A URL/resource name that uniquely identifies
                                the type of the serialized protocol buffer message.
                                This string must contain at least one "/" character.
                                The last segment of the URL''s path must represent
                                the fully qualified name of the type (as in `path/google.protobuf.Duration`).
                                The name should be in a canonical form (e.g., leading
                                "." is not accepted). In practice, teams usually precompile
                                into the binary all types that they expect it to use
                                in the context of Any. However, for URLs which use
                                the scheme `http`, `https`, or no scheme, one can
                                optionally set up a type server that maps type URLs
                                to message definitions as follows: * If no scheme
                                is provided, `https` is assumed. * An HTTP GET on
                                the URL must yield a value in binary format, or produce
                                an error. * Applications are allowed to cache lookup
                                results based on the URL, or have them precompiled
                                into a binary to avoid any lookup. Therefore, binary
                                compatibility needs to be preserved on changes to
                                types. (Use versioned type names to manage breaking
                                changes.) Note: this functionality is not currently
                                available in the official protobuf release, and it
                                is not used for type URLs beginning with type.googleapis.com.
                                Schemes other than `http`, `https` (or the empty scheme)
                                might be used with implementation specific semantics.'
                            value:
                              type: string
                              x-dcl-go-name: Value
                              description: Must be a valid serialized protocol buffer
                                of the above specified type.
                      message:
                        type: string
                        x-dcl-go-name: Message
                        description: A developer-facing error message, which should
                          be in English. Any user-facing error message should be localized
                          and sent in the field, or localized by the client.
                  updatedRepeatOperationDelaySec:
                    type: number
                    format: double
                    x-dcl-go-name: UpdatedRepeatOperationDelaySec
                    description: Updated repeat_operation_delay_sec in the operation
                      metadata.
            verifyDeadlineSecondsBelow:
              type: number
              format: double
              x-dcl-go-name: VerifyDeadlineSecondsBelow
              description: When set, CLH will verify that the RPC deadline (in seconds)
                is less than the value set in the field.
        preprocessReportInstanceHealthRecipe:
          type: object
          x-dcl-go-name: PreprocessReportInstanceHealthRecipe
          x-dcl-go-type: InstancePreprocessReportInstanceHealthRecipe
          properties:
            delayToStoreResourcesInClhDbNanos:
              type: integer
              format: int64
              x-dcl-go-name: DelayToStoreResourcesInClhDbNanos
              description: Amount of time (in nanoseconds) takes for clh to store
                the resources listed in resource_names_stored_in_clh_with_delay in
                its DB and then return 200. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after that it will work normally. resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.
            honorCancelRequest:
              type: boolean
              x-dcl-go-name: HonorCancelRequest
              description: When set to true, CLH will return CANCELLED status on DONE
                if CCFE passed the cancellation bit.
            ignoreRecipeAfter:
              type: integer
              format: int64
              x-dcl-go-name: IgnoreRecipeAfter
              description: Absolute time (in nanoseconds) that specifies (if non-zero)
                after which this recipe should be ignored and not executed.
            populateOperationResult:
              type: boolean
              x-dcl-go-name: PopulateOperationResult
              description: When set to true, CLH will populate the Operation.Result,
                Operation.Result is optional and if it's not populated CCFE will use
                resourceViews to populate it.
            readonlyRecipeStartTime:
              type: string
              format: date-time
              x-dcl-go-name: ReadonlyRecipeStartTime
              description: Usually recipe start_time is calculated by operation.start_time
                but in readonly requests we won't have that, this field will act as
                an override for recipe start_time.
            resourceNamesStoredInClhWithDelay:
              type: array
              x-dcl-go-name: ResourceNamesStoredInClhWithDelay
              description: 'Resource names listed here will be returned to CCFE with
                resource_status=NOT_FOUND, instructing CCFE not to return them as
                part of Get/List calls. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                it will work normally and return the resource. example usage: resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.'
              x-dcl-list-type: list
              items:
                type: string
                x-dcl-go-type: string
            steps:
              type: array
              x-dcl-go-name: Steps
              x-dcl-list-type: list
              items:
                type: object
                x-dcl-go-type: InstancePreprocessReportInstanceHealthRecipeSteps
                properties:
                  action:
                    type: string
                    x-dcl-go-name: Action
                    x-dcl-go-type: InstancePreprocessReportInstanceHealthRecipeStepsActionEnum
                    description: 'Action to perform. Possible values: NO_ACTION, ALLOW,
                      ALLOW_WITH_LOG, DENY, DENY_WITH_LOG, LOG'
                    enum:
                    - NO_ACTION
                    - ALLOW
                    - ALLOW_WITH_LOG
                    - DENY
                    - DENY_WITH_LOG
                    - LOG
                  clhDataUpdateTime:
                    type: string
                    format: date-time
                    x-dcl-go-name: ClhDataUpdateTime
                    description: Optional timestamp simulating a write to a CLH-owned
                      database.
                  description:
                    type: string
                    x-dcl-go-name: Description
                    description: Description to store in CLHCallHistory history. Defaults
                      to a string provided by CLH (typically RPC name with parameters).
                  errorSpace:
                    type: string
                    x-dcl-go-name: ErrorSpace
                    description: If not empty, causes returned error to be in the
                      specified space.
                  keyNotificationsUpdate:
                    type: object
                    x-dcl-go-name: KeyNotificationsUpdate
                    x-dcl-go-type: InstancePreprocessReportInstanceHealthRecipeStepsKeyNotificationsUpdate
                    description: Optional update to be applied to the key_notifications
                      field (which KMS keys to watch and how to watch them).
                    properties:
                      keyNotificationsInfo:
                        type: object
                        x-dcl-go-name: KeyNotificationsInfo
                        x-dcl-go-type: InstancePreprocessReportInstanceHealthRecipeStepsKeyNotificationsUpdateKeyNotificationsInfo
                        properties:
                          dataVersion:
                            type: integer
                            format: int64
                            x-dcl-go-name: DataVersion
                            description: The version number of this configuration.
                              Any update is only applied if a new watched key has
                              a higher version number than the current watched key
                          delegate:
                            type: string
                            x-dcl-go-name: Delegate
                            description: 'The MDB role to delegate KMS grant to so
                              CCFE can register the key to be watched on behalf of
                              the CLH. Should be of the format: "serviceaccount:@prod.google.com"
                              This field will always be populated by CCFE and cannot
                              be updated by the CLH.'
                          keyNotificationConfigs:
                            type: array
                            x-dcl-go-name: KeyNotificationConfigs
                            description: The keys, if any, about which notifications
                              should be sent, along with any configuration options
                              controlling notification behavior. If absent, all the
                              watched keys are unregistered.
                            x-dcl-list-type: list
                            items:
                              type: object
                              x-dcl-go-type: InstancePreprocessReportInstanceHealthRecipeStepsKeyNotificationsUpdateKeyNotificationsInfoKeyNotificationConfigs
                              properties:
                                delegatorGaiaId:
                                  type: integer
                                  format: int64
                                  x-dcl-go-name: DelegatorGaiaId
                                  description: The gaia id of the p4sa used as the
                                    delegator in the call to DelegateGrant.
                                grant:
                                  type: string
                                  x-dcl-go-name: Grant
                                  description: The grant that gives CCFE access to
                                    check key state. This should be a grant that gives
                                    the user specified in KeyNotificationsInfo.delegate
                                    access to the key (see go/grants-mvp-1pager).
                                keyOrVersionName:
                                  type: string
                                  x-dcl-go-name: KeyOrVersionName
                                  description: The key or version name to watch. This
                                    should not be a grant.
                  p4ServiceAccount:
                    type: string
                    x-dcl-go-name: P4ServiceAccount
                    description: If not empty, instruct CLH to assert the p4 service
                      account passed in projects metadata. Note this action is not
                      supported in hermetic envs.
                  permissionsInfo:
                    type: array
                    x-dcl-go-name: PermissionsInfo
                    description: permission info list to be requested
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstancePreprocessReportInstanceHealthRecipeStepsPermissionsInfo
                      properties:
                        apiAttrs:
                          $ref: '#/components/schemas/Googleprotobufstruct'
                          x-dcl-go-name: ApiAttrs
                        iamPermissions:
                          type: array
                          x-dcl-go-name: IamPermissions
                          description: Contains the iam permission.
                          x-dcl-list-type: list
                          items:
                            type: object
                            x-dcl-go-type: InstancePreprocessReportInstanceHealthRecipeStepsPermissionsInfoIamPermissions
                            properties:
                              permission:
                                type: string
                                x-dcl-go-name: Permission
                                description: It represents iam permission, for example
                                  "arcus2tier2.instance.create". It cannot be empty
                                  or "iam.permissions.none".
                        policyName:
                          type: object
                          x-dcl-go-name: PolicyName
                          x-dcl-go-type: InstancePreprocessReportInstanceHealthRecipeStepsPermissionsInfoPolicyName
                          description: PolicyName contains the policy id and type.
                          properties:
                            id:
                              type: string
                              x-dcl-go-name: Id
                              description: Identifies an instance of the type. ID
                                format varies by type. The ID format is defined in
                                the IAM .service file that defines the type, either
                                in path_mapping or in a comment.
                            region:
                              type: string
                              x-dcl-go-name: Region
                              description: 'For Cloud IAM: The location of the Policy.
                                Must be empty or "global" for Policies owned by global
                                IAM. Must name a region from prodspec/cloud-iam-cloudspec
                                for Regional IAM Policies, see go/iam-faq#where-is-iam-currently-deployed.
                                For Local IAM: This field should be set to "local".'
                            type:
                              type: string
                              x-dcl-go-name: Type
                              description: 'Resource type. Types are defined in IAM''s
                                .service files. Valid values for type might be ''gce'',
                                ''gcs'', ''project'', ''account'' etc. TODO(b/112599007):
                                annotate this as holding the resource scope when that
                                is supported'
                        resourcePath:
                          type: string
                          x-dcl-go-name: ResourcePath
                          description: ResourcePath is used for cloud audit logging.
                            ResourcePath is also used for constructing the permission
                            denied error message when permission is denied. If resource_path
                            is provided, permission denied error message would be
                            "Permission X denied on resource Y" else error message
                            would be "Permission X denied on resource (or it may not
                            exist)".
                  preprocessUpdate:
                    type: object
                    x-dcl-go-name: PreprocessUpdate
                    x-dcl-go-type: InstancePreprocessReportInstanceHealthRecipeStepsPreprocessUpdate
                    description: Optional update to be applied to the operation metadata
                      update if the recipe needs to initialize the operation metadata
                      during preprocess
                    properties:
                      latencySloBucketName:
                        type: string
                        x-dcl-go-name: LatencySloBucketName
                      publicOperationMetadata:
                        type: string
                        x-dcl-go-name: PublicOperationMetadata
                        description: Optional public operation metadata to be returned
                          by Preprocess calls LROs. The value must be serialized using
                          the protojson.AnyToString. CLH recipe code will de-serialize
                          it using the protojson.StringToAny.
                  publicErrorMessage:
                    type: string
                    x-dcl-go-name: PublicErrorMessage
                    description: Public error message specified by CLH.
                  publicOperationMetadata:
                    type: string
                    x-dcl-go-name: PublicOperationMetadata
                    description: Optional public operation metadata to be returned
                      by Apply calls LROs. The value must be serialized using the
                      protojson.AnyToString. CLH recipe code will de-serialize it
                      using the protojson.StringToAny.
                  quotaRequestDeltas:
                    type: array
                    x-dcl-go-name: QuotaRequestDeltas
                    description: The quota usage delta to be charged. NOT an absolute
                      Desired number, but rather a delta.
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstancePreprocessReportInstanceHealthRecipeStepsQuotaRequestDeltas
                      properties:
                        amount:
                          type: integer
                          format: int64
                          x-dcl-go-name: Amount
                          description: How much quota is charged by the given resource.
                        metricName:
                          type: string
                          x-dcl-go-name: MetricName
                          description: The name of the metric to charge.
                  relativeTime:
                    type: integer
                    format: int64
                    x-dcl-go-name: RelativeTime
                    description: Relative time (in nanoseconds) after which the step
                      is to be run. The time is measured from the start of the operation.
                  requestedTenantProject:
                    type: object
                    x-dcl-go-name: RequestedTenantProject
                    x-dcl-go-type: InstancePreprocessReportInstanceHealthRecipeStepsRequestedTenantProject
                    description: The tenant project to be requested.
                    properties:
                      folder:
                        type: string
                        x-dcl-go-name: Folder
                        description: Folder where to create this tenannt project.
                          This field will override the corresponding field in TenantProjectConfig
                          (google3/google/api/serviceconsumermanagement/v1/tenancy.proto).
                          With this filed configured dynamicly, tenants can create
                          per-region tenant project pool.
                        x-dcl-references:
                        - resource: Cloudresourcemanager/Folder
                          field: name
                      scope:
                        type: string
                        x-dcl-go-name: Scope
                        x-dcl-go-type: InstancePreprocessReportInstanceHealthRecipeStepsRequestedTenantProjectScopeEnum
                        description: 'The scope of the tenant project. Note that if
                          the tenant project tag is "default", it''s automatically
                          treated as scope = PROJECT unless specified otherwise. Possible
                          values: UNKNOWN_SCOPE, PROJECT, RESOURCE'
                        enum:
                        - UNKNOWN_SCOPE
                        - PROJECT
                        - RESOURCE
                      tag:
                        type: string
                        x-dcl-go-name: Tag
                        description: A tenant project tag. This is the same tag that
                          is used by Tenancy Units API to identify a tenant project.
                          It is unique within a specific Tenancy Unit. CLH should
                          use a deterministic algorithm to generate a tag. For ex.,
                          if service needs a tenant project per consumer network,
                          consumer network name can be used to generate a tag. For
                          ex., if consumer network name is "my-network", a tag could
                          be "sn-my-network". Prefix "sn-" is used here, but CLH can
                          use any prefix they like as long as it does not change from
                          request to request. If a tenant project with tag "sn-my-network"
                          is requested, CCFE will check if a tenant project with such
                          a tag already exists. If it does, CCFE will reuses it. Otherwise
                          CCFE will create a new tenant project.
                  resourceMetadataSize:
                    type: integer
                    format: int64
                    x-dcl-go-name: ResourceMetadataSize
                    description: size of resource metadata that CL should return
                  sleepDuration:
                    type: integer
                    format: int64
                    x-dcl-go-name: SleepDuration
                    description: Amount of time (in nanoseconds) to sleep for when
                      the step runs.
                  status:
                    type: object
                    x-dcl-go-name: Status
                    x-dcl-go-type: InstancePreprocessReportInstanceHealthRecipeStepsStatus
                    properties:
                      code:
                        type: integer
                        format: int64
                        x-dcl-go-name: Code
                        description: The status code, which should be an enum value
                          of .
                      details:
                        type: array
                        x-dcl-go-name: Details
                        description: A list of messages that carry the error details.
                          There is a common set of message types for APIs to use.
                        x-dcl-list-type: list
                        items:
                          type: object
                          x-dcl-go-type: InstancePreprocessReportInstanceHealthRecipeStepsStatusDetails
                          properties:
                            typeUrl:
                              type: string
                              x-dcl-go-name: TypeUrl
                              description: 'A URL/resource name that uniquely identifies
                                the type of the serialized protocol buffer message.
                                This string must contain at least one "/" character.
                                The last segment of the URL''s path must represent
                                the fully qualified name of the type (as in `path/google.protobuf.Duration`).
                                The name should be in a canonical form (e.g., leading
                                "." is not accepted). In practice, teams usually precompile
                                into the binary all types that they expect it to use
                                in the context of Any. However, for URLs which use
                                the scheme `http`, `https`, or no scheme, one can
                                optionally set up a type server that maps type URLs
                                to message definitions as follows: * If no scheme
                                is provided, `https` is assumed. * An HTTP GET on
                                the URL must yield a value in binary format, or produce
                                an error. * Applications are allowed to cache lookup
                                results based on the URL, or have them precompiled
                                into a binary to avoid any lookup. Therefore, binary
                                compatibility needs to be preserved on changes to
                                types. (Use versioned type names to manage breaking
                                changes.) Note: this functionality is not currently
                                available in the official protobuf release, and it
                                is not used for type URLs beginning with type.googleapis.com.
                                Schemes other than `http`, `https` (or the empty scheme)
                                might be used with implementation specific semantics.'
                            value:
                              type: string
                              x-dcl-go-name: Value
                              description: Must be a valid serialized protocol buffer
                                of the above specified type.
                      message:
                        type: string
                        x-dcl-go-name: Message
                        description: A developer-facing error message, which should
                          be in English. Any user-facing error message should be localized
                          and sent in the field, or localized by the client.
                  updatedRepeatOperationDelaySec:
                    type: number
                    format: double
                    x-dcl-go-name: UpdatedRepeatOperationDelaySec
                    description: Updated repeat_operation_delay_sec in the operation
                      metadata.
            verifyDeadlineSecondsBelow:
              type: number
              format: double
              x-dcl-go-name: VerifyDeadlineSecondsBelow
              description: When set, CLH will verify that the RPC deadline (in seconds)
                is less than the value set in the field.
        preprocessResetRecipe:
          type: object
          x-dcl-go-name: PreprocessResetRecipe
          x-dcl-go-type: InstancePreprocessResetRecipe
          properties:
            delayToStoreResourcesInClhDbNanos:
              type: integer
              format: int64
              x-dcl-go-name: DelayToStoreResourcesInClhDbNanos
              description: Amount of time (in nanoseconds) takes for clh to store
                the resources listed in resource_names_stored_in_clh_with_delay in
                its DB and then return 200. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after that it will work normally. resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.
            honorCancelRequest:
              type: boolean
              x-dcl-go-name: HonorCancelRequest
              description: When set to true, CLH will return CANCELLED status on DONE
                if CCFE passed the cancellation bit.
            ignoreRecipeAfter:
              type: integer
              format: int64
              x-dcl-go-name: IgnoreRecipeAfter
              description: Absolute time (in nanoseconds) that specifies (if non-zero)
                after which this recipe should be ignored and not executed.
            populateOperationResult:
              type: boolean
              x-dcl-go-name: PopulateOperationResult
              description: When set to true, CLH will populate the Operation.Result,
                Operation.Result is optional and if it's not populated CCFE will use
                resourceViews to populate it.
            readonlyRecipeStartTime:
              type: string
              format: date-time
              x-dcl-go-name: ReadonlyRecipeStartTime
              description: Usually recipe start_time is calculated by operation.start_time
                but in readonly requests we won't have that, this field will act as
                an override for recipe start_time.
            resourceNamesStoredInClhWithDelay:
              type: array
              x-dcl-go-name: ResourceNamesStoredInClhWithDelay
              description: 'Resource names listed here will be returned to CCFE with
                resource_status=NOT_FOUND, instructing CCFE not to return them as
                part of Get/List calls. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                it will work normally and return the resource. example usage: resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.'
              x-dcl-list-type: list
              items:
                type: string
                x-dcl-go-type: string
            steps:
              type: array
              x-dcl-go-name: Steps
              x-dcl-list-type: list
              items:
                type: object
                x-dcl-go-type: InstancePreprocessResetRecipeSteps
                properties:
                  action:
                    type: string
                    x-dcl-go-name: Action
                    x-dcl-go-type: InstancePreprocessResetRecipeStepsActionEnum
                    description: 'Action to perform. Possible values: NO_ACTION, ALLOW,
                      ALLOW_WITH_LOG, DENY, DENY_WITH_LOG, LOG'
                    enum:
                    - NO_ACTION
                    - ALLOW
                    - ALLOW_WITH_LOG
                    - DENY
                    - DENY_WITH_LOG
                    - LOG
                  clhDataUpdateTime:
                    type: string
                    format: date-time
                    x-dcl-go-name: ClhDataUpdateTime
                    description: Optional timestamp simulating a write to a CLH-owned
                      database.
                  description:
                    type: string
                    x-dcl-go-name: Description
                    description: Description to store in CLHCallHistory history. Defaults
                      to a string provided by CLH (typically RPC name with parameters).
                  errorSpace:
                    type: string
                    x-dcl-go-name: ErrorSpace
                    description: If not empty, causes returned error to be in the
                      specified space.
                  keyNotificationsUpdate:
                    type: object
                    x-dcl-go-name: KeyNotificationsUpdate
                    x-dcl-go-type: InstancePreprocessResetRecipeStepsKeyNotificationsUpdate
                    description: Optional update to be applied to the key_notifications
                      field (which KMS keys to watch and how to watch them).
                    properties:
                      keyNotificationsInfo:
                        type: object
                        x-dcl-go-name: KeyNotificationsInfo
                        x-dcl-go-type: InstancePreprocessResetRecipeStepsKeyNotificationsUpdateKeyNotificationsInfo
                        properties:
                          dataVersion:
                            type: integer
                            format: int64
                            x-dcl-go-name: DataVersion
                            description: The version number of this configuration.
                              Any update is only applied if a new watched key has
                              a higher version number than the current watched key
                          delegate:
                            type: string
                            x-dcl-go-name: Delegate
                            description: 'The MDB role to delegate KMS grant to so
                              CCFE can register the key to be watched on behalf of
                              the CLH. Should be of the format: "serviceaccount:@prod.google.com"
                              This field will always be populated by CCFE and cannot
                              be updated by the CLH.'
                          keyNotificationConfigs:
                            type: array
                            x-dcl-go-name: KeyNotificationConfigs
                            description: The keys, if any, about which notifications
                              should be sent, along with any configuration options
                              controlling notification behavior. If absent, all the
                              watched keys are unregistered.
                            x-dcl-list-type: list
                            items:
                              type: object
                              x-dcl-go-type: InstancePreprocessResetRecipeStepsKeyNotificationsUpdateKeyNotificationsInfoKeyNotificationConfigs
                              properties:
                                delegatorGaiaId:
                                  type: integer
                                  format: int64
                                  x-dcl-go-name: DelegatorGaiaId
                                  description: The gaia id of the p4sa used as the
                                    delegator in the call to DelegateGrant.
                                grant:
                                  type: string
                                  x-dcl-go-name: Grant
                                  description: The grant that gives CCFE access to
                                    check key state. This should be a grant that gives
                                    the user specified in KeyNotificationsInfo.delegate
                                    access to the key (see go/grants-mvp-1pager).
                                keyOrVersionName:
                                  type: string
                                  x-dcl-go-name: KeyOrVersionName
                                  description: The key or version name to watch. This
                                    should not be a grant.
                  p4ServiceAccount:
                    type: string
                    x-dcl-go-name: P4ServiceAccount
                    description: If not empty, instruct CLH to assert the p4 service
                      account passed in projects metadata. Note this action is not
                      supported in hermetic envs.
                  permissionsInfo:
                    type: array
                    x-dcl-go-name: PermissionsInfo
                    description: permission info list to be requested
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstancePreprocessResetRecipeStepsPermissionsInfo
                      properties:
                        apiAttrs:
                          $ref: '#/components/schemas/Googleprotobufstruct'
                          x-dcl-go-name: ApiAttrs
                        iamPermissions:
                          type: array
                          x-dcl-go-name: IamPermissions
                          description: Contains the iam permission.
                          x-dcl-list-type: list
                          items:
                            type: object
                            x-dcl-go-type: InstancePreprocessResetRecipeStepsPermissionsInfoIamPermissions
                            properties:
                              permission:
                                type: string
                                x-dcl-go-name: Permission
                                description: It represents iam permission, for example
                                  "arcus2tier2.instance.create". It cannot be empty
                                  or "iam.permissions.none".
                        policyName:
                          type: object
                          x-dcl-go-name: PolicyName
                          x-dcl-go-type: InstancePreprocessResetRecipeStepsPermissionsInfoPolicyName
                          description: PolicyName contains the policy id and type.
                          properties:
                            id:
                              type: string
                              x-dcl-go-name: Id
                              description: Identifies an instance of the type. ID
                                format varies by type. The ID format is defined in
                                the IAM .service file that defines the type, either
                                in path_mapping or in a comment.
                            region:
                              type: string
                              x-dcl-go-name: Region
                              description: 'For Cloud IAM: The location of the Policy.
                                Must be empty or "global" for Policies owned by global
                                IAM. Must name a region from prodspec/cloud-iam-cloudspec
                                for Regional IAM Policies, see go/iam-faq#where-is-iam-currently-deployed.
                                For Local IAM: This field should be set to "local".'
                            type:
                              type: string
                              x-dcl-go-name: Type
                              description: 'Resource type. Types are defined in IAM''s
                                .service files. Valid values for type might be ''gce'',
                                ''gcs'', ''project'', ''account'' etc. TODO(b/112599007):
                                annotate this as holding the resource scope when that
                                is supported'
                        resourcePath:
                          type: string
                          x-dcl-go-name: ResourcePath
                          description: ResourcePath is used for cloud audit logging.
                            ResourcePath is also used for constructing the permission
                            denied error message when permission is denied. If resource_path
                            is provided, permission denied error message would be
                            "Permission X denied on resource Y" else error message
                            would be "Permission X denied on resource (or it may not
                            exist)".
                  preprocessUpdate:
                    type: object
                    x-dcl-go-name: PreprocessUpdate
                    x-dcl-go-type: InstancePreprocessResetRecipeStepsPreprocessUpdate
                    description: Optional update to be applied to the operation metadata
                      update if the recipe needs to initialize the operation metadata
                      during preprocess
                    properties:
                      latencySloBucketName:
                        type: string
                        x-dcl-go-name: LatencySloBucketName
                      publicOperationMetadata:
                        type: string
                        x-dcl-go-name: PublicOperationMetadata
                        description: Optional public operation metadata to be returned
                          by Preprocess calls LROs. The value must be serialized using
                          the protojson.AnyToString. CLH recipe code will de-serialize
                          it using the protojson.StringToAny.
                  publicErrorMessage:
                    type: string
                    x-dcl-go-name: PublicErrorMessage
                    description: Public error message specified by CLH.
                  publicOperationMetadata:
                    type: string
                    x-dcl-go-name: PublicOperationMetadata
                    description: Optional public operation metadata to be returned
                      by Apply calls LROs. The value must be serialized using the
                      protojson.AnyToString. CLH recipe code will de-serialize it
                      using the protojson.StringToAny.
                  quotaRequestDeltas:
                    type: array
                    x-dcl-go-name: QuotaRequestDeltas
                    description: The quota usage delta to be charged. NOT an absolute
                      Desired number, but rather a delta.
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstancePreprocessResetRecipeStepsQuotaRequestDeltas
                      properties:
                        amount:
                          type: integer
                          format: int64
                          x-dcl-go-name: Amount
                          description: How much quota is charged by the given resource.
                        metricName:
                          type: string
                          x-dcl-go-name: MetricName
                          description: The name of the metric to charge.
                  relativeTime:
                    type: integer
                    format: int64
                    x-dcl-go-name: RelativeTime
                    description: Relative time (in nanoseconds) after which the step
                      is to be run. The time is measured from the start of the operation.
                  requestedTenantProject:
                    type: object
                    x-dcl-go-name: RequestedTenantProject
                    x-dcl-go-type: InstancePreprocessResetRecipeStepsRequestedTenantProject
                    description: The tenant project to be requested.
                    properties:
                      folder:
                        type: string
                        x-dcl-go-name: Folder
                        description: Folder where to create this tenannt project.
                          This field will override the corresponding field in TenantProjectConfig
                          (google3/google/api/serviceconsumermanagement/v1/tenancy.proto).
                          With this filed configured dynamicly, tenants can create
                          per-region tenant project pool.
                        x-dcl-references:
                        - resource: Cloudresourcemanager/Folder
                          field: name
                      scope:
                        type: string
                        x-dcl-go-name: Scope
                        x-dcl-go-type: InstancePreprocessResetRecipeStepsRequestedTenantProjectScopeEnum
                        description: 'The scope of the tenant project. Note that if
                          the tenant project tag is "default", it''s automatically
                          treated as scope = PROJECT unless specified otherwise. Possible
                          values: UNKNOWN_SCOPE, PROJECT, RESOURCE'
                        enum:
                        - UNKNOWN_SCOPE
                        - PROJECT
                        - RESOURCE
                      tag:
                        type: string
                        x-dcl-go-name: Tag
                        description: A tenant project tag. This is the same tag that
                          is used by Tenancy Units API to identify a tenant project.
                          It is unique within a specific Tenancy Unit. CLH should
                          use a deterministic algorithm to generate a tag. For ex.,
                          if service needs a tenant project per consumer network,
                          consumer network name can be used to generate a tag. For
                          ex., if consumer network name is "my-network", a tag could
                          be "sn-my-network". Prefix "sn-" is used here, but CLH can
                          use any prefix they like as long as it does not change from
                          request to request. If a tenant project with tag "sn-my-network"
                          is requested, CCFE will check if a tenant project with such
                          a tag already exists. If it does, CCFE will reuses it. Otherwise
                          CCFE will create a new tenant project.
                  resourceMetadataSize:
                    type: integer
                    format: int64
                    x-dcl-go-name: ResourceMetadataSize
                    description: size of resource metadata that CL should return
                  sleepDuration:
                    type: integer
                    format: int64
                    x-dcl-go-name: SleepDuration
                    description: Amount of time (in nanoseconds) to sleep for when
                      the step runs.
                  status:
                    type: object
                    x-dcl-go-name: Status
                    x-dcl-go-type: InstancePreprocessResetRecipeStepsStatus
                    properties:
                      code:
                        type: integer
                        format: int64
                        x-dcl-go-name: Code
                        description: The status code, which should be an enum value
                          of .
                      details:
                        type: array
                        x-dcl-go-name: Details
                        description: A list of messages that carry the error details.
                          There is a common set of message types for APIs to use.
                        x-dcl-list-type: list
                        items:
                          type: object
                          x-dcl-go-type: InstancePreprocessResetRecipeStepsStatusDetails
                          properties:
                            typeUrl:
                              type: string
                              x-dcl-go-name: TypeUrl
                              description: 'A URL/resource name that uniquely identifies
                                the type of the serialized protocol buffer message.
                                This string must contain at least one "/" character.
                                The last segment of the URL''s path must represent
                                the fully qualified name of the type (as in `path/google.protobuf.Duration`).
                                The name should be in a canonical form (e.g., leading
                                "." is not accepted). In practice, teams usually precompile
                                into the binary all types that they expect it to use
                                in the context of Any. However, for URLs which use
                                the scheme `http`, `https`, or no scheme, one can
                                optionally set up a type server that maps type URLs
                                to message definitions as follows: * If no scheme
                                is provided, `https` is assumed. * An HTTP GET on
                                the URL must yield a value in binary format, or produce
                                an error. * Applications are allowed to cache lookup
                                results based on the URL, or have them precompiled
                                into a binary to avoid any lookup. Therefore, binary
                                compatibility needs to be preserved on changes to
                                types. (Use versioned type names to manage breaking
                                changes.) Note: this functionality is not currently
                                available in the official protobuf release, and it
                                is not used for type URLs beginning with type.googleapis.com.
                                Schemes other than `http`, `https` (or the empty scheme)
                                might be used with implementation specific semantics.'
                            value:
                              type: string
                              x-dcl-go-name: Value
                              description: Must be a valid serialized protocol buffer
                                of the above specified type.
                      message:
                        type: string
                        x-dcl-go-name: Message
                        description: A developer-facing error message, which should
                          be in English. Any user-facing error message should be localized
                          and sent in the field, or localized by the client.
                  updatedRepeatOperationDelaySec:
                    type: number
                    format: double
                    x-dcl-go-name: UpdatedRepeatOperationDelaySec
                    description: Updated repeat_operation_delay_sec in the operation
                      metadata.
            verifyDeadlineSecondsBelow:
              type: number
              format: double
              x-dcl-go-name: VerifyDeadlineSecondsBelow
              description: When set, CLH will verify that the RPC deadline (in seconds)
                is less than the value set in the field.
        preprocessUnfreezeRecipe:
          type: object
          x-dcl-go-name: PreprocessUnfreezeRecipe
          x-dcl-go-type: InstancePreprocessUnfreezeRecipe
          properties:
            delayToStoreResourcesInClhDbNanos:
              type: integer
              format: int64
              x-dcl-go-name: DelayToStoreResourcesInClhDbNanos
              description: Amount of time (in nanoseconds) takes for clh to store
                the resources listed in resource_names_stored_in_clh_with_delay in
                its DB and then return 200. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after that it will work normally. resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.
            honorCancelRequest:
              type: boolean
              x-dcl-go-name: HonorCancelRequest
              description: When set to true, CLH will return CANCELLED status on DONE
                if CCFE passed the cancellation bit.
            ignoreRecipeAfter:
              type: integer
              format: int64
              x-dcl-go-name: IgnoreRecipeAfter
              description: Absolute time (in nanoseconds) that specifies (if non-zero)
                after which this recipe should be ignored and not executed.
            populateOperationResult:
              type: boolean
              x-dcl-go-name: PopulateOperationResult
              description: When set to true, CLH will populate the Operation.Result,
                Operation.Result is optional and if it's not populated CCFE will use
                resourceViews to populate it.
            readonlyRecipeStartTime:
              type: string
              format: date-time
              x-dcl-go-name: ReadonlyRecipeStartTime
              description: Usually recipe start_time is calculated by operation.start_time
                but in readonly requests we won't have that, this field will act as
                an override for recipe start_time.
            resourceNamesStoredInClhWithDelay:
              type: array
              x-dcl-go-name: ResourceNamesStoredInClhWithDelay
              description: 'Resource names listed here will be returned to CCFE with
                resource_status=NOT_FOUND, instructing CCFE not to return them as
                part of Get/List calls. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                it will work normally and return the resource. example usage: resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.'
              x-dcl-list-type: list
              items:
                type: string
                x-dcl-go-type: string
            steps:
              type: array
              x-dcl-go-name: Steps
              x-dcl-list-type: list
              items:
                type: object
                x-dcl-go-type: InstancePreprocessUnfreezeRecipeSteps
                properties:
                  action:
                    type: string
                    x-dcl-go-name: Action
                    x-dcl-go-type: InstancePreprocessUnfreezeRecipeStepsActionEnum
                    description: 'Action to perform. Possible values: NO_ACTION, ALLOW,
                      ALLOW_WITH_LOG, DENY, DENY_WITH_LOG, LOG'
                    enum:
                    - NO_ACTION
                    - ALLOW
                    - ALLOW_WITH_LOG
                    - DENY
                    - DENY_WITH_LOG
                    - LOG
                  clhDataUpdateTime:
                    type: string
                    format: date-time
                    x-dcl-go-name: ClhDataUpdateTime
                    description: Optional timestamp simulating a write to a CLH-owned
                      database.
                  description:
                    type: string
                    x-dcl-go-name: Description
                    description: Description to store in CLHCallHistory history. Defaults
                      to a string provided by CLH (typically RPC name with parameters).
                  errorSpace:
                    type: string
                    x-dcl-go-name: ErrorSpace
                    description: If not empty, causes returned error to be in the
                      specified space.
                  keyNotificationsUpdate:
                    type: object
                    x-dcl-go-name: KeyNotificationsUpdate
                    x-dcl-go-type: InstancePreprocessUnfreezeRecipeStepsKeyNotificationsUpdate
                    description: Optional update to be applied to the key_notifications
                      field (which KMS keys to watch and how to watch them).
                    properties:
                      keyNotificationsInfo:
                        type: object
                        x-dcl-go-name: KeyNotificationsInfo
                        x-dcl-go-type: InstancePreprocessUnfreezeRecipeStepsKeyNotificationsUpdateKeyNotificationsInfo
                        properties:
                          dataVersion:
                            type: integer
                            format: int64
                            x-dcl-go-name: DataVersion
                            description: The version number of this configuration.
                              Any update is only applied if a new watched key has
                              a higher version number than the current watched key
                          delegate:
                            type: string
                            x-dcl-go-name: Delegate
                            description: 'The MDB role to delegate KMS grant to so
                              CCFE can register the key to be watched on behalf of
                              the CLH. Should be of the format: "serviceaccount:@prod.google.com"
                              This field will always be populated by CCFE and cannot
                              be updated by the CLH.'
                          keyNotificationConfigs:
                            type: array
                            x-dcl-go-name: KeyNotificationConfigs
                            description: The keys, if any, about which notifications
                              should be sent, along with any configuration options
                              controlling notification behavior. If absent, all the
                              watched keys are unregistered.
                            x-dcl-list-type: list
                            items:
                              type: object
                              x-dcl-go-type: InstancePreprocessUnfreezeRecipeStepsKeyNotificationsUpdateKeyNotificationsInfoKeyNotificationConfigs
                              properties:
                                delegatorGaiaId:
                                  type: integer
                                  format: int64
                                  x-dcl-go-name: DelegatorGaiaId
                                  description: The gaia id of the p4sa used as the
                                    delegator in the call to DelegateGrant.
                                grant:
                                  type: string
                                  x-dcl-go-name: Grant
                                  description: The grant that gives CCFE access to
                                    check key state. This should be a grant that gives
                                    the user specified in KeyNotificationsInfo.delegate
                                    access to the key (see go/grants-mvp-1pager).
                                keyOrVersionName:
                                  type: string
                                  x-dcl-go-name: KeyOrVersionName
                                  description: The key or version name to watch. This
                                    should not be a grant.
                  p4ServiceAccount:
                    type: string
                    x-dcl-go-name: P4ServiceAccount
                    description: If not empty, instruct CLH to assert the p4 service
                      account passed in projects metadata. Note this action is not
                      supported in hermetic envs.
                  permissionsInfo:
                    type: array
                    x-dcl-go-name: PermissionsInfo
                    description: permission info list to be requested
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstancePreprocessUnfreezeRecipeStepsPermissionsInfo
                      properties:
                        apiAttrs:
                          $ref: '#/components/schemas/Googleprotobufstruct'
                          x-dcl-go-name: ApiAttrs
                        iamPermissions:
                          type: array
                          x-dcl-go-name: IamPermissions
                          description: Contains the iam permission.
                          x-dcl-list-type: list
                          items:
                            type: object
                            x-dcl-go-type: InstancePreprocessUnfreezeRecipeStepsPermissionsInfoIamPermissions
                            properties:
                              permission:
                                type: string
                                x-dcl-go-name: Permission
                                description: It represents iam permission, for example
                                  "arcus2tier2.instance.create". It cannot be empty
                                  or "iam.permissions.none".
                        policyName:
                          type: object
                          x-dcl-go-name: PolicyName
                          x-dcl-go-type: InstancePreprocessUnfreezeRecipeStepsPermissionsInfoPolicyName
                          description: PolicyName contains the policy id and type.
                          properties:
                            id:
                              type: string
                              x-dcl-go-name: Id
                              description: Identifies an instance of the type. ID
                                format varies by type. The ID format is defined in
                                the IAM .service file that defines the type, either
                                in path_mapping or in a comment.
                            region:
                              type: string
                              x-dcl-go-name: Region
                              description: 'For Cloud IAM: The location of the Policy.
                                Must be empty or "global" for Policies owned by global
                                IAM. Must name a region from prodspec/cloud-iam-cloudspec
                                for Regional IAM Policies, see go/iam-faq#where-is-iam-currently-deployed.
                                For Local IAM: This field should be set to "local".'
                            type:
                              type: string
                              x-dcl-go-name: Type
                              description: 'Resource type. Types are defined in IAM''s
                                .service files. Valid values for type might be ''gce'',
                                ''gcs'', ''project'', ''account'' etc. TODO(b/112599007):
                                annotate this as holding the resource scope when that
                                is supported'
                        resourcePath:
                          type: string
                          x-dcl-go-name: ResourcePath
                          description: ResourcePath is used for cloud audit logging.
                            ResourcePath is also used for constructing the permission
                            denied error message when permission is denied. If resource_path
                            is provided, permission denied error message would be
                            "Permission X denied on resource Y" else error message
                            would be "Permission X denied on resource (or it may not
                            exist)".
                  preprocessUpdate:
                    type: object
                    x-dcl-go-name: PreprocessUpdate
                    x-dcl-go-type: InstancePreprocessUnfreezeRecipeStepsPreprocessUpdate
                    description: Optional update to be applied to the operation metadata
                      update if the recipe needs to initialize the operation metadata
                      during preprocess
                    properties:
                      latencySloBucketName:
                        type: string
                        x-dcl-go-name: LatencySloBucketName
                      publicOperationMetadata:
                        type: string
                        x-dcl-go-name: PublicOperationMetadata
                        description: Optional public operation metadata to be returned
                          by Preprocess calls LROs. The value must be serialized using
                          the protojson.AnyToString. CLH recipe code will de-serialize
                          it using the protojson.StringToAny.
                  publicErrorMessage:
                    type: string
                    x-dcl-go-name: PublicErrorMessage
                    description: Public error message specified by CLH.
                  publicOperationMetadata:
                    type: string
                    x-dcl-go-name: PublicOperationMetadata
                    description: Optional public operation metadata to be returned
                      by Apply calls LROs. The value must be serialized using the
                      protojson.AnyToString. CLH recipe code will de-serialize it
                      using the protojson.StringToAny.
                  quotaRequestDeltas:
                    type: array
                    x-dcl-go-name: QuotaRequestDeltas
                    description: The quota usage delta to be charged. NOT an absolute
                      Desired number, but rather a delta.
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstancePreprocessUnfreezeRecipeStepsQuotaRequestDeltas
                      properties:
                        amount:
                          type: integer
                          format: int64
                          x-dcl-go-name: Amount
                          description: How much quota is charged by the given resource.
                        metricName:
                          type: string
                          x-dcl-go-name: MetricName
                          description: The name of the metric to charge.
                  relativeTime:
                    type: integer
                    format: int64
                    x-dcl-go-name: RelativeTime
                    description: Relative time (in nanoseconds) after which the step
                      is to be run. The time is measured from the start of the operation.
                  requestedTenantProject:
                    type: object
                    x-dcl-go-name: RequestedTenantProject
                    x-dcl-go-type: InstancePreprocessUnfreezeRecipeStepsRequestedTenantProject
                    description: The tenant project to be requested.
                    properties:
                      folder:
                        type: string
                        x-dcl-go-name: Folder
                        description: Folder where to create this tenannt project.
                          This field will override the corresponding field in TenantProjectConfig
                          (google3/google/api/serviceconsumermanagement/v1/tenancy.proto).
                          With this filed configured dynamicly, tenants can create
                          per-region tenant project pool.
                        x-dcl-references:
                        - resource: Cloudresourcemanager/Folder
                          field: name
                      scope:
                        type: string
                        x-dcl-go-name: Scope
                        x-dcl-go-type: InstancePreprocessUnfreezeRecipeStepsRequestedTenantProjectScopeEnum
                        description: 'The scope of the tenant project. Note that if
                          the tenant project tag is "default", it''s automatically
                          treated as scope = PROJECT unless specified otherwise. Possible
                          values: UNKNOWN_SCOPE, PROJECT, RESOURCE'
                        enum:
                        - UNKNOWN_SCOPE
                        - PROJECT
                        - RESOURCE
                      tag:
                        type: string
                        x-dcl-go-name: Tag
                        description: A tenant project tag. This is the same tag that
                          is used by Tenancy Units API to identify a tenant project.
                          It is unique within a specific Tenancy Unit. CLH should
                          use a deterministic algorithm to generate a tag. For ex.,
                          if service needs a tenant project per consumer network,
                          consumer network name can be used to generate a tag. For
                          ex., if consumer network name is "my-network", a tag could
                          be "sn-my-network". Prefix "sn-" is used here, but CLH can
                          use any prefix they like as long as it does not change from
                          request to request. If a tenant project with tag "sn-my-network"
                          is requested, CCFE will check if a tenant project with such
                          a tag already exists. If it does, CCFE will reuses it. Otherwise
                          CCFE will create a new tenant project.
                  resourceMetadataSize:
                    type: integer
                    format: int64
                    x-dcl-go-name: ResourceMetadataSize
                    description: size of resource metadata that CL should return
                  sleepDuration:
                    type: integer
                    format: int64
                    x-dcl-go-name: SleepDuration
                    description: Amount of time (in nanoseconds) to sleep for when
                      the step runs.
                  status:
                    type: object
                    x-dcl-go-name: Status
                    x-dcl-go-type: InstancePreprocessUnfreezeRecipeStepsStatus
                    properties:
                      code:
                        type: integer
                        format: int64
                        x-dcl-go-name: Code
                        description: The status code, which should be an enum value
                          of .
                      details:
                        type: array
                        x-dcl-go-name: Details
                        description: A list of messages that carry the error details.
                          There is a common set of message types for APIs to use.
                        x-dcl-list-type: list
                        items:
                          type: object
                          x-dcl-go-type: InstancePreprocessUnfreezeRecipeStepsStatusDetails
                          properties:
                            typeUrl:
                              type: string
                              x-dcl-go-name: TypeUrl
                              description: 'A URL/resource name that uniquely identifies
                                the type of the serialized protocol buffer message.
                                This string must contain at least one "/" character.
                                The last segment of the URL''s path must represent
                                the fully qualified name of the type (as in `path/google.protobuf.Duration`).
                                The name should be in a canonical form (e.g., leading
                                "." is not accepted). In practice, teams usually precompile
                                into the binary all types that they expect it to use
                                in the context of Any. However, for URLs which use
                                the scheme `http`, `https`, or no scheme, one can
                                optionally set up a type server that maps type URLs
                                to message definitions as follows: * If no scheme
                                is provided, `https` is assumed. * An HTTP GET on
                                the URL must yield a value in binary format, or produce
                                an error. * Applications are allowed to cache lookup
                                results based on the URL, or have them precompiled
                                into a binary to avoid any lookup. Therefore, binary
                                compatibility needs to be preserved on changes to
                                types. (Use versioned type names to manage breaking
                                changes.) Note: this functionality is not currently
                                available in the official protobuf release, and it
                                is not used for type URLs beginning with type.googleapis.com.
                                Schemes other than `http`, `https` (or the empty scheme)
                                might be used with implementation specific semantics.'
                            value:
                              type: string
                              x-dcl-go-name: Value
                              description: Must be a valid serialized protocol buffer
                                of the above specified type.
                      message:
                        type: string
                        x-dcl-go-name: Message
                        description: A developer-facing error message, which should
                          be in English. Any user-facing error message should be localized
                          and sent in the field, or localized by the client.
                  updatedRepeatOperationDelaySec:
                    type: number
                    format: double
                    x-dcl-go-name: UpdatedRepeatOperationDelaySec
                    description: Updated repeat_operation_delay_sec in the operation
                      metadata.
            verifyDeadlineSecondsBelow:
              type: number
              format: double
              x-dcl-go-name: VerifyDeadlineSecondsBelow
              description: When set, CLH will verify that the RPC deadline (in seconds)
                is less than the value set in the field.
        preprocessUpdateRecipe:
          type: object
          x-dcl-go-name: PreprocessUpdateRecipe
          x-dcl-go-type: InstancePreprocessUpdateRecipe
          properties:
            delayToStoreResourcesInClhDbNanos:
              type: integer
              format: int64
              x-dcl-go-name: DelayToStoreResourcesInClhDbNanos
              description: Amount of time (in nanoseconds) takes for clh to store
                the resources listed in resource_names_stored_in_clh_with_delay in
                its DB and then return 200. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after that it will work normally. resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.
            honorCancelRequest:
              type: boolean
              x-dcl-go-name: HonorCancelRequest
              description: When set to true, CLH will return CANCELLED status on DONE
                if CCFE passed the cancellation bit.
            ignoreRecipeAfter:
              type: integer
              format: int64
              x-dcl-go-name: IgnoreRecipeAfter
              description: Absolute time (in nanoseconds) that specifies (if non-zero)
                after which this recipe should be ignored and not executed.
            populateOperationResult:
              type: boolean
              x-dcl-go-name: PopulateOperationResult
              description: When set to true, CLH will populate the Operation.Result,
                Operation.Result is optional and if it's not populated CCFE will use
                resourceViews to populate it.
            readonlyRecipeStartTime:
              type: string
              format: date-time
              x-dcl-go-name: ReadonlyRecipeStartTime
              description: Usually recipe start_time is calculated by operation.start_time
                but in readonly requests we won't have that, this field will act as
                an override for recipe start_time.
            resourceNamesStoredInClhWithDelay:
              type: array
              x-dcl-go-name: ResourceNamesStoredInClhWithDelay
              description: 'Resource names listed here will be returned to CCFE with
                resource_status=NOT_FOUND, instructing CCFE not to return them as
                part of Get/List calls. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                it will work normally and return the resource. example usage: resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.'
              x-dcl-list-type: list
              items:
                type: string
                x-dcl-go-type: string
            steps:
              type: array
              x-dcl-go-name: Steps
              x-dcl-list-type: list
              items:
                type: object
                x-dcl-go-type: InstancePreprocessUpdateRecipeSteps
                properties:
                  action:
                    type: string
                    x-dcl-go-name: Action
                    x-dcl-go-type: InstancePreprocessUpdateRecipeStepsActionEnum
                    description: 'Action to perform. Possible values: NO_ACTION, ALLOW,
                      ALLOW_WITH_LOG, DENY, DENY_WITH_LOG, LOG'
                    enum:
                    - NO_ACTION
                    - ALLOW
                    - ALLOW_WITH_LOG
                    - DENY
                    - DENY_WITH_LOG
                    - LOG
                  clhDataUpdateTime:
                    type: string
                    format: date-time
                    x-dcl-go-name: ClhDataUpdateTime
                    description: Optional timestamp simulating a write to a CLH-owned
                      database.
                  description:
                    type: string
                    x-dcl-go-name: Description
                    description: Description to store in CLHCallHistory history. Defaults
                      to a string provided by CLH (typically RPC name with parameters).
                  errorSpace:
                    type: string
                    x-dcl-go-name: ErrorSpace
                    description: If not empty, causes returned error to be in the
                      specified space.
                  keyNotificationsUpdate:
                    type: object
                    x-dcl-go-name: KeyNotificationsUpdate
                    x-dcl-go-type: InstancePreprocessUpdateRecipeStepsKeyNotificationsUpdate
                    description: Optional update to be applied to the key_notifications
                      field (which KMS keys to watch and how to watch them).
                    properties:
                      keyNotificationsInfo:
                        type: object
                        x-dcl-go-name: KeyNotificationsInfo
                        x-dcl-go-type: InstancePreprocessUpdateRecipeStepsKeyNotificationsUpdateKeyNotificationsInfo
                        properties:
                          dataVersion:
                            type: integer
                            format: int64
                            x-dcl-go-name: DataVersion
                            description: The version number of this configuration.
                              Any update is only applied if a new watched key has
                              a higher version number than the current watched key
                          delegate:
                            type: string
                            x-dcl-go-name: Delegate
                            description: 'The MDB role to delegate KMS grant to so
                              CCFE can register the key to be watched on behalf of
                              the CLH. Should be of the format: "serviceaccount:@prod.google.com"
                              This field will always be populated by CCFE and cannot
                              be updated by the CLH.'
                          keyNotificationConfigs:
                            type: array
                            x-dcl-go-name: KeyNotificationConfigs
                            description: The keys, if any, about which notifications
                              should be sent, along with any configuration options
                              controlling notification behavior. If absent, all the
                              watched keys are unregistered.
                            x-dcl-list-type: list
                            items:
                              type: object
                              x-dcl-go-type: InstancePreprocessUpdateRecipeStepsKeyNotificationsUpdateKeyNotificationsInfoKeyNotificationConfigs
                              properties:
                                delegatorGaiaId:
                                  type: integer
                                  format: int64
                                  x-dcl-go-name: DelegatorGaiaId
                                  description: The gaia id of the p4sa used as the
                                    delegator in the call to DelegateGrant.
                                grant:
                                  type: string
                                  x-dcl-go-name: Grant
                                  description: The grant that gives CCFE access to
                                    check key state. This should be a grant that gives
                                    the user specified in KeyNotificationsInfo.delegate
                                    access to the key (see go/grants-mvp-1pager).
                                keyOrVersionName:
                                  type: string
                                  x-dcl-go-name: KeyOrVersionName
                                  description: The key or version name to watch. This
                                    should not be a grant.
                  p4ServiceAccount:
                    type: string
                    x-dcl-go-name: P4ServiceAccount
                    description: If not empty, instruct CLH to assert the p4 service
                      account passed in projects metadata. Note this action is not
                      supported in hermetic envs.
                  permissionsInfo:
                    type: array
                    x-dcl-go-name: PermissionsInfo
                    description: permission info list to be requested
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstancePreprocessUpdateRecipeStepsPermissionsInfo
                      properties:
                        apiAttrs:
                          $ref: '#/components/schemas/Googleprotobufstruct'
                          x-dcl-go-name: ApiAttrs
                        iamPermissions:
                          type: array
                          x-dcl-go-name: IamPermissions
                          description: Contains the iam permission.
                          x-dcl-list-type: list
                          items:
                            type: object
                            x-dcl-go-type: InstancePreprocessUpdateRecipeStepsPermissionsInfoIamPermissions
                            properties:
                              permission:
                                type: string
                                x-dcl-go-name: Permission
                                description: It represents iam permission, for example
                                  "arcus2tier2.instance.create". It cannot be empty
                                  or "iam.permissions.none".
                        policyName:
                          type: object
                          x-dcl-go-name: PolicyName
                          x-dcl-go-type: InstancePreprocessUpdateRecipeStepsPermissionsInfoPolicyName
                          description: PolicyName contains the policy id and type.
                          properties:
                            id:
                              type: string
                              x-dcl-go-name: Id
                              description: Identifies an instance of the type. ID
                                format varies by type. The ID format is defined in
                                the IAM .service file that defines the type, either
                                in path_mapping or in a comment.
                            region:
                              type: string
                              x-dcl-go-name: Region
                              description: 'For Cloud IAM: The location of the Policy.
                                Must be empty or "global" for Policies owned by global
                                IAM. Must name a region from prodspec/cloud-iam-cloudspec
                                for Regional IAM Policies, see go/iam-faq#where-is-iam-currently-deployed.
                                For Local IAM: This field should be set to "local".'
                            type:
                              type: string
                              x-dcl-go-name: Type
                              description: 'Resource type. Types are defined in IAM''s
                                .service files. Valid values for type might be ''gce'',
                                ''gcs'', ''project'', ''account'' etc. TODO(b/112599007):
                                annotate this as holding the resource scope when that
                                is supported'
                        resourcePath:
                          type: string
                          x-dcl-go-name: ResourcePath
                          description: ResourcePath is used for cloud audit logging.
                            ResourcePath is also used for constructing the permission
                            denied error message when permission is denied. If resource_path
                            is provided, permission denied error message would be
                            "Permission X denied on resource Y" else error message
                            would be "Permission X denied on resource (or it may not
                            exist)".
                  preprocessUpdate:
                    type: object
                    x-dcl-go-name: PreprocessUpdate
                    x-dcl-go-type: InstancePreprocessUpdateRecipeStepsPreprocessUpdate
                    description: Optional update to be applied to the operation metadata
                      update if the recipe needs to initialize the operation metadata
                      during preprocess
                    properties:
                      latencySloBucketName:
                        type: string
                        x-dcl-go-name: LatencySloBucketName
                      publicOperationMetadata:
                        type: string
                        x-dcl-go-name: PublicOperationMetadata
                        description: Optional public operation metadata to be returned
                          by Preprocess calls LROs. The value must be serialized using
                          the protojson.AnyToString. CLH recipe code will de-serialize
                          it using the protojson.StringToAny.
                  publicErrorMessage:
                    type: string
                    x-dcl-go-name: PublicErrorMessage
                    description: Public error message specified by CLH.
                  publicOperationMetadata:
                    type: string
                    x-dcl-go-name: PublicOperationMetadata
                    description: Optional public operation metadata to be returned
                      by Apply calls LROs. The value must be serialized using the
                      protojson.AnyToString. CLH recipe code will de-serialize it
                      using the protojson.StringToAny.
                  quotaRequestDeltas:
                    type: array
                    x-dcl-go-name: QuotaRequestDeltas
                    description: The quota usage delta to be charged. NOT an absolute
                      Desired number, but rather a delta.
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstancePreprocessUpdateRecipeStepsQuotaRequestDeltas
                      properties:
                        amount:
                          type: integer
                          format: int64
                          x-dcl-go-name: Amount
                          description: How much quota is charged by the given resource.
                        metricName:
                          type: string
                          x-dcl-go-name: MetricName
                          description: The name of the metric to charge.
                  relativeTime:
                    type: integer
                    format: int64
                    x-dcl-go-name: RelativeTime
                    description: Relative time (in nanoseconds) after which the step
                      is to be run. The time is measured from the start of the operation.
                  requestedTenantProject:
                    type: object
                    x-dcl-go-name: RequestedTenantProject
                    x-dcl-go-type: InstancePreprocessUpdateRecipeStepsRequestedTenantProject
                    description: The tenant project to be requested.
                    properties:
                      folder:
                        type: string
                        x-dcl-go-name: Folder
                        description: Folder where to create this tenannt project.
                          This field will override the corresponding field in TenantProjectConfig
                          (google3/google/api/serviceconsumermanagement/v1/tenancy.proto).
                          With this filed configured dynamicly, tenants can create
                          per-region tenant project pool.
                        x-dcl-references:
                        - resource: Cloudresourcemanager/Folder
                          field: name
                      scope:
                        type: string
                        x-dcl-go-name: Scope
                        x-dcl-go-type: InstancePreprocessUpdateRecipeStepsRequestedTenantProjectScopeEnum
                        description: 'The scope of the tenant project. Note that if
                          the tenant project tag is "default", it''s automatically
                          treated as scope = PROJECT unless specified otherwise. Possible
                          values: UNKNOWN_SCOPE, PROJECT, RESOURCE'
                        enum:
                        - UNKNOWN_SCOPE
                        - PROJECT
                        - RESOURCE
                      tag:
                        type: string
                        x-dcl-go-name: Tag
                        description: A tenant project tag. This is the same tag that
                          is used by Tenancy Units API to identify a tenant project.
                          It is unique within a specific Tenancy Unit. CLH should
                          use a deterministic algorithm to generate a tag. For ex.,
                          if service needs a tenant project per consumer network,
                          consumer network name can be used to generate a tag. For
                          ex., if consumer network name is "my-network", a tag could
                          be "sn-my-network". Prefix "sn-" is used here, but CLH can
                          use any prefix they like as long as it does not change from
                          request to request. If a tenant project with tag "sn-my-network"
                          is requested, CCFE will check if a tenant project with such
                          a tag already exists. If it does, CCFE will reuses it. Otherwise
                          CCFE will create a new tenant project.
                  resourceMetadataSize:
                    type: integer
                    format: int64
                    x-dcl-go-name: ResourceMetadataSize
                    description: size of resource metadata that CL should return
                  sleepDuration:
                    type: integer
                    format: int64
                    x-dcl-go-name: SleepDuration
                    description: Amount of time (in nanoseconds) to sleep for when
                      the step runs.
                  status:
                    type: object
                    x-dcl-go-name: Status
                    x-dcl-go-type: InstancePreprocessUpdateRecipeStepsStatus
                    properties:
                      code:
                        type: integer
                        format: int64
                        x-dcl-go-name: Code
                        description: The status code, which should be an enum value
                          of .
                      details:
                        type: array
                        x-dcl-go-name: Details
                        description: A list of messages that carry the error details.
                          There is a common set of message types for APIs to use.
                        x-dcl-list-type: list
                        items:
                          type: object
                          x-dcl-go-type: InstancePreprocessUpdateRecipeStepsStatusDetails
                          properties:
                            typeUrl:
                              type: string
                              x-dcl-go-name: TypeUrl
                              description: 'A URL/resource name that uniquely identifies
                                the type of the serialized protocol buffer message.
                                This string must contain at least one "/" character.
                                The last segment of the URL''s path must represent
                                the fully qualified name of the type (as in `path/google.protobuf.Duration`).
                                The name should be in a canonical form (e.g., leading
                                "." is not accepted). In practice, teams usually precompile
                                into the binary all types that they expect it to use
                                in the context of Any. However, for URLs which use
                                the scheme `http`, `https`, or no scheme, one can
                                optionally set up a type server that maps type URLs
                                to message definitions as follows: * If no scheme
                                is provided, `https` is assumed. * An HTTP GET on
                                the URL must yield a value in binary format, or produce
                                an error. * Applications are allowed to cache lookup
                                results based on the URL, or have them precompiled
                                into a binary to avoid any lookup. Therefore, binary
                                compatibility needs to be preserved on changes to
                                types. (Use versioned type names to manage breaking
                                changes.) Note: this functionality is not currently
                                available in the official protobuf release, and it
                                is not used for type URLs beginning with type.googleapis.com.
                                Schemes other than `http`, `https` (or the empty scheme)
                                might be used with implementation specific semantics.'
                            value:
                              type: string
                              x-dcl-go-name: Value
                              description: Must be a valid serialized protocol buffer
                                of the above specified type.
                      message:
                        type: string
                        x-dcl-go-name: Message
                        description: A developer-facing error message, which should
                          be in English. Any user-facing error message should be localized
                          and sent in the field, or localized by the client.
                  updatedRepeatOperationDelaySec:
                    type: number
                    format: double
                    x-dcl-go-name: UpdatedRepeatOperationDelaySec
                    description: Updated repeat_operation_delay_sec in the operation
                      metadata.
            verifyDeadlineSecondsBelow:
              type: number
              format: double
              x-dcl-go-name: VerifyDeadlineSecondsBelow
              description: When set, CLH will verify that the RPC deadline (in seconds)
                is less than the value set in the field.
        project:
          type: string
          x-dcl-go-name: Project
          description: The project for the resource
          x-kubernetes-immutable: true
          x-dcl-references:
          - resource: Cloudresourcemanager/Project
            field: name
            parent: true
        publicResourceViewOverride:
          type: string
          x-dcl-go-name: PublicResourceViewOverride
        readUserId:
          type: integer
          format: int64
          x-dcl-go-name: ReadUserId
          readOnly: true
          description: Gaia ID observed by the CLH when read.
          x-kubernetes-immutable: true
        readonlyRecipe:
          type: object
          x-dcl-go-name: ReadonlyRecipe
          x-dcl-go-type: InstanceReadonlyRecipe
          properties:
            delayToStoreResourcesInClhDbNanos:
              type: integer
              format: int64
              x-dcl-go-name: DelayToStoreResourcesInClhDbNanos
              description: Amount of time (in nanoseconds) takes for clh to store
                the resources listed in resource_names_stored_in_clh_with_delay in
                its DB and then return 200. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after that it will work normally. resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.
            honorCancelRequest:
              type: boolean
              x-dcl-go-name: HonorCancelRequest
              description: When set to true, CLH will return CANCELLED status on DONE
                if CCFE passed the cancellation bit.
            ignoreRecipeAfter:
              type: integer
              format: int64
              x-dcl-go-name: IgnoreRecipeAfter
              description: Absolute time (in nanoseconds) that specifies (if non-zero)
                after which this recipe should be ignored and not executed.
            populateOperationResult:
              type: boolean
              x-dcl-go-name: PopulateOperationResult
              description: When set to true, CLH will populate the Operation.Result,
                Operation.Result is optional and if it's not populated CCFE will use
                resourceViews to populate it.
            readonlyRecipeStartTime:
              type: string
              format: date-time
              x-dcl-go-name: ReadonlyRecipeStartTime
              description: Usually recipe start_time is calculated by operation.start_time
                but in readonly requests we won't have that, this field will act as
                an override for recipe start_time.
            resourceNamesStoredInClhWithDelay:
              type: array
              x-dcl-go-name: ResourceNamesStoredInClhWithDelay
              description: 'Resource names listed here will be returned to CCFE with
                resource_status=NOT_FOUND, instructing CCFE not to return them as
                part of Get/List calls. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                it will work normally and return the resource. example usage: resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.'
              x-dcl-list-type: list
              items:
                type: string
                x-dcl-go-type: string
            steps:
              type: array
              x-dcl-go-name: Steps
              x-dcl-list-type: list
              items:
                type: object
                x-dcl-go-type: InstanceReadonlyRecipeSteps
                properties:
                  action:
                    type: string
                    x-dcl-go-name: Action
                    x-dcl-go-type: InstanceReadonlyRecipeStepsActionEnum
                    description: 'Action to perform. Possible values: NO_ACTION, ALLOW,
                      ALLOW_WITH_LOG, DENY, DENY_WITH_LOG, LOG'
                    enum:
                    - NO_ACTION
                    - ALLOW
                    - ALLOW_WITH_LOG
                    - DENY
                    - DENY_WITH_LOG
                    - LOG
                  clhDataUpdateTime:
                    type: string
                    format: date-time
                    x-dcl-go-name: ClhDataUpdateTime
                    description: Optional timestamp simulating a write to a CLH-owned
                      database.
                  description:
                    type: string
                    x-dcl-go-name: Description
                    description: Description to store in CLHCallHistory history. Defaults
                      to a string provided by CLH (typically RPC name with parameters).
                  errorSpace:
                    type: string
                    x-dcl-go-name: ErrorSpace
                    description: If not empty, causes returned error to be in the
                      specified space.
                  keyNotificationsUpdate:
                    type: object
                    x-dcl-go-name: KeyNotificationsUpdate
                    x-dcl-go-type: InstanceReadonlyRecipeStepsKeyNotificationsUpdate
                    description: Optional update to be applied to the key_notifications
                      field (which KMS keys to watch and how to watch them).
                    properties:
                      keyNotificationsInfo:
                        type: object
                        x-dcl-go-name: KeyNotificationsInfo
                        x-dcl-go-type: InstanceReadonlyRecipeStepsKeyNotificationsUpdateKeyNotificationsInfo
                        properties:
                          dataVersion:
                            type: integer
                            format: int64
                            x-dcl-go-name: DataVersion
                            description: The version number of this configuration.
                              Any update is only applied if a new watched key has
                              a higher version number than the current watched key
                          delegate:
                            type: string
                            x-dcl-go-name: Delegate
                            description: 'The MDB role to delegate KMS grant to so
                              CCFE can register the key to be watched on behalf of
                              the CLH. Should be of the format: "serviceaccount:@prod.google.com"
                              This field will always be populated by CCFE and cannot
                              be updated by the CLH.'
                          keyNotificationConfigs:
                            type: array
                            x-dcl-go-name: KeyNotificationConfigs
                            description: The keys, if any, about which notifications
                              should be sent, along with any configuration options
                              controlling notification behavior. If absent, all the
                              watched keys are unregistered.
                            x-dcl-list-type: list
                            items:
                              type: object
                              x-dcl-go-type: InstanceReadonlyRecipeStepsKeyNotificationsUpdateKeyNotificationsInfoKeyNotificationConfigs
                              properties:
                                delegatorGaiaId:
                                  type: integer
                                  format: int64
                                  x-dcl-go-name: DelegatorGaiaId
                                  description: The gaia id of the p4sa used as the
                                    delegator in the call to DelegateGrant.
                                grant:
                                  type: string
                                  x-dcl-go-name: Grant
                                  description: The grant that gives CCFE access to
                                    check key state. This should be a grant that gives
                                    the user specified in KeyNotificationsInfo.delegate
                                    access to the key (see go/grants-mvp-1pager).
                                keyOrVersionName:
                                  type: string
                                  x-dcl-go-name: KeyOrVersionName
                                  description: The key or version name to watch. This
                                    should not be a grant.
                  p4ServiceAccount:
                    type: string
                    x-dcl-go-name: P4ServiceAccount
                    description: If not empty, instruct CLH to assert the p4 service
                      account passed in projects metadata. Note this action is not
                      supported in hermetic envs.
                  permissionsInfo:
                    type: array
                    x-dcl-go-name: PermissionsInfo
                    description: permission info list to be requested
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstanceReadonlyRecipeStepsPermissionsInfo
                      properties:
                        apiAttrs:
                          $ref: '#/components/schemas/Googleprotobufstruct'
                          x-dcl-go-name: ApiAttrs
                        iamPermissions:
                          type: array
                          x-dcl-go-name: IamPermissions
                          description: Contains the iam permission.
                          x-dcl-list-type: list
                          items:
                            type: object
                            x-dcl-go-type: InstanceReadonlyRecipeStepsPermissionsInfoIamPermissions
                            properties:
                              permission:
                                type: string
                                x-dcl-go-name: Permission
                                description: It represents iam permission, for example
                                  "arcus2tier2.instance.create". It cannot be empty
                                  or "iam.permissions.none".
                        policyName:
                          type: object
                          x-dcl-go-name: PolicyName
                          x-dcl-go-type: InstanceReadonlyRecipeStepsPermissionsInfoPolicyName
                          description: PolicyName contains the policy id and type.
                          properties:
                            id:
                              type: string
                              x-dcl-go-name: Id
                              description: Identifies an instance of the type. ID
                                format varies by type. The ID format is defined in
                                the IAM .service file that defines the type, either
                                in path_mapping or in a comment.
                            region:
                              type: string
                              x-dcl-go-name: Region
                              description: 'For Cloud IAM: The location of the Policy.
                                Must be empty or "global" for Policies owned by global
                                IAM. Must name a region from prodspec/cloud-iam-cloudspec
                                for Regional IAM Policies, see go/iam-faq#where-is-iam-currently-deployed.
                                For Local IAM: This field should be set to "local".'
                            type:
                              type: string
                              x-dcl-go-name: Type
                              description: 'Resource type. Types are defined in IAM''s
                                .service files. Valid values for type might be ''gce'',
                                ''gcs'', ''project'', ''account'' etc. TODO(b/112599007):
                                annotate this as holding the resource scope when that
                                is supported'
                        resourcePath:
                          type: string
                          x-dcl-go-name: ResourcePath
                          description: ResourcePath is used for cloud audit logging.
                            ResourcePath is also used for constructing the permission
                            denied error message when permission is denied. If resource_path
                            is provided, permission denied error message would be
                            "Permission X denied on resource Y" else error message
                            would be "Permission X denied on resource (or it may not
                            exist)".
                  preprocessUpdate:
                    type: object
                    x-dcl-go-name: PreprocessUpdate
                    x-dcl-go-type: InstanceReadonlyRecipeStepsPreprocessUpdate
                    description: Optional update to be applied to the operation metadata
                      update if the recipe needs to initialize the operation metadata
                      during preprocess
                    properties:
                      latencySloBucketName:
                        type: string
                        x-dcl-go-name: LatencySloBucketName
                      publicOperationMetadata:
                        type: string
                        x-dcl-go-name: PublicOperationMetadata
                        description: Optional public operation metadata to be returned
                          by Preprocess calls LROs. The value must be serialized using
                          the protojson.AnyToString. CLH recipe code will de-serialize
                          it using the protojson.StringToAny.
                  publicErrorMessage:
                    type: string
                    x-dcl-go-name: PublicErrorMessage
                    description: Public error message specified by CLH.
                  publicOperationMetadata:
                    type: string
                    x-dcl-go-name: PublicOperationMetadata
                    description: Optional public operation metadata to be returned
                      by Apply calls LROs. The value must be serialized using the
                      protojson.AnyToString. CLH recipe code will de-serialize it
                      using the protojson.StringToAny.
                  quotaRequestDeltas:
                    type: array
                    x-dcl-go-name: QuotaRequestDeltas
                    description: The quota usage delta to be charged. NOT an absolute
                      Desired number, but rather a delta.
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstanceReadonlyRecipeStepsQuotaRequestDeltas
                      properties:
                        amount:
                          type: integer
                          format: int64
                          x-dcl-go-name: Amount
                          description: How much quota is charged by the given resource.
                        metricName:
                          type: string
                          x-dcl-go-name: MetricName
                          description: The name of the metric to charge.
                  relativeTime:
                    type: integer
                    format: int64
                    x-dcl-go-name: RelativeTime
                    description: Relative time (in nanoseconds) after which the step
                      is to be run. The time is measured from the start of the operation.
                  requestedTenantProject:
                    type: object
                    x-dcl-go-name: RequestedTenantProject
                    x-dcl-go-type: InstanceReadonlyRecipeStepsRequestedTenantProject
                    description: The tenant project to be requested.
                    properties:
                      folder:
                        type: string
                        x-dcl-go-name: Folder
                        description: Folder where to create this tenannt project.
                          This field will override the corresponding field in TenantProjectConfig
                          (google3/google/api/serviceconsumermanagement/v1/tenancy.proto).
                          With this filed configured dynamicly, tenants can create
                          per-region tenant project pool.
                        x-dcl-references:
                        - resource: Cloudresourcemanager/Folder
                          field: name
                      scope:
                        type: string
                        x-dcl-go-name: Scope
                        x-dcl-go-type: InstanceReadonlyRecipeStepsRequestedTenantProjectScopeEnum
                        description: 'The scope of the tenant project. Note that if
                          the tenant project tag is "default", it''s automatically
                          treated as scope = PROJECT unless specified otherwise. Possible
                          values: UNKNOWN_SCOPE, PROJECT, RESOURCE'
                        enum:
                        - UNKNOWN_SCOPE
                        - PROJECT
                        - RESOURCE
                      tag:
                        type: string
                        x-dcl-go-name: Tag
                        description: A tenant project tag. This is the same tag that
                          is used by Tenancy Units API to identify a tenant project.
                          It is unique within a specific Tenancy Unit. CLH should
                          use a deterministic algorithm to generate a tag. For ex.,
                          if service needs a tenant project per consumer network,
                          consumer network name can be used to generate a tag. For
                          ex., if consumer network name is "my-network", a tag could
                          be "sn-my-network". Prefix "sn-" is used here, but CLH can
                          use any prefix they like as long as it does not change from
                          request to request. If a tenant project with tag "sn-my-network"
                          is requested, CCFE will check if a tenant project with such
                          a tag already exists. If it does, CCFE will reuses it. Otherwise
                          CCFE will create a new tenant project.
                  resourceMetadataSize:
                    type: integer
                    format: int64
                    x-dcl-go-name: ResourceMetadataSize
                    description: size of resource metadata that CL should return
                  sleepDuration:
                    type: integer
                    format: int64
                    x-dcl-go-name: SleepDuration
                    description: Amount of time (in nanoseconds) to sleep for when
                      the step runs.
                  status:
                    type: object
                    x-dcl-go-name: Status
                    x-dcl-go-type: InstanceReadonlyRecipeStepsStatus
                    properties:
                      code:
                        type: integer
                        format: int64
                        x-dcl-go-name: Code
                        description: The status code, which should be an enum value
                          of .
                      details:
                        type: array
                        x-dcl-go-name: Details
                        description: A list of messages that carry the error details.
                          There is a common set of message types for APIs to use.
                        x-dcl-list-type: list
                        items:
                          type: object
                          x-dcl-go-type: InstanceReadonlyRecipeStepsStatusDetails
                          properties:
                            typeUrl:
                              type: string
                              x-dcl-go-name: TypeUrl
                              description: 'A URL/resource name that uniquely identifies
                                the type of the serialized protocol buffer message.
                                This string must contain at least one "/" character.
                                The last segment of the URL''s path must represent
                                the fully qualified name of the type (as in `path/google.protobuf.Duration`).
                                The name should be in a canonical form (e.g., leading
                                "." is not accepted). In practice, teams usually precompile
                                into the binary all types that they expect it to use
                                in the context of Any. However, for URLs which use
                                the scheme `http`, `https`, or no scheme, one can
                                optionally set up a type server that maps type URLs
                                to message definitions as follows: * If no scheme
                                is provided, `https` is assumed. * An HTTP GET on
                                the URL must yield a value in binary format, or produce
                                an error. * Applications are allowed to cache lookup
                                results based on the URL, or have them precompiled
                                into a binary to avoid any lookup. Therefore, binary
                                compatibility needs to be preserved on changes to
                                types. (Use versioned type names to manage breaking
                                changes.) Note: this functionality is not currently
                                available in the official protobuf release, and it
                                is not used for type URLs beginning with type.googleapis.com.
                                Schemes other than `http`, `https` (or the empty scheme)
                                might be used with implementation specific semantics.'
                            value:
                              type: string
                              x-dcl-go-name: Value
                              description: Must be a valid serialized protocol buffer
                                of the above specified type.
                      message:
                        type: string
                        x-dcl-go-name: Message
                        description: A developer-facing error message, which should
                          be in English. Any user-facing error message should be localized
                          and sent in the field, or localized by the client.
                  updatedRepeatOperationDelaySec:
                    type: number
                    format: double
                    x-dcl-go-name: UpdatedRepeatOperationDelaySec
                    description: Updated repeat_operation_delay_sec in the operation
                      metadata.
            verifyDeadlineSecondsBelow:
              type: number
              format: double
              x-dcl-go-name: VerifyDeadlineSecondsBelow
              description: When set, CLH will verify that the RPC deadline (in seconds)
                is less than the value set in the field.
        reconcileRecipe:
          type: object
          x-dcl-go-name: ReconcileRecipe
          x-dcl-go-type: InstanceReconcileRecipe
          properties:
            delayToStoreResourcesInClhDbNanos:
              type: integer
              format: int64
              x-dcl-go-name: DelayToStoreResourcesInClhDbNanos
              description: Amount of time (in nanoseconds) takes for clh to store
                the resources listed in resource_names_stored_in_clh_with_delay in
                its DB and then return 200. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after that it will work normally. resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.
            honorCancelRequest:
              type: boolean
              x-dcl-go-name: HonorCancelRequest
              description: When set to true, CLH will return CANCELLED status on DONE
                if CCFE passed the cancellation bit.
            ignoreRecipeAfter:
              type: integer
              format: int64
              x-dcl-go-name: IgnoreRecipeAfter
              description: Absolute time (in nanoseconds) that specifies (if non-zero)
                after which this recipe should be ignored and not executed.
            populateOperationResult:
              type: boolean
              x-dcl-go-name: PopulateOperationResult
              description: When set to true, CLH will populate the Operation.Result,
                Operation.Result is optional and if it's not populated CCFE will use
                resourceViews to populate it.
            readonlyRecipeStartTime:
              type: string
              format: date-time
              x-dcl-go-name: ReadonlyRecipeStartTime
              description: Usually recipe start_time is calculated by operation.start_time
                but in readonly requests we won't have that, this field will act as
                an override for recipe start_time.
            resourceNamesStoredInClhWithDelay:
              type: array
              x-dcl-go-name: ResourceNamesStoredInClhWithDelay
              description: 'Resource names listed here will be returned to CCFE with
                resource_status=NOT_FOUND, instructing CCFE not to return them as
                part of Get/List calls. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                it will work normally and return the resource. example usage: resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.'
              x-dcl-list-type: list
              items:
                type: string
                x-dcl-go-type: string
            steps:
              type: array
              x-dcl-go-name: Steps
              x-dcl-list-type: list
              items:
                type: object
                x-dcl-go-type: InstanceReconcileRecipeSteps
                properties:
                  action:
                    type: string
                    x-dcl-go-name: Action
                    x-dcl-go-type: InstanceReconcileRecipeStepsActionEnum
                    description: 'Action to perform. Possible values: NO_ACTION, ALLOW,
                      ALLOW_WITH_LOG, DENY, DENY_WITH_LOG, LOG'
                    enum:
                    - NO_ACTION
                    - ALLOW
                    - ALLOW_WITH_LOG
                    - DENY
                    - DENY_WITH_LOG
                    - LOG
                  clhDataUpdateTime:
                    type: string
                    format: date-time
                    x-dcl-go-name: ClhDataUpdateTime
                    description: Optional timestamp simulating a write to a CLH-owned
                      database.
                  description:
                    type: string
                    x-dcl-go-name: Description
                    description: Description to store in CLHCallHistory history. Defaults
                      to a string provided by CLH (typically RPC name with parameters).
                  errorSpace:
                    type: string
                    x-dcl-go-name: ErrorSpace
                    description: If not empty, causes returned error to be in the
                      specified space.
                  keyNotificationsUpdate:
                    type: object
                    x-dcl-go-name: KeyNotificationsUpdate
                    x-dcl-go-type: InstanceReconcileRecipeStepsKeyNotificationsUpdate
                    description: Optional update to be applied to the key_notifications
                      field (which KMS keys to watch and how to watch them).
                    properties:
                      keyNotificationsInfo:
                        type: object
                        x-dcl-go-name: KeyNotificationsInfo
                        x-dcl-go-type: InstanceReconcileRecipeStepsKeyNotificationsUpdateKeyNotificationsInfo
                        properties:
                          dataVersion:
                            type: integer
                            format: int64
                            x-dcl-go-name: DataVersion
                            description: The version number of this configuration.
                              Any update is only applied if a new watched key has
                              a higher version number than the current watched key
                          delegate:
                            type: string
                            x-dcl-go-name: Delegate
                            description: 'The MDB role to delegate KMS grant to so
                              CCFE can register the key to be watched on behalf of
                              the CLH. Should be of the format: "serviceaccount:@prod.google.com"
                              This field will always be populated by CCFE and cannot
                              be updated by the CLH.'
                          keyNotificationConfigs:
                            type: array
                            x-dcl-go-name: KeyNotificationConfigs
                            description: The keys, if any, about which notifications
                              should be sent, along with any configuration options
                              controlling notification behavior. If absent, all the
                              watched keys are unregistered.
                            x-dcl-list-type: list
                            items:
                              type: object
                              x-dcl-go-type: InstanceReconcileRecipeStepsKeyNotificationsUpdateKeyNotificationsInfoKeyNotificationConfigs
                              properties:
                                delegatorGaiaId:
                                  type: integer
                                  format: int64
                                  x-dcl-go-name: DelegatorGaiaId
                                  description: The gaia id of the p4sa used as the
                                    delegator in the call to DelegateGrant.
                                grant:
                                  type: string
                                  x-dcl-go-name: Grant
                                  description: The grant that gives CCFE access to
                                    check key state. This should be a grant that gives
                                    the user specified in KeyNotificationsInfo.delegate
                                    access to the key (see go/grants-mvp-1pager).
                                keyOrVersionName:
                                  type: string
                                  x-dcl-go-name: KeyOrVersionName
                                  description: The key or version name to watch. This
                                    should not be a grant.
                  p4ServiceAccount:
                    type: string
                    x-dcl-go-name: P4ServiceAccount
                    description: If not empty, instruct CLH to assert the p4 service
                      account passed in projects metadata. Note this action is not
                      supported in hermetic envs.
                  permissionsInfo:
                    type: array
                    x-dcl-go-name: PermissionsInfo
                    description: permission info list to be requested
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstanceReconcileRecipeStepsPermissionsInfo
                      properties:
                        apiAttrs:
                          $ref: '#/components/schemas/Googleprotobufstruct'
                          x-dcl-go-name: ApiAttrs
                        iamPermissions:
                          type: array
                          x-dcl-go-name: IamPermissions
                          description: Contains the iam permission.
                          x-dcl-list-type: list
                          items:
                            type: object
                            x-dcl-go-type: InstanceReconcileRecipeStepsPermissionsInfoIamPermissions
                            properties:
                              permission:
                                type: string
                                x-dcl-go-name: Permission
                                description: It represents iam permission, for example
                                  "arcus2tier2.instance.create". It cannot be empty
                                  or "iam.permissions.none".
                        policyName:
                          type: object
                          x-dcl-go-name: PolicyName
                          x-dcl-go-type: InstanceReconcileRecipeStepsPermissionsInfoPolicyName
                          description: PolicyName contains the policy id and type.
                          properties:
                            id:
                              type: string
                              x-dcl-go-name: Id
                              description: Identifies an instance of the type. ID
                                format varies by type. The ID format is defined in
                                the IAM .service file that defines the type, either
                                in path_mapping or in a comment.
                            region:
                              type: string
                              x-dcl-go-name: Region
                              description: 'For Cloud IAM: The location of the Policy.
                                Must be empty or "global" for Policies owned by global
                                IAM. Must name a region from prodspec/cloud-iam-cloudspec
                                for Regional IAM Policies, see go/iam-faq#where-is-iam-currently-deployed.
                                For Local IAM: This field should be set to "local".'
                            type:
                              type: string
                              x-dcl-go-name: Type
                              description: 'Resource type. Types are defined in IAM''s
                                .service files. Valid values for type might be ''gce'',
                                ''gcs'', ''project'', ''account'' etc. TODO(b/112599007):
                                annotate this as holding the resource scope when that
                                is supported'
                        resourcePath:
                          type: string
                          x-dcl-go-name: ResourcePath
                          description: ResourcePath is used for cloud audit logging.
                            ResourcePath is also used for constructing the permission
                            denied error message when permission is denied. If resource_path
                            is provided, permission denied error message would be
                            "Permission X denied on resource Y" else error message
                            would be "Permission X denied on resource (or it may not
                            exist)".
                  preprocessUpdate:
                    type: object
                    x-dcl-go-name: PreprocessUpdate
                    x-dcl-go-type: InstanceReconcileRecipeStepsPreprocessUpdate
                    description: Optional update to be applied to the operation metadata
                      update if the recipe needs to initialize the operation metadata
                      during preprocess
                    properties:
                      latencySloBucketName:
                        type: string
                        x-dcl-go-name: LatencySloBucketName
                      publicOperationMetadata:
                        type: string
                        x-dcl-go-name: PublicOperationMetadata
                        description: Optional public operation metadata to be returned
                          by Preprocess calls LROs. The value must be serialized using
                          the protojson.AnyToString. CLH recipe code will de-serialize
                          it using the protojson.StringToAny.
                  publicErrorMessage:
                    type: string
                    x-dcl-go-name: PublicErrorMessage
                    description: Public error message specified by CLH.
                  publicOperationMetadata:
                    type: string
                    x-dcl-go-name: PublicOperationMetadata
                    description: Optional public operation metadata to be returned
                      by Apply calls LROs. The value must be serialized using the
                      protojson.AnyToString. CLH recipe code will de-serialize it
                      using the protojson.StringToAny.
                  quotaRequestDeltas:
                    type: array
                    x-dcl-go-name: QuotaRequestDeltas
                    description: The quota usage delta to be charged. NOT an absolute
                      Desired number, but rather a delta.
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstanceReconcileRecipeStepsQuotaRequestDeltas
                      properties:
                        amount:
                          type: integer
                          format: int64
                          x-dcl-go-name: Amount
                          description: How much quota is charged by the given resource.
                        metricName:
                          type: string
                          x-dcl-go-name: MetricName
                          description: The name of the metric to charge.
                  relativeTime:
                    type: integer
                    format: int64
                    x-dcl-go-name: RelativeTime
                    description: Relative time (in nanoseconds) after which the step
                      is to be run. The time is measured from the start of the operation.
                  requestedTenantProject:
                    type: object
                    x-dcl-go-name: RequestedTenantProject
                    x-dcl-go-type: InstanceReconcileRecipeStepsRequestedTenantProject
                    description: The tenant project to be requested.
                    properties:
                      folder:
                        type: string
                        x-dcl-go-name: Folder
                        description: Folder where to create this tenannt project.
                          This field will override the corresponding field in TenantProjectConfig
                          (google3/google/api/serviceconsumermanagement/v1/tenancy.proto).
                          With this filed configured dynamicly, tenants can create
                          per-region tenant project pool.
                        x-dcl-references:
                        - resource: Cloudresourcemanager/Folder
                          field: name
                      scope:
                        type: string
                        x-dcl-go-name: Scope
                        x-dcl-go-type: InstanceReconcileRecipeStepsRequestedTenantProjectScopeEnum
                        description: 'The scope of the tenant project. Note that if
                          the tenant project tag is "default", it''s automatically
                          treated as scope = PROJECT unless specified otherwise. Possible
                          values: UNKNOWN_SCOPE, PROJECT, RESOURCE'
                        enum:
                        - UNKNOWN_SCOPE
                        - PROJECT
                        - RESOURCE
                      tag:
                        type: string
                        x-dcl-go-name: Tag
                        description: A tenant project tag. This is the same tag that
                          is used by Tenancy Units API to identify a tenant project.
                          It is unique within a specific Tenancy Unit. CLH should
                          use a deterministic algorithm to generate a tag. For ex.,
                          if service needs a tenant project per consumer network,
                          consumer network name can be used to generate a tag. For
                          ex., if consumer network name is "my-network", a tag could
                          be "sn-my-network". Prefix "sn-" is used here, but CLH can
                          use any prefix they like as long as it does not change from
                          request to request. If a tenant project with tag "sn-my-network"
                          is requested, CCFE will check if a tenant project with such
                          a tag already exists. If it does, CCFE will reuses it. Otherwise
                          CCFE will create a new tenant project.
                  resourceMetadataSize:
                    type: integer
                    format: int64
                    x-dcl-go-name: ResourceMetadataSize
                    description: size of resource metadata that CL should return
                  sleepDuration:
                    type: integer
                    format: int64
                    x-dcl-go-name: SleepDuration
                    description: Amount of time (in nanoseconds) to sleep for when
                      the step runs.
                  status:
                    type: object
                    x-dcl-go-name: Status
                    x-dcl-go-type: InstanceReconcileRecipeStepsStatus
                    properties:
                      code:
                        type: integer
                        format: int64
                        x-dcl-go-name: Code
                        description: The status code, which should be an enum value
                          of .
                      details:
                        type: array
                        x-dcl-go-name: Details
                        description: A list of messages that carry the error details.
                          There is a common set of message types for APIs to use.
                        x-dcl-list-type: list
                        items:
                          type: object
                          x-dcl-go-type: InstanceReconcileRecipeStepsStatusDetails
                          properties:
                            typeUrl:
                              type: string
                              x-dcl-go-name: TypeUrl
                              description: 'A URL/resource name that uniquely identifies
                                the type of the serialized protocol buffer message.
                                This string must contain at least one "/" character.
                                The last segment of the URL''s path must represent
                                the fully qualified name of the type (as in `path/google.protobuf.Duration`).
                                The name should be in a canonical form (e.g., leading
                                "." is not accepted). In practice, teams usually precompile
                                into the binary all types that they expect it to use
                                in the context of Any. However, for URLs which use
                                the scheme `http`, `https`, or no scheme, one can
                                optionally set up a type server that maps type URLs
                                to message definitions as follows: * If no scheme
                                is provided, `https` is assumed. * An HTTP GET on
                                the URL must yield a value in binary format, or produce
                                an error. * Applications are allowed to cache lookup
                                results based on the URL, or have them precompiled
                                into a binary to avoid any lookup. Therefore, binary
                                compatibility needs to be preserved on changes to
                                types. (Use versioned type names to manage breaking
                                changes.) Note: this functionality is not currently
                                available in the official protobuf release, and it
                                is not used for type URLs beginning with type.googleapis.com.
                                Schemes other than `http`, `https` (or the empty scheme)
                                might be used with implementation specific semantics.'
                            value:
                              type: string
                              x-dcl-go-name: Value
                              description: Must be a valid serialized protocol buffer
                                of the above specified type.
                      message:
                        type: string
                        x-dcl-go-name: Message
                        description: A developer-facing error message, which should
                          be in English. Any user-facing error message should be localized
                          and sent in the field, or localized by the client.
                  updatedRepeatOperationDelaySec:
                    type: number
                    format: double
                    x-dcl-go-name: UpdatedRepeatOperationDelaySec
                    description: Updated repeat_operation_delay_sec in the operation
                      metadata.
            verifyDeadlineSecondsBelow:
              type: number
              format: double
              x-dcl-go-name: VerifyDeadlineSecondsBelow
              description: When set, CLH will verify that the RPC deadline (in seconds)
                is less than the value set in the field.
        references:
          type: array
          x-dcl-go-name: References
          description: Optional list of references that currently exist for this resource.
          x-dcl-list-type: list
          items:
            type: object
            x-dcl-go-type: InstanceReferences
            required:
            - type
            - sourceResource
            properties:
              createTime:
                type: string
                format: date-time
                x-dcl-go-name: CreateTime
                readOnly: true
                description: Output only. The creation time.
              details:
                type: array
                x-dcl-go-name: Details
                description: 'Details of the reference type with no implied semantics.
                  Cumulative size of the field must not be more than 1KiB. Note: For
                  the Arcus Reference API, you must add the proto you store in this
                  field to http://cs/symbol:cloud.cluster.reference.ReferencePayload'
                x-dcl-list-type: list
                items:
                  type: object
                  x-dcl-go-type: InstanceReferencesDetails
                  properties:
                    typeUrl:
                      type: string
                      x-dcl-go-name: TypeUrl
                      description: 'A URL/resource name that uniquely identifies the
                        type of the serialized protocol buffer message. This string
                        must contain at least one "/" character. The last segment
                        of the URL''s path must represent the fully qualified name
                        of the type (as in `path/google.protobuf.Duration`). The name
                        should be in a canonical form (e.g., leading "." is not accepted).
                        In practice, teams usually precompile into the binary all
                        types that they expect it to use in the context of Any. However,
                        for URLs which use the scheme `http`, `https`, or no scheme,
                        one can optionally set up a type server that maps type URLs
                        to message definitions as follows: * If no scheme is provided,
                        `https` is assumed. * An HTTP GET on the URL must yield a
                        value in binary format, or produce an error. * Applications
                        are allowed to cache lookup results based on the URL, or have
                        them precompiled into a binary to avoid any lookup. Therefore,
                        binary compatibility needs to be preserved on changes to types.
                        (Use versioned type names to manage breaking changes.) Note:
                        this functionality is not currently available in the official
                        protobuf release, and it is not used for type URLs beginning
                        with type.googleapis.com. Schemes other than `http`, `https`
                        (or the empty scheme) might be used with implementation specific
                        semantics.'
                    value:
                      type: string
                      x-dcl-go-name: Value
                      description: Must be a valid serialized protocol buffer of the
                        above specified type.
              name:
                type: string
                x-dcl-go-name: Name
                readOnly: true
                description: Output only. Resource name of the reference. Includes
                  target resource as a parent and reference uid `{target_resource}/references/{reference_id}`.
                  For example, `projects/{my-project}/locations/{location}/instances/{my-instance}/references/{xyz}`.
                x-dcl-server-generated-parameter: true
              sourceResource:
                type: string
                x-dcl-go-name: SourceResource
                description: 'Required. Full resource name of the resource which refers
                  the target resource. For example: //tpu.googleapis.com/projects/myproject/nodes/mynode'
              type:
                type: string
                x-dcl-go-name: Type
                description: Required. Type of the reference. A service might impose
                  limits on number of references of a specific type.
        repairRecipe:
          type: object
          x-dcl-go-name: RepairRecipe
          x-dcl-go-type: InstanceRepairRecipe
          properties:
            delayToStoreResourcesInClhDbNanos:
              type: integer
              format: int64
              x-dcl-go-name: DelayToStoreResourcesInClhDbNanos
              description: Amount of time (in nanoseconds) takes for clh to store
                the resources listed in resource_names_stored_in_clh_with_delay in
                its DB and then return 200. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after that it will work normally. resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.
            honorCancelRequest:
              type: boolean
              x-dcl-go-name: HonorCancelRequest
              description: When set to true, CLH will return CANCELLED status on DONE
                if CCFE passed the cancellation bit.
            ignoreRecipeAfter:
              type: integer
              format: int64
              x-dcl-go-name: IgnoreRecipeAfter
              description: Absolute time (in nanoseconds) that specifies (if non-zero)
                after which this recipe should be ignored and not executed.
            populateOperationResult:
              type: boolean
              x-dcl-go-name: PopulateOperationResult
              description: When set to true, CLH will populate the Operation.Result,
                Operation.Result is optional and if it's not populated CCFE will use
                resourceViews to populate it.
            readonlyRecipeStartTime:
              type: string
              format: date-time
              x-dcl-go-name: ReadonlyRecipeStartTime
              description: Usually recipe start_time is calculated by operation.start_time
                but in readonly requests we won't have that, this field will act as
                an override for recipe start_time.
            resourceNamesStoredInClhWithDelay:
              type: array
              x-dcl-go-name: ResourceNamesStoredInClhWithDelay
              description: 'Resource names listed here will be returned to CCFE with
                resource_status=NOT_FOUND, instructing CCFE not to return them as
                part of Get/List calls. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                it will work normally and return the resource. example usage: resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.'
              x-dcl-list-type: list
              items:
                type: string
                x-dcl-go-type: string
            steps:
              type: array
              x-dcl-go-name: Steps
              x-dcl-list-type: list
              items:
                type: object
                x-dcl-go-type: InstanceRepairRecipeSteps
                properties:
                  action:
                    type: string
                    x-dcl-go-name: Action
                    x-dcl-go-type: InstanceRepairRecipeStepsActionEnum
                    description: 'Action to perform. Possible values: NO_ACTION, ALLOW,
                      ALLOW_WITH_LOG, DENY, DENY_WITH_LOG, LOG'
                    enum:
                    - NO_ACTION
                    - ALLOW
                    - ALLOW_WITH_LOG
                    - DENY
                    - DENY_WITH_LOG
                    - LOG
                  clhDataUpdateTime:
                    type: string
                    format: date-time
                    x-dcl-go-name: ClhDataUpdateTime
                    description: Optional timestamp simulating a write to a CLH-owned
                      database.
                  description:
                    type: string
                    x-dcl-go-name: Description
                    description: Description to store in CLHCallHistory history. Defaults
                      to a string provided by CLH (typically RPC name with parameters).
                  errorSpace:
                    type: string
                    x-dcl-go-name: ErrorSpace
                    description: If not empty, causes returned error to be in the
                      specified space.
                  keyNotificationsUpdate:
                    type: object
                    x-dcl-go-name: KeyNotificationsUpdate
                    x-dcl-go-type: InstanceRepairRecipeStepsKeyNotificationsUpdate
                    description: Optional update to be applied to the key_notifications
                      field (which KMS keys to watch and how to watch them).
                    properties:
                      keyNotificationsInfo:
                        type: object
                        x-dcl-go-name: KeyNotificationsInfo
                        x-dcl-go-type: InstanceRepairRecipeStepsKeyNotificationsUpdateKeyNotificationsInfo
                        properties:
                          dataVersion:
                            type: integer
                            format: int64
                            x-dcl-go-name: DataVersion
                            description: The version number of this configuration.
                              Any update is only applied if a new watched key has
                              a higher version number than the current watched key
                          delegate:
                            type: string
                            x-dcl-go-name: Delegate
                            description: 'The MDB role to delegate KMS grant to so
                              CCFE can register the key to be watched on behalf of
                              the CLH. Should be of the format: "serviceaccount:@prod.google.com"
                              This field will always be populated by CCFE and cannot
                              be updated by the CLH.'
                          keyNotificationConfigs:
                            type: array
                            x-dcl-go-name: KeyNotificationConfigs
                            description: The keys, if any, about which notifications
                              should be sent, along with any configuration options
                              controlling notification behavior. If absent, all the
                              watched keys are unregistered.
                            x-dcl-list-type: list
                            items:
                              type: object
                              x-dcl-go-type: InstanceRepairRecipeStepsKeyNotificationsUpdateKeyNotificationsInfoKeyNotificationConfigs
                              properties:
                                delegatorGaiaId:
                                  type: integer
                                  format: int64
                                  x-dcl-go-name: DelegatorGaiaId
                                  description: The gaia id of the p4sa used as the
                                    delegator in the call to DelegateGrant.
                                grant:
                                  type: string
                                  x-dcl-go-name: Grant
                                  description: The grant that gives CCFE access to
                                    check key state. This should be a grant that gives
                                    the user specified in KeyNotificationsInfo.delegate
                                    access to the key (see go/grants-mvp-1pager).
                                keyOrVersionName:
                                  type: string
                                  x-dcl-go-name: KeyOrVersionName
                                  description: The key or version name to watch. This
                                    should not be a grant.
                  p4ServiceAccount:
                    type: string
                    x-dcl-go-name: P4ServiceAccount
                    description: If not empty, instruct CLH to assert the p4 service
                      account passed in projects metadata. Note this action is not
                      supported in hermetic envs.
                  permissionsInfo:
                    type: array
                    x-dcl-go-name: PermissionsInfo
                    description: permission info list to be requested
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstanceRepairRecipeStepsPermissionsInfo
                      properties:
                        apiAttrs:
                          $ref: '#/components/schemas/Googleprotobufstruct'
                          x-dcl-go-name: ApiAttrs
                        iamPermissions:
                          type: array
                          x-dcl-go-name: IamPermissions
                          description: Contains the iam permission.
                          x-dcl-list-type: list
                          items:
                            type: object
                            x-dcl-go-type: InstanceRepairRecipeStepsPermissionsInfoIamPermissions
                            properties:
                              permission:
                                type: string
                                x-dcl-go-name: Permission
                                description: It represents iam permission, for example
                                  "arcus2tier2.instance.create". It cannot be empty
                                  or "iam.permissions.none".
                        policyName:
                          type: object
                          x-dcl-go-name: PolicyName
                          x-dcl-go-type: InstanceRepairRecipeStepsPermissionsInfoPolicyName
                          description: PolicyName contains the policy id and type.
                          properties:
                            id:
                              type: string
                              x-dcl-go-name: Id
                              description: Identifies an instance of the type. ID
                                format varies by type. The ID format is defined in
                                the IAM .service file that defines the type, either
                                in path_mapping or in a comment.
                            region:
                              type: string
                              x-dcl-go-name: Region
                              description: 'For Cloud IAM: The location of the Policy.
                                Must be empty or "global" for Policies owned by global
                                IAM. Must name a region from prodspec/cloud-iam-cloudspec
                                for Regional IAM Policies, see go/iam-faq#where-is-iam-currently-deployed.
                                For Local IAM: This field should be set to "local".'
                            type:
                              type: string
                              x-dcl-go-name: Type
                              description: 'Resource type. Types are defined in IAM''s
                                .service files. Valid values for type might be ''gce'',
                                ''gcs'', ''project'', ''account'' etc. TODO(b/112599007):
                                annotate this as holding the resource scope when that
                                is supported'
                        resourcePath:
                          type: string
                          x-dcl-go-name: ResourcePath
                          description: ResourcePath is used for cloud audit logging.
                            ResourcePath is also used for constructing the permission
                            denied error message when permission is denied. If resource_path
                            is provided, permission denied error message would be
                            "Permission X denied on resource Y" else error message
                            would be "Permission X denied on resource (or it may not
                            exist)".
                  preprocessUpdate:
                    type: object
                    x-dcl-go-name: PreprocessUpdate
                    x-dcl-go-type: InstanceRepairRecipeStepsPreprocessUpdate
                    description: Optional update to be applied to the operation metadata
                      update if the recipe needs to initialize the operation metadata
                      during preprocess
                    properties:
                      latencySloBucketName:
                        type: string
                        x-dcl-go-name: LatencySloBucketName
                      publicOperationMetadata:
                        type: string
                        x-dcl-go-name: PublicOperationMetadata
                        description: Optional public operation metadata to be returned
                          by Preprocess calls LROs. The value must be serialized using
                          the protojson.AnyToString. CLH recipe code will de-serialize
                          it using the protojson.StringToAny.
                  publicErrorMessage:
                    type: string
                    x-dcl-go-name: PublicErrorMessage
                    description: Public error message specified by CLH.
                  publicOperationMetadata:
                    type: string
                    x-dcl-go-name: PublicOperationMetadata
                    description: Optional public operation metadata to be returned
                      by Apply calls LROs. The value must be serialized using the
                      protojson.AnyToString. CLH recipe code will de-serialize it
                      using the protojson.StringToAny.
                  quotaRequestDeltas:
                    type: array
                    x-dcl-go-name: QuotaRequestDeltas
                    description: The quota usage delta to be charged. NOT an absolute
                      Desired number, but rather a delta.
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstanceRepairRecipeStepsQuotaRequestDeltas
                      properties:
                        amount:
                          type: integer
                          format: int64
                          x-dcl-go-name: Amount
                          description: How much quota is charged by the given resource.
                        metricName:
                          type: string
                          x-dcl-go-name: MetricName
                          description: The name of the metric to charge.
                  relativeTime:
                    type: integer
                    format: int64
                    x-dcl-go-name: RelativeTime
                    description: Relative time (in nanoseconds) after which the step
                      is to be run. The time is measured from the start of the operation.
                  requestedTenantProject:
                    type: object
                    x-dcl-go-name: RequestedTenantProject
                    x-dcl-go-type: InstanceRepairRecipeStepsRequestedTenantProject
                    description: The tenant project to be requested.
                    properties:
                      folder:
                        type: string
                        x-dcl-go-name: Folder
                        description: Folder where to create this tenannt project.
                          This field will override the corresponding field in TenantProjectConfig
                          (google3/google/api/serviceconsumermanagement/v1/tenancy.proto).
                          With this filed configured dynamicly, tenants can create
                          per-region tenant project pool.
                        x-dcl-references:
                        - resource: Cloudresourcemanager/Folder
                          field: name
                      scope:
                        type: string
                        x-dcl-go-name: Scope
                        x-dcl-go-type: InstanceRepairRecipeStepsRequestedTenantProjectScopeEnum
                        description: 'The scope of the tenant project. Note that if
                          the tenant project tag is "default", it''s automatically
                          treated as scope = PROJECT unless specified otherwise. Possible
                          values: UNKNOWN_SCOPE, PROJECT, RESOURCE'
                        enum:
                        - UNKNOWN_SCOPE
                        - PROJECT
                        - RESOURCE
                      tag:
                        type: string
                        x-dcl-go-name: Tag
                        description: A tenant project tag. This is the same tag that
                          is used by Tenancy Units API to identify a tenant project.
                          It is unique within a specific Tenancy Unit. CLH should
                          use a deterministic algorithm to generate a tag. For ex.,
                          if service needs a tenant project per consumer network,
                          consumer network name can be used to generate a tag. For
                          ex., if consumer network name is "my-network", a tag could
                          be "sn-my-network". Prefix "sn-" is used here, but CLH can
                          use any prefix they like as long as it does not change from
                          request to request. If a tenant project with tag "sn-my-network"
                          is requested, CCFE will check if a tenant project with such
                          a tag already exists. If it does, CCFE will reuses it. Otherwise
                          CCFE will create a new tenant project.
                  resourceMetadataSize:
                    type: integer
                    format: int64
                    x-dcl-go-name: ResourceMetadataSize
                    description: size of resource metadata that CL should return
                  sleepDuration:
                    type: integer
                    format: int64
                    x-dcl-go-name: SleepDuration
                    description: Amount of time (in nanoseconds) to sleep for when
                      the step runs.
                  status:
                    type: object
                    x-dcl-go-name: Status
                    x-dcl-go-type: InstanceRepairRecipeStepsStatus
                    properties:
                      code:
                        type: integer
                        format: int64
                        x-dcl-go-name: Code
                        description: The status code, which should be an enum value
                          of .
                      details:
                        type: array
                        x-dcl-go-name: Details
                        description: A list of messages that carry the error details.
                          There is a common set of message types for APIs to use.
                        x-dcl-list-type: list
                        items:
                          type: object
                          x-dcl-go-type: InstanceRepairRecipeStepsStatusDetails
                          properties:
                            typeUrl:
                              type: string
                              x-dcl-go-name: TypeUrl
                              description: 'A URL/resource name that uniquely identifies
                                the type of the serialized protocol buffer message.
                                This string must contain at least one "/" character.
                                The last segment of the URL''s path must represent
                                the fully qualified name of the type (as in `path/google.protobuf.Duration`).
                                The name should be in a canonical form (e.g., leading
                                "." is not accepted). In practice, teams usually precompile
                                into the binary all types that they expect it to use
                                in the context of Any. However, for URLs which use
                                the scheme `http`, `https`, or no scheme, one can
                                optionally set up a type server that maps type URLs
                                to message definitions as follows: * If no scheme
                                is provided, `https` is assumed. * An HTTP GET on
                                the URL must yield a value in binary format, or produce
                                an error. * Applications are allowed to cache lookup
                                results based on the URL, or have them precompiled
                                into a binary to avoid any lookup. Therefore, binary
                                compatibility needs to be preserved on changes to
                                types. (Use versioned type names to manage breaking
                                changes.) Note: this functionality is not currently
                                available in the official protobuf release, and it
                                is not used for type URLs beginning with type.googleapis.com.
                                Schemes other than `http`, `https` (or the empty scheme)
                                might be used with implementation specific semantics.'
                            value:
                              type: string
                              x-dcl-go-name: Value
                              description: Must be a valid serialized protocol buffer
                                of the above specified type.
                      message:
                        type: string
                        x-dcl-go-name: Message
                        description: A developer-facing error message, which should
                          be in English. Any user-facing error message should be localized
                          and sent in the field, or localized by the client.
                  updatedRepeatOperationDelaySec:
                    type: number
                    format: double
                    x-dcl-go-name: UpdatedRepeatOperationDelaySec
                    description: Updated repeat_operation_delay_sec in the operation
                      metadata.
            verifyDeadlineSecondsBelow:
              type: number
              format: double
              x-dcl-go-name: VerifyDeadlineSecondsBelow
              description: When set, CLH will verify that the RPC deadline (in seconds)
                is less than the value set in the field.
        reportInstanceHealthRecipe:
          type: object
          x-dcl-go-name: ReportInstanceHealthRecipe
          x-dcl-go-type: InstanceReportInstanceHealthRecipe
          properties:
            delayToStoreResourcesInClhDbNanos:
              type: integer
              format: int64
              x-dcl-go-name: DelayToStoreResourcesInClhDbNanos
              description: Amount of time (in nanoseconds) takes for clh to store
                the resources listed in resource_names_stored_in_clh_with_delay in
                its DB and then return 200. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after that it will work normally. resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.
            honorCancelRequest:
              type: boolean
              x-dcl-go-name: HonorCancelRequest
              description: When set to true, CLH will return CANCELLED status on DONE
                if CCFE passed the cancellation bit.
            ignoreRecipeAfter:
              type: integer
              format: int64
              x-dcl-go-name: IgnoreRecipeAfter
              description: Absolute time (in nanoseconds) that specifies (if non-zero)
                after which this recipe should be ignored and not executed.
            populateOperationResult:
              type: boolean
              x-dcl-go-name: PopulateOperationResult
              description: When set to true, CLH will populate the Operation.Result,
                Operation.Result is optional and if it's not populated CCFE will use
                resourceViews to populate it.
            readonlyRecipeStartTime:
              type: string
              format: date-time
              x-dcl-go-name: ReadonlyRecipeStartTime
              description: Usually recipe start_time is calculated by operation.start_time
                but in readonly requests we won't have that, this field will act as
                an override for recipe start_time.
            resourceNamesStoredInClhWithDelay:
              type: array
              x-dcl-go-name: ResourceNamesStoredInClhWithDelay
              description: 'Resource names listed here will be returned to CCFE with
                resource_status=NOT_FOUND, instructing CCFE not to return them as
                part of Get/List calls. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                it will work normally and return the resource. example usage: resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.'
              x-dcl-list-type: list
              items:
                type: string
                x-dcl-go-type: string
            steps:
              type: array
              x-dcl-go-name: Steps
              x-dcl-list-type: list
              items:
                type: object
                x-dcl-go-type: InstanceReportInstanceHealthRecipeSteps
                properties:
                  action:
                    type: string
                    x-dcl-go-name: Action
                    x-dcl-go-type: InstanceReportInstanceHealthRecipeStepsActionEnum
                    description: 'Action to perform. Possible values: NO_ACTION, ALLOW,
                      ALLOW_WITH_LOG, DENY, DENY_WITH_LOG, LOG'
                    enum:
                    - NO_ACTION
                    - ALLOW
                    - ALLOW_WITH_LOG
                    - DENY
                    - DENY_WITH_LOG
                    - LOG
                  clhDataUpdateTime:
                    type: string
                    format: date-time
                    x-dcl-go-name: ClhDataUpdateTime
                    description: Optional timestamp simulating a write to a CLH-owned
                      database.
                  description:
                    type: string
                    x-dcl-go-name: Description
                    description: Description to store in CLHCallHistory history. Defaults
                      to a string provided by CLH (typically RPC name with parameters).
                  errorSpace:
                    type: string
                    x-dcl-go-name: ErrorSpace
                    description: If not empty, causes returned error to be in the
                      specified space.
                  keyNotificationsUpdate:
                    type: object
                    x-dcl-go-name: KeyNotificationsUpdate
                    x-dcl-go-type: InstanceReportInstanceHealthRecipeStepsKeyNotificationsUpdate
                    description: Optional update to be applied to the key_notifications
                      field (which KMS keys to watch and how to watch them).
                    properties:
                      keyNotificationsInfo:
                        type: object
                        x-dcl-go-name: KeyNotificationsInfo
                        x-dcl-go-type: InstanceReportInstanceHealthRecipeStepsKeyNotificationsUpdateKeyNotificationsInfo
                        properties:
                          dataVersion:
                            type: integer
                            format: int64
                            x-dcl-go-name: DataVersion
                            description: The version number of this configuration.
                              Any update is only applied if a new watched key has
                              a higher version number than the current watched key
                          delegate:
                            type: string
                            x-dcl-go-name: Delegate
                            description: 'The MDB role to delegate KMS grant to so
                              CCFE can register the key to be watched on behalf of
                              the CLH. Should be of the format: "serviceaccount:@prod.google.com"
                              This field will always be populated by CCFE and cannot
                              be updated by the CLH.'
                          keyNotificationConfigs:
                            type: array
                            x-dcl-go-name: KeyNotificationConfigs
                            description: The keys, if any, about which notifications
                              should be sent, along with any configuration options
                              controlling notification behavior. If absent, all the
                              watched keys are unregistered.
                            x-dcl-list-type: list
                            items:
                              type: object
                              x-dcl-go-type: InstanceReportInstanceHealthRecipeStepsKeyNotificationsUpdateKeyNotificationsInfoKeyNotificationConfigs
                              properties:
                                delegatorGaiaId:
                                  type: integer
                                  format: int64
                                  x-dcl-go-name: DelegatorGaiaId
                                  description: The gaia id of the p4sa used as the
                                    delegator in the call to DelegateGrant.
                                grant:
                                  type: string
                                  x-dcl-go-name: Grant
                                  description: The grant that gives CCFE access to
                                    check key state. This should be a grant that gives
                                    the user specified in KeyNotificationsInfo.delegate
                                    access to the key (see go/grants-mvp-1pager).
                                keyOrVersionName:
                                  type: string
                                  x-dcl-go-name: KeyOrVersionName
                                  description: The key or version name to watch. This
                                    should not be a grant.
                  p4ServiceAccount:
                    type: string
                    x-dcl-go-name: P4ServiceAccount
                    description: If not empty, instruct CLH to assert the p4 service
                      account passed in projects metadata. Note this action is not
                      supported in hermetic envs.
                  permissionsInfo:
                    type: array
                    x-dcl-go-name: PermissionsInfo
                    description: permission info list to be requested
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstanceReportInstanceHealthRecipeStepsPermissionsInfo
                      properties:
                        apiAttrs:
                          $ref: '#/components/schemas/Googleprotobufstruct'
                          x-dcl-go-name: ApiAttrs
                        iamPermissions:
                          type: array
                          x-dcl-go-name: IamPermissions
                          description: Contains the iam permission.
                          x-dcl-list-type: list
                          items:
                            type: object
                            x-dcl-go-type: InstanceReportInstanceHealthRecipeStepsPermissionsInfoIamPermissions
                            properties:
                              permission:
                                type: string
                                x-dcl-go-name: Permission
                                description: It represents iam permission, for example
                                  "arcus2tier2.instance.create". It cannot be empty
                                  or "iam.permissions.none".
                        policyName:
                          type: object
                          x-dcl-go-name: PolicyName
                          x-dcl-go-type: InstanceReportInstanceHealthRecipeStepsPermissionsInfoPolicyName
                          description: PolicyName contains the policy id and type.
                          properties:
                            id:
                              type: string
                              x-dcl-go-name: Id
                              description: Identifies an instance of the type. ID
                                format varies by type. The ID format is defined in
                                the IAM .service file that defines the type, either
                                in path_mapping or in a comment.
                            region:
                              type: string
                              x-dcl-go-name: Region
                              description: 'For Cloud IAM: The location of the Policy.
                                Must be empty or "global" for Policies owned by global
                                IAM. Must name a region from prodspec/cloud-iam-cloudspec
                                for Regional IAM Policies, see go/iam-faq#where-is-iam-currently-deployed.
                                For Local IAM: This field should be set to "local".'
                            type:
                              type: string
                              x-dcl-go-name: Type
                              description: 'Resource type. Types are defined in IAM''s
                                .service files. Valid values for type might be ''gce'',
                                ''gcs'', ''project'', ''account'' etc. TODO(b/112599007):
                                annotate this as holding the resource scope when that
                                is supported'
                        resourcePath:
                          type: string
                          x-dcl-go-name: ResourcePath
                          description: ResourcePath is used for cloud audit logging.
                            ResourcePath is also used for constructing the permission
                            denied error message when permission is denied. If resource_path
                            is provided, permission denied error message would be
                            "Permission X denied on resource Y" else error message
                            would be "Permission X denied on resource (or it may not
                            exist)".
                  preprocessUpdate:
                    type: object
                    x-dcl-go-name: PreprocessUpdate
                    x-dcl-go-type: InstanceReportInstanceHealthRecipeStepsPreprocessUpdate
                    description: Optional update to be applied to the operation metadata
                      update if the recipe needs to initialize the operation metadata
                      during preprocess
                    properties:
                      latencySloBucketName:
                        type: string
                        x-dcl-go-name: LatencySloBucketName
                      publicOperationMetadata:
                        type: string
                        x-dcl-go-name: PublicOperationMetadata
                        description: Optional public operation metadata to be returned
                          by Preprocess calls LROs. The value must be serialized using
                          the protojson.AnyToString. CLH recipe code will de-serialize
                          it using the protojson.StringToAny.
                  publicErrorMessage:
                    type: string
                    x-dcl-go-name: PublicErrorMessage
                    description: Public error message specified by CLH.
                  publicOperationMetadata:
                    type: string
                    x-dcl-go-name: PublicOperationMetadata
                    description: Optional public operation metadata to be returned
                      by Apply calls LROs. The value must be serialized using the
                      protojson.AnyToString. CLH recipe code will de-serialize it
                      using the protojson.StringToAny.
                  quotaRequestDeltas:
                    type: array
                    x-dcl-go-name: QuotaRequestDeltas
                    description: The quota usage delta to be charged. NOT an absolute
                      Desired number, but rather a delta.
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstanceReportInstanceHealthRecipeStepsQuotaRequestDeltas
                      properties:
                        amount:
                          type: integer
                          format: int64
                          x-dcl-go-name: Amount
                          description: How much quota is charged by the given resource.
                        metricName:
                          type: string
                          x-dcl-go-name: MetricName
                          description: The name of the metric to charge.
                  relativeTime:
                    type: integer
                    format: int64
                    x-dcl-go-name: RelativeTime
                    description: Relative time (in nanoseconds) after which the step
                      is to be run. The time is measured from the start of the operation.
                  requestedTenantProject:
                    type: object
                    x-dcl-go-name: RequestedTenantProject
                    x-dcl-go-type: InstanceReportInstanceHealthRecipeStepsRequestedTenantProject
                    description: The tenant project to be requested.
                    properties:
                      folder:
                        type: string
                        x-dcl-go-name: Folder
                        description: Folder where to create this tenannt project.
                          This field will override the corresponding field in TenantProjectConfig
                          (google3/google/api/serviceconsumermanagement/v1/tenancy.proto).
                          With this filed configured dynamicly, tenants can create
                          per-region tenant project pool.
                        x-dcl-references:
                        - resource: Cloudresourcemanager/Folder
                          field: name
                      scope:
                        type: string
                        x-dcl-go-name: Scope
                        x-dcl-go-type: InstanceReportInstanceHealthRecipeStepsRequestedTenantProjectScopeEnum
                        description: 'The scope of the tenant project. Note that if
                          the tenant project tag is "default", it''s automatically
                          treated as scope = PROJECT unless specified otherwise. Possible
                          values: UNKNOWN_SCOPE, PROJECT, RESOURCE'
                        enum:
                        - UNKNOWN_SCOPE
                        - PROJECT
                        - RESOURCE
                      tag:
                        type: string
                        x-dcl-go-name: Tag
                        description: A tenant project tag. This is the same tag that
                          is used by Tenancy Units API to identify a tenant project.
                          It is unique within a specific Tenancy Unit. CLH should
                          use a deterministic algorithm to generate a tag. For ex.,
                          if service needs a tenant project per consumer network,
                          consumer network name can be used to generate a tag. For
                          ex., if consumer network name is "my-network", a tag could
                          be "sn-my-network". Prefix "sn-" is used here, but CLH can
                          use any prefix they like as long as it does not change from
                          request to request. If a tenant project with tag "sn-my-network"
                          is requested, CCFE will check if a tenant project with such
                          a tag already exists. If it does, CCFE will reuses it. Otherwise
                          CCFE will create a new tenant project.
                  resourceMetadataSize:
                    type: integer
                    format: int64
                    x-dcl-go-name: ResourceMetadataSize
                    description: size of resource metadata that CL should return
                  sleepDuration:
                    type: integer
                    format: int64
                    x-dcl-go-name: SleepDuration
                    description: Amount of time (in nanoseconds) to sleep for when
                      the step runs.
                  status:
                    type: object
                    x-dcl-go-name: Status
                    x-dcl-go-type: InstanceReportInstanceHealthRecipeStepsStatus
                    properties:
                      code:
                        type: integer
                        format: int64
                        x-dcl-go-name: Code
                        description: The status code, which should be an enum value
                          of .
                      details:
                        type: array
                        x-dcl-go-name: Details
                        description: A list of messages that carry the error details.
                          There is a common set of message types for APIs to use.
                        x-dcl-list-type: list
                        items:
                          type: object
                          x-dcl-go-type: InstanceReportInstanceHealthRecipeStepsStatusDetails
                          properties:
                            typeUrl:
                              type: string
                              x-dcl-go-name: TypeUrl
                              description: 'A URL/resource name that uniquely identifies
                                the type of the serialized protocol buffer message.
                                This string must contain at least one "/" character.
                                The last segment of the URL''s path must represent
                                the fully qualified name of the type (as in `path/google.protobuf.Duration`).
                                The name should be in a canonical form (e.g., leading
                                "." is not accepted). In practice, teams usually precompile
                                into the binary all types that they expect it to use
                                in the context of Any. However, for URLs which use
                                the scheme `http`, `https`, or no scheme, one can
                                optionally set up a type server that maps type URLs
                                to message definitions as follows: * If no scheme
                                is provided, `https` is assumed. * An HTTP GET on
                                the URL must yield a value in binary format, or produce
                                an error. * Applications are allowed to cache lookup
                                results based on the URL, or have them precompiled
                                into a binary to avoid any lookup. Therefore, binary
                                compatibility needs to be preserved on changes to
                                types. (Use versioned type names to manage breaking
                                changes.) Note: this functionality is not currently
                                available in the official protobuf release, and it
                                is not used for type URLs beginning with type.googleapis.com.
                                Schemes other than `http`, `https` (or the empty scheme)
                                might be used with implementation specific semantics.'
                            value:
                              type: string
                              x-dcl-go-name: Value
                              description: Must be a valid serialized protocol buffer
                                of the above specified type.
                      message:
                        type: string
                        x-dcl-go-name: Message
                        description: A developer-facing error message, which should
                          be in English. Any user-facing error message should be localized
                          and sent in the field, or localized by the client.
                  updatedRepeatOperationDelaySec:
                    type: number
                    format: double
                    x-dcl-go-name: UpdatedRepeatOperationDelaySec
                    description: Updated repeat_operation_delay_sec in the operation
                      metadata.
            verifyDeadlineSecondsBelow:
              type: number
              format: double
              x-dcl-go-name: VerifyDeadlineSecondsBelow
              description: When set, CLH will verify that the RPC deadline (in seconds)
                is less than the value set in the field.
        reservedIPRange:
          type: string
          x-dcl-go-name: ReservedIPRange
          description: The CIDR range of internal addresses reserved for this instance.
            For example, 10.0.0.0/29 or 192.168.0.0/29. Ranges must be unique and
            non-overlapping with existing subnets in a network.
        resetRecipe:
          type: object
          x-dcl-go-name: ResetRecipe
          x-dcl-go-type: InstanceResetRecipe
          properties:
            delayToStoreResourcesInClhDbNanos:
              type: integer
              format: int64
              x-dcl-go-name: DelayToStoreResourcesInClhDbNanos
              description: Amount of time (in nanoseconds) takes for clh to store
                the resources listed in resource_names_stored_in_clh_with_delay in
                its DB and then return 200. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after that it will work normally. resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.
            honorCancelRequest:
              type: boolean
              x-dcl-go-name: HonorCancelRequest
              description: When set to true, CLH will return CANCELLED status on DONE
                if CCFE passed the cancellation bit.
            ignoreRecipeAfter:
              type: integer
              format: int64
              x-dcl-go-name: IgnoreRecipeAfter
              description: Absolute time (in nanoseconds) that specifies (if non-zero)
                after which this recipe should be ignored and not executed.
            populateOperationResult:
              type: boolean
              x-dcl-go-name: PopulateOperationResult
              description: When set to true, CLH will populate the Operation.Result,
                Operation.Result is optional and if it's not populated CCFE will use
                resourceViews to populate it.
            readonlyRecipeStartTime:
              type: string
              format: date-time
              x-dcl-go-name: ReadonlyRecipeStartTime
              description: Usually recipe start_time is calculated by operation.start_time
                but in readonly requests we won't have that, this field will act as
                an override for recipe start_time.
            resourceNamesStoredInClhWithDelay:
              type: array
              x-dcl-go-name: ResourceNamesStoredInClhWithDelay
              description: 'Resource names listed here will be returned to CCFE with
                resource_status=NOT_FOUND, instructing CCFE not to return them as
                part of Get/List calls. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                it will work normally and return the resource. example usage: resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.'
              x-dcl-list-type: list
              items:
                type: string
                x-dcl-go-type: string
            steps:
              type: array
              x-dcl-go-name: Steps
              x-dcl-list-type: list
              items:
                type: object
                x-dcl-go-type: InstanceResetRecipeSteps
                properties:
                  action:
                    type: string
                    x-dcl-go-name: Action
                    x-dcl-go-type: InstanceResetRecipeStepsActionEnum
                    description: 'Action to perform. Possible values: NO_ACTION, ALLOW,
                      ALLOW_WITH_LOG, DENY, DENY_WITH_LOG, LOG'
                    enum:
                    - NO_ACTION
                    - ALLOW
                    - ALLOW_WITH_LOG
                    - DENY
                    - DENY_WITH_LOG
                    - LOG
                  clhDataUpdateTime:
                    type: string
                    format: date-time
                    x-dcl-go-name: ClhDataUpdateTime
                    description: Optional timestamp simulating a write to a CLH-owned
                      database.
                  description:
                    type: string
                    x-dcl-go-name: Description
                    description: Description to store in CLHCallHistory history. Defaults
                      to a string provided by CLH (typically RPC name with parameters).
                  errorSpace:
                    type: string
                    x-dcl-go-name: ErrorSpace
                    description: If not empty, causes returned error to be in the
                      specified space.
                  keyNotificationsUpdate:
                    type: object
                    x-dcl-go-name: KeyNotificationsUpdate
                    x-dcl-go-type: InstanceResetRecipeStepsKeyNotificationsUpdate
                    description: Optional update to be applied to the key_notifications
                      field (which KMS keys to watch and how to watch them).
                    properties:
                      keyNotificationsInfo:
                        type: object
                        x-dcl-go-name: KeyNotificationsInfo
                        x-dcl-go-type: InstanceResetRecipeStepsKeyNotificationsUpdateKeyNotificationsInfo
                        properties:
                          dataVersion:
                            type: integer
                            format: int64
                            x-dcl-go-name: DataVersion
                            description: The version number of this configuration.
                              Any update is only applied if a new watched key has
                              a higher version number than the current watched key
                          delegate:
                            type: string
                            x-dcl-go-name: Delegate
                            description: 'The MDB role to delegate KMS grant to so
                              CCFE can register the key to be watched on behalf of
                              the CLH. Should be of the format: "serviceaccount:@prod.google.com"
                              This field will always be populated by CCFE and cannot
                              be updated by the CLH.'
                          keyNotificationConfigs:
                            type: array
                            x-dcl-go-name: KeyNotificationConfigs
                            description: The keys, if any, about which notifications
                              should be sent, along with any configuration options
                              controlling notification behavior. If absent, all the
                              watched keys are unregistered.
                            x-dcl-list-type: list
                            items:
                              type: object
                              x-dcl-go-type: InstanceResetRecipeStepsKeyNotificationsUpdateKeyNotificationsInfoKeyNotificationConfigs
                              properties:
                                delegatorGaiaId:
                                  type: integer
                                  format: int64
                                  x-dcl-go-name: DelegatorGaiaId
                                  description: The gaia id of the p4sa used as the
                                    delegator in the call to DelegateGrant.
                                grant:
                                  type: string
                                  x-dcl-go-name: Grant
                                  description: The grant that gives CCFE access to
                                    check key state. This should be a grant that gives
                                    the user specified in KeyNotificationsInfo.delegate
                                    access to the key (see go/grants-mvp-1pager).
                                keyOrVersionName:
                                  type: string
                                  x-dcl-go-name: KeyOrVersionName
                                  description: The key or version name to watch. This
                                    should not be a grant.
                  p4ServiceAccount:
                    type: string
                    x-dcl-go-name: P4ServiceAccount
                    description: If not empty, instruct CLH to assert the p4 service
                      account passed in projects metadata. Note this action is not
                      supported in hermetic envs.
                  permissionsInfo:
                    type: array
                    x-dcl-go-name: PermissionsInfo
                    description: permission info list to be requested
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstanceResetRecipeStepsPermissionsInfo
                      properties:
                        apiAttrs:
                          $ref: '#/components/schemas/Googleprotobufstruct'
                          x-dcl-go-name: ApiAttrs
                        iamPermissions:
                          type: array
                          x-dcl-go-name: IamPermissions
                          description: Contains the iam permission.
                          x-dcl-list-type: list
                          items:
                            type: object
                            x-dcl-go-type: InstanceResetRecipeStepsPermissionsInfoIamPermissions
                            properties:
                              permission:
                                type: string
                                x-dcl-go-name: Permission
                                description: It represents iam permission, for example
                                  "arcus2tier2.instance.create". It cannot be empty
                                  or "iam.permissions.none".
                        policyName:
                          type: object
                          x-dcl-go-name: PolicyName
                          x-dcl-go-type: InstanceResetRecipeStepsPermissionsInfoPolicyName
                          description: PolicyName contains the policy id and type.
                          properties:
                            id:
                              type: string
                              x-dcl-go-name: Id
                              description: Identifies an instance of the type. ID
                                format varies by type. The ID format is defined in
                                the IAM .service file that defines the type, either
                                in path_mapping or in a comment.
                            region:
                              type: string
                              x-dcl-go-name: Region
                              description: 'For Cloud IAM: The location of the Policy.
                                Must be empty or "global" for Policies owned by global
                                IAM. Must name a region from prodspec/cloud-iam-cloudspec
                                for Regional IAM Policies, see go/iam-faq#where-is-iam-currently-deployed.
                                For Local IAM: This field should be set to "local".'
                            type:
                              type: string
                              x-dcl-go-name: Type
                              description: 'Resource type. Types are defined in IAM''s
                                .service files. Valid values for type might be ''gce'',
                                ''gcs'', ''project'', ''account'' etc. TODO(b/112599007):
                                annotate this as holding the resource scope when that
                                is supported'
                        resourcePath:
                          type: string
                          x-dcl-go-name: ResourcePath
                          description: ResourcePath is used for cloud audit logging.
                            ResourcePath is also used for constructing the permission
                            denied error message when permission is denied. If resource_path
                            is provided, permission denied error message would be
                            "Permission X denied on resource Y" else error message
                            would be "Permission X denied on resource (or it may not
                            exist)".
                  preprocessUpdate:
                    type: object
                    x-dcl-go-name: PreprocessUpdate
                    x-dcl-go-type: InstanceResetRecipeStepsPreprocessUpdate
                    description: Optional update to be applied to the operation metadata
                      update if the recipe needs to initialize the operation metadata
                      during preprocess
                    properties:
                      latencySloBucketName:
                        type: string
                        x-dcl-go-name: LatencySloBucketName
                      publicOperationMetadata:
                        type: string
                        x-dcl-go-name: PublicOperationMetadata
                        description: Optional public operation metadata to be returned
                          by Preprocess calls LROs. The value must be serialized using
                          the protojson.AnyToString. CLH recipe code will de-serialize
                          it using the protojson.StringToAny.
                  publicErrorMessage:
                    type: string
                    x-dcl-go-name: PublicErrorMessage
                    description: Public error message specified by CLH.
                  publicOperationMetadata:
                    type: string
                    x-dcl-go-name: PublicOperationMetadata
                    description: Optional public operation metadata to be returned
                      by Apply calls LROs. The value must be serialized using the
                      protojson.AnyToString. CLH recipe code will de-serialize it
                      using the protojson.StringToAny.
                  quotaRequestDeltas:
                    type: array
                    x-dcl-go-name: QuotaRequestDeltas
                    description: The quota usage delta to be charged. NOT an absolute
                      Desired number, but rather a delta.
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstanceResetRecipeStepsQuotaRequestDeltas
                      properties:
                        amount:
                          type: integer
                          format: int64
                          x-dcl-go-name: Amount
                          description: How much quota is charged by the given resource.
                        metricName:
                          type: string
                          x-dcl-go-name: MetricName
                          description: The name of the metric to charge.
                  relativeTime:
                    type: integer
                    format: int64
                    x-dcl-go-name: RelativeTime
                    description: Relative time (in nanoseconds) after which the step
                      is to be run. The time is measured from the start of the operation.
                  requestedTenantProject:
                    type: object
                    x-dcl-go-name: RequestedTenantProject
                    x-dcl-go-type: InstanceResetRecipeStepsRequestedTenantProject
                    description: The tenant project to be requested.
                    properties:
                      folder:
                        type: string
                        x-dcl-go-name: Folder
                        description: Folder where to create this tenannt project.
                          This field will override the corresponding field in TenantProjectConfig
                          (google3/google/api/serviceconsumermanagement/v1/tenancy.proto).
                          With this filed configured dynamicly, tenants can create
                          per-region tenant project pool.
                        x-dcl-references:
                        - resource: Cloudresourcemanager/Folder
                          field: name
                      scope:
                        type: string
                        x-dcl-go-name: Scope
                        x-dcl-go-type: InstanceResetRecipeStepsRequestedTenantProjectScopeEnum
                        description: 'The scope of the tenant project. Note that if
                          the tenant project tag is "default", it''s automatically
                          treated as scope = PROJECT unless specified otherwise. Possible
                          values: UNKNOWN_SCOPE, PROJECT, RESOURCE'
                        enum:
                        - UNKNOWN_SCOPE
                        - PROJECT
                        - RESOURCE
                      tag:
                        type: string
                        x-dcl-go-name: Tag
                        description: A tenant project tag. This is the same tag that
                          is used by Tenancy Units API to identify a tenant project.
                          It is unique within a specific Tenancy Unit. CLH should
                          use a deterministic algorithm to generate a tag. For ex.,
                          if service needs a tenant project per consumer network,
                          consumer network name can be used to generate a tag. For
                          ex., if consumer network name is "my-network", a tag could
                          be "sn-my-network". Prefix "sn-" is used here, but CLH can
                          use any prefix they like as long as it does not change from
                          request to request. If a tenant project with tag "sn-my-network"
                          is requested, CCFE will check if a tenant project with such
                          a tag already exists. If it does, CCFE will reuses it. Otherwise
                          CCFE will create a new tenant project.
                  resourceMetadataSize:
                    type: integer
                    format: int64
                    x-dcl-go-name: ResourceMetadataSize
                    description: size of resource metadata that CL should return
                  sleepDuration:
                    type: integer
                    format: int64
                    x-dcl-go-name: SleepDuration
                    description: Amount of time (in nanoseconds) to sleep for when
                      the step runs.
                  status:
                    type: object
                    x-dcl-go-name: Status
                    x-dcl-go-type: InstanceResetRecipeStepsStatus
                    properties:
                      code:
                        type: integer
                        format: int64
                        x-dcl-go-name: Code
                        description: The status code, which should be an enum value
                          of .
                      details:
                        type: array
                        x-dcl-go-name: Details
                        description: A list of messages that carry the error details.
                          There is a common set of message types for APIs to use.
                        x-dcl-list-type: list
                        items:
                          type: object
                          x-dcl-go-type: InstanceResetRecipeStepsStatusDetails
                          properties:
                            typeUrl:
                              type: string
                              x-dcl-go-name: TypeUrl
                              description: 'A URL/resource name that uniquely identifies
                                the type of the serialized protocol buffer message.
                                This string must contain at least one "/" character.
                                The last segment of the URL''s path must represent
                                the fully qualified name of the type (as in `path/google.protobuf.Duration`).
                                The name should be in a canonical form (e.g., leading
                                "." is not accepted). In practice, teams usually precompile
                                into the binary all types that they expect it to use
                                in the context of Any. However, for URLs which use
                                the scheme `http`, `https`, or no scheme, one can
                                optionally set up a type server that maps type URLs
                                to message definitions as follows: * If no scheme
                                is provided, `https` is assumed. * An HTTP GET on
                                the URL must yield a value in binary format, or produce
                                an error. * Applications are allowed to cache lookup
                                results based on the URL, or have them precompiled
                                into a binary to avoid any lookup. Therefore, binary
                                compatibility needs to be preserved on changes to
                                types. (Use versioned type names to manage breaking
                                changes.) Note: this functionality is not currently
                                available in the official protobuf release, and it
                                is not used for type URLs beginning with type.googleapis.com.
                                Schemes other than `http`, `https` (or the empty scheme)
                                might be used with implementation specific semantics.'
                            value:
                              type: string
                              x-dcl-go-name: Value
                              description: Must be a valid serialized protocol buffer
                                of the above specified type.
                      message:
                        type: string
                        x-dcl-go-name: Message
                        description: A developer-facing error message, which should
                          be in English. Any user-facing error message should be localized
                          and sent in the field, or localized by the client.
                  updatedRepeatOperationDelaySec:
                    type: number
                    format: double
                    x-dcl-go-name: UpdatedRepeatOperationDelaySec
                    description: Updated repeat_operation_delay_sec in the operation
                      metadata.
            verifyDeadlineSecondsBelow:
              type: number
              format: double
              x-dcl-go-name: VerifyDeadlineSecondsBelow
              description: When set, CLH will verify that the RPC deadline (in seconds)
                is less than the value set in the field.
        sku:
          type: object
          x-dcl-go-name: Sku
          x-dcl-go-type: InstanceSku
          description: The instance SKU.
          properties:
            size:
              type: string
              x-dcl-go-name: Size
              x-dcl-go-type: InstanceSkuSizeEnum
              description: 'The instance size. Possible values: SIZE_UNSPECIFIED,
                C1, C2'
              enum:
              - SIZE_UNSPECIFIED
              - C1
              - C2
            tier:
              type: string
              x-dcl-go-name: Tier
              x-dcl-go-type: InstanceSkuTierEnum
              description: 'The service tier. Possible values: TIER_UNSPECIFIED, STANDALONE,
                REPLICATED'
              enum:
              - TIER_UNSPECIFIED
              - STANDALONE
              - REPLICATED
        state:
          type: string
          x-dcl-go-name: State
          x-dcl-go-type: InstanceStateEnum
          readOnly: true
          description: 'The current state of the instance. Possible values: STATUS_UNSPECIFIED,
            CREATING, READY, UPDATING, DELETING, REPAIRING'
          x-kubernetes-immutable: true
          enum:
          - STATUS_UNSPECIFIED
          - CREATING
          - READY
          - UPDATING
          - DELETING
          - REPAIRING
        statusMessage:
          type: string
          x-dcl-go-name: StatusMessage
          readOnly: true
          description: Additional information if available.
          x-kubernetes-immutable: true
        uid:
          type: string
          x-dcl-go-name: Uid
        unfreezeRecipe:
          type: object
          x-dcl-go-name: UnfreezeRecipe
          x-dcl-go-type: InstanceUnfreezeRecipe
          properties:
            delayToStoreResourcesInClhDbNanos:
              type: integer
              format: int64
              x-dcl-go-name: DelayToStoreResourcesInClhDbNanos
              description: Amount of time (in nanoseconds) takes for clh to store
                the resources listed in resource_names_stored_in_clh_with_delay in
                its DB and then return 200. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after that it will work normally. resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.
            honorCancelRequest:
              type: boolean
              x-dcl-go-name: HonorCancelRequest
              description: When set to true, CLH will return CANCELLED status on DONE
                if CCFE passed the cancellation bit.
            ignoreRecipeAfter:
              type: integer
              format: int64
              x-dcl-go-name: IgnoreRecipeAfter
              description: Absolute time (in nanoseconds) that specifies (if non-zero)
                after which this recipe should be ignored and not executed.
            populateOperationResult:
              type: boolean
              x-dcl-go-name: PopulateOperationResult
              description: When set to true, CLH will populate the Operation.Result,
                Operation.Result is optional and if it's not populated CCFE will use
                resourceViews to populate it.
            readonlyRecipeStartTime:
              type: string
              format: date-time
              x-dcl-go-name: ReadonlyRecipeStartTime
              description: Usually recipe start_time is calculated by operation.start_time
                but in readonly requests we won't have that, this field will act as
                an override for recipe start_time.
            resourceNamesStoredInClhWithDelay:
              type: array
              x-dcl-go-name: ResourceNamesStoredInClhWithDelay
              description: 'Resource names listed here will be returned to CCFE with
                resource_status=NOT_FOUND, instructing CCFE not to return them as
                part of Get/List calls. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                it will work normally and return the resource. example usage: resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.'
              x-dcl-list-type: list
              items:
                type: string
                x-dcl-go-type: string
            steps:
              type: array
              x-dcl-go-name: Steps
              x-dcl-list-type: list
              items:
                type: object
                x-dcl-go-type: InstanceUnfreezeRecipeSteps
                properties:
                  action:
                    type: string
                    x-dcl-go-name: Action
                    x-dcl-go-type: InstanceUnfreezeRecipeStepsActionEnum
                    description: 'Action to perform. Possible values: NO_ACTION, ALLOW,
                      ALLOW_WITH_LOG, DENY, DENY_WITH_LOG, LOG'
                    enum:
                    - NO_ACTION
                    - ALLOW
                    - ALLOW_WITH_LOG
                    - DENY
                    - DENY_WITH_LOG
                    - LOG
                  clhDataUpdateTime:
                    type: string
                    format: date-time
                    x-dcl-go-name: ClhDataUpdateTime
                    description: Optional timestamp simulating a write to a CLH-owned
                      database.
                  description:
                    type: string
                    x-dcl-go-name: Description
                    description: Description to store in CLHCallHistory history. Defaults
                      to a string provided by CLH (typically RPC name with parameters).
                  errorSpace:
                    type: string
                    x-dcl-go-name: ErrorSpace
                    description: If not empty, causes returned error to be in the
                      specified space.
                  keyNotificationsUpdate:
                    type: object
                    x-dcl-go-name: KeyNotificationsUpdate
                    x-dcl-go-type: InstanceUnfreezeRecipeStepsKeyNotificationsUpdate
                    description: Optional update to be applied to the key_notifications
                      field (which KMS keys to watch and how to watch them).
                    properties:
                      keyNotificationsInfo:
                        type: object
                        x-dcl-go-name: KeyNotificationsInfo
                        x-dcl-go-type: InstanceUnfreezeRecipeStepsKeyNotificationsUpdateKeyNotificationsInfo
                        properties:
                          dataVersion:
                            type: integer
                            format: int64
                            x-dcl-go-name: DataVersion
                            description: The version number of this configuration.
                              Any update is only applied if a new watched key has
                              a higher version number than the current watched key
                          delegate:
                            type: string
                            x-dcl-go-name: Delegate
                            description: 'The MDB role to delegate KMS grant to so
                              CCFE can register the key to be watched on behalf of
                              the CLH. Should be of the format: "serviceaccount:@prod.google.com"
                              This field will always be populated by CCFE and cannot
                              be updated by the CLH.'
                          keyNotificationConfigs:
                            type: array
                            x-dcl-go-name: KeyNotificationConfigs
                            description: The keys, if any, about which notifications
                              should be sent, along with any configuration options
                              controlling notification behavior. If absent, all the
                              watched keys are unregistered.
                            x-dcl-list-type: list
                            items:
                              type: object
                              x-dcl-go-type: InstanceUnfreezeRecipeStepsKeyNotificationsUpdateKeyNotificationsInfoKeyNotificationConfigs
                              properties:
                                delegatorGaiaId:
                                  type: integer
                                  format: int64
                                  x-dcl-go-name: DelegatorGaiaId
                                  description: The gaia id of the p4sa used as the
                                    delegator in the call to DelegateGrant.
                                grant:
                                  type: string
                                  x-dcl-go-name: Grant
                                  description: The grant that gives CCFE access to
                                    check key state. This should be a grant that gives
                                    the user specified in KeyNotificationsInfo.delegate
                                    access to the key (see go/grants-mvp-1pager).
                                keyOrVersionName:
                                  type: string
                                  x-dcl-go-name: KeyOrVersionName
                                  description: The key or version name to watch. This
                                    should not be a grant.
                  p4ServiceAccount:
                    type: string
                    x-dcl-go-name: P4ServiceAccount
                    description: If not empty, instruct CLH to assert the p4 service
                      account passed in projects metadata. Note this action is not
                      supported in hermetic envs.
                  permissionsInfo:
                    type: array
                    x-dcl-go-name: PermissionsInfo
                    description: permission info list to be requested
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstanceUnfreezeRecipeStepsPermissionsInfo
                      properties:
                        apiAttrs:
                          $ref: '#/components/schemas/Googleprotobufstruct'
                          x-dcl-go-name: ApiAttrs
                        iamPermissions:
                          type: array
                          x-dcl-go-name: IamPermissions
                          description: Contains the iam permission.
                          x-dcl-list-type: list
                          items:
                            type: object
                            x-dcl-go-type: InstanceUnfreezeRecipeStepsPermissionsInfoIamPermissions
                            properties:
                              permission:
                                type: string
                                x-dcl-go-name: Permission
                                description: It represents iam permission, for example
                                  "arcus2tier2.instance.create". It cannot be empty
                                  or "iam.permissions.none".
                        policyName:
                          type: object
                          x-dcl-go-name: PolicyName
                          x-dcl-go-type: InstanceUnfreezeRecipeStepsPermissionsInfoPolicyName
                          description: PolicyName contains the policy id and type.
                          properties:
                            id:
                              type: string
                              x-dcl-go-name: Id
                              description: Identifies an instance of the type. ID
                                format varies by type. The ID format is defined in
                                the IAM .service file that defines the type, either
                                in path_mapping or in a comment.
                            region:
                              type: string
                              x-dcl-go-name: Region
                              description: 'For Cloud IAM: The location of the Policy.
                                Must be empty or "global" for Policies owned by global
                                IAM. Must name a region from prodspec/cloud-iam-cloudspec
                                for Regional IAM Policies, see go/iam-faq#where-is-iam-currently-deployed.
                                For Local IAM: This field should be set to "local".'
                            type:
                              type: string
                              x-dcl-go-name: Type
                              description: 'Resource type. Types are defined in IAM''s
                                .service files. Valid values for type might be ''gce'',
                                ''gcs'', ''project'', ''account'' etc. TODO(b/112599007):
                                annotate this as holding the resource scope when that
                                is supported'
                        resourcePath:
                          type: string
                          x-dcl-go-name: ResourcePath
                          description: ResourcePath is used for cloud audit logging.
                            ResourcePath is also used for constructing the permission
                            denied error message when permission is denied. If resource_path
                            is provided, permission denied error message would be
                            "Permission X denied on resource Y" else error message
                            would be "Permission X denied on resource (or it may not
                            exist)".
                  preprocessUpdate:
                    type: object
                    x-dcl-go-name: PreprocessUpdate
                    x-dcl-go-type: InstanceUnfreezeRecipeStepsPreprocessUpdate
                    description: Optional update to be applied to the operation metadata
                      update if the recipe needs to initialize the operation metadata
                      during preprocess
                    properties:
                      latencySloBucketName:
                        type: string
                        x-dcl-go-name: LatencySloBucketName
                      publicOperationMetadata:
                        type: string
                        x-dcl-go-name: PublicOperationMetadata
                        description: Optional public operation metadata to be returned
                          by Preprocess calls LROs. The value must be serialized using
                          the protojson.AnyToString. CLH recipe code will de-serialize
                          it using the protojson.StringToAny.
                  publicErrorMessage:
                    type: string
                    x-dcl-go-name: PublicErrorMessage
                    description: Public error message specified by CLH.
                  publicOperationMetadata:
                    type: string
                    x-dcl-go-name: PublicOperationMetadata
                    description: Optional public operation metadata to be returned
                      by Apply calls LROs. The value must be serialized using the
                      protojson.AnyToString. CLH recipe code will de-serialize it
                      using the protojson.StringToAny.
                  quotaRequestDeltas:
                    type: array
                    x-dcl-go-name: QuotaRequestDeltas
                    description: The quota usage delta to be charged. NOT an absolute
                      Desired number, but rather a delta.
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstanceUnfreezeRecipeStepsQuotaRequestDeltas
                      properties:
                        amount:
                          type: integer
                          format: int64
                          x-dcl-go-name: Amount
                          description: How much quota is charged by the given resource.
                        metricName:
                          type: string
                          x-dcl-go-name: MetricName
                          description: The name of the metric to charge.
                  relativeTime:
                    type: integer
                    format: int64
                    x-dcl-go-name: RelativeTime
                    description: Relative time (in nanoseconds) after which the step
                      is to be run. The time is measured from the start of the operation.
                  requestedTenantProject:
                    type: object
                    x-dcl-go-name: RequestedTenantProject
                    x-dcl-go-type: InstanceUnfreezeRecipeStepsRequestedTenantProject
                    description: The tenant project to be requested.
                    properties:
                      folder:
                        type: string
                        x-dcl-go-name: Folder
                        description: Folder where to create this tenannt project.
                          This field will override the corresponding field in TenantProjectConfig
                          (google3/google/api/serviceconsumermanagement/v1/tenancy.proto).
                          With this filed configured dynamicly, tenants can create
                          per-region tenant project pool.
                        x-dcl-references:
                        - resource: Cloudresourcemanager/Folder
                          field: name
                      scope:
                        type: string
                        x-dcl-go-name: Scope
                        x-dcl-go-type: InstanceUnfreezeRecipeStepsRequestedTenantProjectScopeEnum
                        description: 'The scope of the tenant project. Note that if
                          the tenant project tag is "default", it''s automatically
                          treated as scope = PROJECT unless specified otherwise. Possible
                          values: UNKNOWN_SCOPE, PROJECT, RESOURCE'
                        enum:
                        - UNKNOWN_SCOPE
                        - PROJECT
                        - RESOURCE
                      tag:
                        type: string
                        x-dcl-go-name: Tag
                        description: A tenant project tag. This is the same tag that
                          is used by Tenancy Units API to identify a tenant project.
                          It is unique within a specific Tenancy Unit. CLH should
                          use a deterministic algorithm to generate a tag. For ex.,
                          if service needs a tenant project per consumer network,
                          consumer network name can be used to generate a tag. For
                          ex., if consumer network name is "my-network", a tag could
                          be "sn-my-network". Prefix "sn-" is used here, but CLH can
                          use any prefix they like as long as it does not change from
                          request to request. If a tenant project with tag "sn-my-network"
                          is requested, CCFE will check if a tenant project with such
                          a tag already exists. If it does, CCFE will reuses it. Otherwise
                          CCFE will create a new tenant project.
                  resourceMetadataSize:
                    type: integer
                    format: int64
                    x-dcl-go-name: ResourceMetadataSize
                    description: size of resource metadata that CL should return
                  sleepDuration:
                    type: integer
                    format: int64
                    x-dcl-go-name: SleepDuration
                    description: Amount of time (in nanoseconds) to sleep for when
                      the step runs.
                  status:
                    type: object
                    x-dcl-go-name: Status
                    x-dcl-go-type: InstanceUnfreezeRecipeStepsStatus
                    properties:
                      code:
                        type: integer
                        format: int64
                        x-dcl-go-name: Code
                        description: The status code, which should be an enum value
                          of .
                      details:
                        type: array
                        x-dcl-go-name: Details
                        description: A list of messages that carry the error details.
                          There is a common set of message types for APIs to use.
                        x-dcl-list-type: list
                        items:
                          type: object
                          x-dcl-go-type: InstanceUnfreezeRecipeStepsStatusDetails
                          properties:
                            typeUrl:
                              type: string
                              x-dcl-go-name: TypeUrl
                              description: 'A URL/resource name that uniquely identifies
                                the type of the serialized protocol buffer message.
                                This string must contain at least one "/" character.
                                The last segment of the URL''s path must represent
                                the fully qualified name of the type (as in `path/google.protobuf.Duration`).
                                The name should be in a canonical form (e.g., leading
                                "." is not accepted). In practice, teams usually precompile
                                into the binary all types that they expect it to use
                                in the context of Any. However, for URLs which use
                                the scheme `http`, `https`, or no scheme, one can
                                optionally set up a type server that maps type URLs
                                to message definitions as follows: * If no scheme
                                is provided, `https` is assumed. * An HTTP GET on
                                the URL must yield a value in binary format, or produce
                                an error. * Applications are allowed to cache lookup
                                results based on the URL, or have them precompiled
                                into a binary to avoid any lookup. Therefore, binary
                                compatibility needs to be preserved on changes to
                                types. (Use versioned type names to manage breaking
                                changes.) Note: this functionality is not currently
                                available in the official protobuf release, and it
                                is not used for type URLs beginning with type.googleapis.com.
                                Schemes other than `http`, `https` (or the empty scheme)
                                might be used with implementation specific semantics.'
                            value:
                              type: string
                              x-dcl-go-name: Value
                              description: Must be a valid serialized protocol buffer
                                of the above specified type.
                      message:
                        type: string
                        x-dcl-go-name: Message
                        description: A developer-facing error message, which should
                          be in English. Any user-facing error message should be localized
                          and sent in the field, or localized by the client.
                  updatedRepeatOperationDelaySec:
                    type: number
                    format: double
                    x-dcl-go-name: UpdatedRepeatOperationDelaySec
                    description: Updated repeat_operation_delay_sec in the operation
                      metadata.
            verifyDeadlineSecondsBelow:
              type: number
              format: double
              x-dcl-go-name: VerifyDeadlineSecondsBelow
              description: When set, CLH will verify that the RPC deadline (in seconds)
                is less than the value set in the field.
        updateRecipe:
          type: object
          x-dcl-go-name: UpdateRecipe
          x-dcl-go-type: InstanceUpdateRecipe
          properties:
            delayToStoreResourcesInClhDbNanos:
              type: integer
              format: int64
              x-dcl-go-name: DelayToStoreResourcesInClhDbNanos
              description: Amount of time (in nanoseconds) takes for clh to store
                the resources listed in resource_names_stored_in_clh_with_delay in
                its DB and then return 200. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after that it will work normally. resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.
            honorCancelRequest:
              type: boolean
              x-dcl-go-name: HonorCancelRequest
              description: When set to true, CLH will return CANCELLED status on DONE
                if CCFE passed the cancellation bit.
            ignoreRecipeAfter:
              type: integer
              format: int64
              x-dcl-go-name: IgnoreRecipeAfter
              description: Absolute time (in nanoseconds) that specifies (if non-zero)
                after which this recipe should be ignored and not executed.
            populateOperationResult:
              type: boolean
              x-dcl-go-name: PopulateOperationResult
              description: When set to true, CLH will populate the Operation.Result,
                Operation.Result is optional and if it's not populated CCFE will use
                resourceViews to populate it.
            readonlyRecipeStartTime:
              type: string
              format: date-time
              x-dcl-go-name: ReadonlyRecipeStartTime
              description: Usually recipe start_time is calculated by operation.start_time
                but in readonly requests we won't have that, this field will act as
                an override for recipe start_time.
            resourceNamesStoredInClhWithDelay:
              type: array
              x-dcl-go-name: ResourceNamesStoredInClhWithDelay
              description: 'Resource names listed here will be returned to CCFE with
                resource_status=NOT_FOUND, instructing CCFE not to return them as
                part of Get/List calls. Any Get/List call on these resources received
                earlier than readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                will return 404. after readonly_recipe_start_time+delay_to_store_resources_in_clh_db_nanos
                it will work normally and return the resource. example usage: resource_names_stored_in_clh_with_delay
                and delay_to_store_resources_in_clh_db_nanos are internetd to use
                together.'
              x-dcl-list-type: list
              items:
                type: string
                x-dcl-go-type: string
            steps:
              type: array
              x-dcl-go-name: Steps
              x-dcl-list-type: list
              items:
                type: object
                x-dcl-go-type: InstanceUpdateRecipeSteps
                properties:
                  action:
                    type: string
                    x-dcl-go-name: Action
                    x-dcl-go-type: InstanceUpdateRecipeStepsActionEnum
                    description: 'Action to perform. Possible values: NO_ACTION, ALLOW,
                      ALLOW_WITH_LOG, DENY, DENY_WITH_LOG, LOG'
                    enum:
                    - NO_ACTION
                    - ALLOW
                    - ALLOW_WITH_LOG
                    - DENY
                    - DENY_WITH_LOG
                    - LOG
                  clhDataUpdateTime:
                    type: string
                    format: date-time
                    x-dcl-go-name: ClhDataUpdateTime
                    description: Optional timestamp simulating a write to a CLH-owned
                      database.
                  description:
                    type: string
                    x-dcl-go-name: Description
                    description: Description to store in CLHCallHistory history. Defaults
                      to a string provided by CLH (typically RPC name with parameters).
                  errorSpace:
                    type: string
                    x-dcl-go-name: ErrorSpace
                    description: If not empty, causes returned error to be in the
                      specified space.
                  keyNotificationsUpdate:
                    type: object
                    x-dcl-go-name: KeyNotificationsUpdate
                    x-dcl-go-type: InstanceUpdateRecipeStepsKeyNotificationsUpdate
                    description: Optional update to be applied to the key_notifications
                      field (which KMS keys to watch and how to watch them).
                    properties:
                      keyNotificationsInfo:
                        type: object
                        x-dcl-go-name: KeyNotificationsInfo
                        x-dcl-go-type: InstanceUpdateRecipeStepsKeyNotificationsUpdateKeyNotificationsInfo
                        properties:
                          dataVersion:
                            type: integer
                            format: int64
                            x-dcl-go-name: DataVersion
                            description: The version number of this configuration.
                              Any update is only applied if a new watched key has
                              a higher version number than the current watched key
                          delegate:
                            type: string
                            x-dcl-go-name: Delegate
                            description: 'The MDB role to delegate KMS grant to so
                              CCFE can register the key to be watched on behalf of
                              the CLH. Should be of the format: "serviceaccount:@prod.google.com"
                              This field will always be populated by CCFE and cannot
                              be updated by the CLH.'
                          keyNotificationConfigs:
                            type: array
                            x-dcl-go-name: KeyNotificationConfigs
                            description: The keys, if any, about which notifications
                              should be sent, along with any configuration options
                              controlling notification behavior. If absent, all the
                              watched keys are unregistered.
                            x-dcl-list-type: list
                            items:
                              type: object
                              x-dcl-go-type: InstanceUpdateRecipeStepsKeyNotificationsUpdateKeyNotificationsInfoKeyNotificationConfigs
                              properties:
                                delegatorGaiaId:
                                  type: integer
                                  format: int64
                                  x-dcl-go-name: DelegatorGaiaId
                                  description: The gaia id of the p4sa used as the
                                    delegator in the call to DelegateGrant.
                                grant:
                                  type: string
                                  x-dcl-go-name: Grant
                                  description: The grant that gives CCFE access to
                                    check key state. This should be a grant that gives
                                    the user specified in KeyNotificationsInfo.delegate
                                    access to the key (see go/grants-mvp-1pager).
                                keyOrVersionName:
                                  type: string
                                  x-dcl-go-name: KeyOrVersionName
                                  description: The key or version name to watch. This
                                    should not be a grant.
                  p4ServiceAccount:
                    type: string
                    x-dcl-go-name: P4ServiceAccount
                    description: If not empty, instruct CLH to assert the p4 service
                      account passed in projects metadata. Note this action is not
                      supported in hermetic envs.
                  permissionsInfo:
                    type: array
                    x-dcl-go-name: PermissionsInfo
                    description: permission info list to be requested
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstanceUpdateRecipeStepsPermissionsInfo
                      properties:
                        apiAttrs:
                          $ref: '#/components/schemas/Googleprotobufstruct'
                          x-dcl-go-name: ApiAttrs
                        iamPermissions:
                          type: array
                          x-dcl-go-name: IamPermissions
                          description: Contains the iam permission.
                          x-dcl-list-type: list
                          items:
                            type: object
                            x-dcl-go-type: InstanceUpdateRecipeStepsPermissionsInfoIamPermissions
                            properties:
                              permission:
                                type: string
                                x-dcl-go-name: Permission
                                description: It represents iam permission, for example
                                  "arcus2tier2.instance.create". It cannot be empty
                                  or "iam.permissions.none".
                        policyName:
                          type: object
                          x-dcl-go-name: PolicyName
                          x-dcl-go-type: InstanceUpdateRecipeStepsPermissionsInfoPolicyName
                          description: PolicyName contains the policy id and type.
                          properties:
                            id:
                              type: string
                              x-dcl-go-name: Id
                              description: Identifies an instance of the type. ID
                                format varies by type. The ID format is defined in
                                the IAM .service file that defines the type, either
                                in path_mapping or in a comment.
                            region:
                              type: string
                              x-dcl-go-name: Region
                              description: 'For Cloud IAM: The location of the Policy.
                                Must be empty or "global" for Policies owned by global
                                IAM. Must name a region from prodspec/cloud-iam-cloudspec
                                for Regional IAM Policies, see go/iam-faq#where-is-iam-currently-deployed.
                                For Local IAM: This field should be set to "local".'
                            type:
                              type: string
                              x-dcl-go-name: Type
                              description: 'Resource type. Types are defined in IAM''s
                                .service files. Valid values for type might be ''gce'',
                                ''gcs'', ''project'', ''account'' etc. TODO(b/112599007):
                                annotate this as holding the resource scope when that
                                is supported'
                        resourcePath:
                          type: string
                          x-dcl-go-name: ResourcePath
                          description: ResourcePath is used for cloud audit logging.
                            ResourcePath is also used for constructing the permission
                            denied error message when permission is denied. If resource_path
                            is provided, permission denied error message would be
                            "Permission X denied on resource Y" else error message
                            would be "Permission X denied on resource (or it may not
                            exist)".
                  preprocessUpdate:
                    type: object
                    x-dcl-go-name: PreprocessUpdate
                    x-dcl-go-type: InstanceUpdateRecipeStepsPreprocessUpdate
                    description: Optional update to be applied to the operation metadata
                      update if the recipe needs to initialize the operation metadata
                      during preprocess
                    properties:
                      latencySloBucketName:
                        type: string
                        x-dcl-go-name: LatencySloBucketName
                      publicOperationMetadata:
                        type: string
                        x-dcl-go-name: PublicOperationMetadata
                        description: Optional public operation metadata to be returned
                          by Preprocess calls LROs. The value must be serialized using
                          the protojson.AnyToString. CLH recipe code will de-serialize
                          it using the protojson.StringToAny.
                  publicErrorMessage:
                    type: string
                    x-dcl-go-name: PublicErrorMessage
                    description: Public error message specified by CLH.
                  publicOperationMetadata:
                    type: string
                    x-dcl-go-name: PublicOperationMetadata
                    description: Optional public operation metadata to be returned
                      by Apply calls LROs. The value must be serialized using the
                      protojson.AnyToString. CLH recipe code will de-serialize it
                      using the protojson.StringToAny.
                  quotaRequestDeltas:
                    type: array
                    x-dcl-go-name: QuotaRequestDeltas
                    description: The quota usage delta to be charged. NOT an absolute
                      Desired number, but rather a delta.
                    x-dcl-list-type: list
                    items:
                      type: object
                      x-dcl-go-type: InstanceUpdateRecipeStepsQuotaRequestDeltas
                      properties:
                        amount:
                          type: integer
                          format: int64
                          x-dcl-go-name: Amount
                          description: How much quota is charged by the given resource.
                        metricName:
                          type: string
                          x-dcl-go-name: MetricName
                          description: The name of the metric to charge.
                  relativeTime:
                    type: integer
                    format: int64
                    x-dcl-go-name: RelativeTime
                    description: Relative time (in nanoseconds) after which the step
                      is to be run. The time is measured from the start of the operation.
                  requestedTenantProject:
                    type: object
                    x-dcl-go-name: RequestedTenantProject
                    x-dcl-go-type: InstanceUpdateRecipeStepsRequestedTenantProject
                    description: The tenant project to be requested.
                    properties:
                      folder:
                        type: string
                        x-dcl-go-name: Folder
                        description: Folder where to create this tenannt project.
                          This field will override the corresponding field in TenantProjectConfig
                          (google3/google/api/serviceconsumermanagement/v1/tenancy.proto).
                          With this filed configured dynamicly, tenants can create
                          per-region tenant project pool.
                        x-dcl-references:
                        - resource: Cloudresourcemanager/Folder
                          field: name
                      scope:
                        type: string
                        x-dcl-go-name: Scope
                        x-dcl-go-type: InstanceUpdateRecipeStepsRequestedTenantProjectScopeEnum
                        description: 'The scope of the tenant project. Note that if
                          the tenant project tag is "default", it''s automatically
                          treated as scope = PROJECT unless specified otherwise. Possible
                          values: UNKNOWN_SCOPE, PROJECT, RESOURCE'
                        enum:
                        - UNKNOWN_SCOPE
                        - PROJECT
                        - RESOURCE
                      tag:
                        type: string
                        x-dcl-go-name: Tag
                        description: A tenant project tag. This is the same tag that
                          is used by Tenancy Units API to identify a tenant project.
                          It is unique within a specific Tenancy Unit. CLH should
                          use a deterministic algorithm to generate a tag. For ex.,
                          if service needs a tenant project per consumer network,
                          consumer network name can be used to generate a tag. For
                          ex., if consumer network name is "my-network", a tag could
                          be "sn-my-network". Prefix "sn-" is used here, but CLH can
                          use any prefix they like as long as it does not change from
                          request to request. If a tenant project with tag "sn-my-network"
                          is requested, CCFE will check if a tenant project with such
                          a tag already exists. If it does, CCFE will reuses it. Otherwise
                          CCFE will create a new tenant project.
                  resourceMetadataSize:
                    type: integer
                    format: int64
                    x-dcl-go-name: ResourceMetadataSize
                    description: size of resource metadata that CL should return
                  sleepDuration:
                    type: integer
                    format: int64
                    x-dcl-go-name: SleepDuration
                    description: Amount of time (in nanoseconds) to sleep for when
                      the step runs.
                  status:
                    type: object
                    x-dcl-go-name: Status
                    x-dcl-go-type: InstanceUpdateRecipeStepsStatus
                    properties:
                      code:
                        type: integer
                        format: int64
                        x-dcl-go-name: Code
                        description: The status code, which should be an enum value
                          of .
                      details:
                        type: array
                        x-dcl-go-name: Details
                        description: A list of messages that carry the error details.
                          There is a common set of message types for APIs to use.
                        x-dcl-list-type: list
                        items:
                          type: object
                          x-dcl-go-type: InstanceUpdateRecipeStepsStatusDetails
                          properties:
                            typeUrl:
                              type: string
                              x-dcl-go-name: TypeUrl
                              description: 'A URL/resource name that uniquely identifies
                                the type of the serialized protocol buffer message.
                                This string must contain at least one "/" character.
                                The last segment of the URL''s path must represent
                                the fully qualified name of the type (as in `path/google.protobuf.Duration`).
                                The name should be in a canonical form (e.g., leading
                                "." is not accepted). In practice, teams usually precompile
                                into the binary all types that they expect it to use
                                in the context of Any. However, for URLs which use
                                the scheme `http`, `https`, or no scheme, one can
                                optionally set up a type server that maps type URLs
                                to message definitions as follows: * If no scheme
                                is provided, `https` is assumed. * An HTTP GET on
                                the URL must yield a value in binary format, or produce
                                an error. * Applications are allowed to cache lookup
                                results based on the URL, or have them precompiled
                                into a binary to avoid any lookup. Therefore, binary
                                compatibility needs to be preserved on changes to
                                types. (Use versioned type names to manage breaking
                                changes.) Note: this functionality is not currently
                                available in the official protobuf release, and it
                                is not used for type URLs beginning with type.googleapis.com.
                                Schemes other than `http`, `https` (or the empty scheme)
                                might be used with implementation specific semantics.'
                            value:
                              type: string
                              x-dcl-go-name: Value
                              description: Must be a valid serialized protocol buffer
                                of the above specified type.
                      message:
                        type: string
                        x-dcl-go-name: Message
                        description: A developer-facing error message, which should
                          be in English. Any user-facing error message should be localized
                          and sent in the field, or localized by the client.
                  updatedRepeatOperationDelaySec:
                    type: number
                    format: double
                    x-dcl-go-name: UpdatedRepeatOperationDelaySec
                    description: Updated repeat_operation_delay_sec in the operation
                      metadata.
            verifyDeadlineSecondsBelow:
              type: number
              format: double
              x-dcl-go-name: VerifyDeadlineSecondsBelow
              description: When set, CLH will verify that the RPC deadline (in seconds)
                is less than the value set in the field.
        updateTime:
          type: string
          format: date-time
          x-dcl-go-name: UpdateTime
          readOnly: true
          description: The time the instance was updated.
          x-kubernetes-immutable: true
        zone:
          type: string
          x-dcl-go-name: Zone
          description: The zone where the instance will be provisioned.
