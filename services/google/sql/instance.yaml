# Copyright 2020 Google LLC. All Rights Reserved.
# 
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
# 
#     http://www.apache.org/licenses/LICENSE-2.0
# 
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
components:
  schemas:
    Instance:
      properties:
        backendType:
          description: 'FIRST_GEN: First Generation instance. MySQL only. SECOND_GEN:
            Second Generation MySQL instance, PostgreSQL or SQL Server instance. EXTERNAL:
            A database server that is not managed by Google. This property is read-only;
            use the tier property in the settings object to determine the database
            type and Second or First Generation.'
          enum:
          - SQL_BACKEND_TYPE_UNSPECIFIED
          - FIRST_GEN
          - SECOND_GEN
          - EXTERNAL
          type: string
          x-dcl-go-name: BackendType
          x-dcl-go-type: InstanceBackendTypeEnum
          x-kubernetes-immutable: true
        connectionName:
          description: Connection name of the Cloud SQL instance used in connection
            strings.
          type: string
          x-dcl-go-name: ConnectionName
          x-kubernetes-immutable: true
        currentDiskSize:
          description: The current disk usage of the instance in bytes. This property
            has been deprecated. Users should use the "cloudsql.googleapis.com/database/disk/bytes_used"
            metric in Cloud Monitoring API instead. Please see [this announcement](https://groups.google.com/d/msg/google-cloud-sql-announce/I_7-F9EBhT0/BtvFtdFeAgAJ)
            for details.
          properties:
            value:
              description: The int64 value.
              format: int64
              type: integer
              x-dcl-go-name: Value
              x-kubernetes-immutable: true
          type: object
          x-dcl-go-name: CurrentDiskSize
          x-dcl-go-type: InstanceCurrentDiskSize
          x-kubernetes-immutable: true
        databaseVersion:
          description: 'The database engine type and version. The `databaseVersion`
            field can not be changed after instance creation.  MySQL Second Generation
            instances: `MYSQL_5_7` (default) or `MYSQL_5_6`. PostgreSQL instances:
            `POSTGRES_9_6` (default) or `POSTGRES_11 Beta` MySQL First Generation
            instances: `MYSQL_5_6` (default) or `MYSQL_5_5`'
          enum:
          - SQL_DATABASE_VERSION_UNSPECIFIED
          - OBSOLETE_MYSQL_5_0
          - MYSQL_5_1
          - MYSQL_5_5
          - MARIADB_10_0
          - MYSQL_5_6
          - MYSQL_5_7
          - OBSOLETE_POSTGRES_9_5
          - SQLSERVER_ENTERPRISE_2016
          - POSTGRES_9_6
          - POSTGRES_11
          - SQLSERVER_2017_STANDARD
          - SQLSERVER_2016_STANDARD
          - MIMIR
          - SQLSERVER_2017_ENTERPRISE
          - SQLSERVER_2017_EXPRESS
          - SQLSERVER_2017_WEB
          - POSTGRES_TIER_1
          - POSTGRES_10
          - POSTGRES_12
          - MYSQL_8_0
          - AGBALA
          type: string
          x-dcl-go-name: DatabaseVersion
          x-dcl-go-type: InstanceDatabaseVersionEnum
          x-kubernetes-immutable: true
        diskEncryptionConfiguration:
          description: Disk encryption configuration specific to an instance. Applies
            only to Second Generation instances.
          properties:
            kind:
              description: This is always `sql#diskEncryptionConfiguration`.
              type: string
              x-dcl-go-name: Kind
              x-kubernetes-immutable: true
            kmsKeyName:
              description: Resource name of KMS key for disk encryption
              type: string
              x-dcl-go-name: KmsKeyName
              x-kubernetes-immutable: true
          type: object
          x-dcl-go-name: DiskEncryptionConfiguration
          x-dcl-go-type: InstanceDiskEncryptionConfiguration
          x-kubernetes-immutable: true
        etag:
          description: This field is deprecated and will be removed from a future
            version of the API. Use the `settings.settingsVersion` field instead.
          type: string
          x-dcl-go-name: Etag
          x-kubernetes-immutable: true
        failoverReplica:
          description: The name and status of the failover replica. This property
            is applicable only to Second Generation instances.
          properties:
            available:
              description: The availability status of the failover replica. A false
                status indicates that the failover replica is out of sync. The master
                can only failover to the failover replica when the status is true.
              type: boolean
              x-dcl-go-name: Available
              x-kubernetes-immutable: true
            name:
              description: The name of the failover replica. If specified at instance
                creation, a failover replica is created for the instance. The name
                doesn't include the project ID. This property is applicable only to
                Second Generation instances.
              type: string
              x-dcl-go-name: Name
              x-kubernetes-immutable: true
          type: object
          x-dcl-go-name: FailoverReplica
          x-dcl-go-type: InstanceFailoverReplica
          x-kubernetes-immutable: true
        gceZone:
          description: The Compute Engine zone that the instance is currently serving
            from. This value could be different from the zone that was specified when
            the instance was created if the instance has failed over to its secondary
            zone.
          type: string
          x-dcl-go-name: GceZone
          x-kubernetes-immutable: true
        instanceType:
          description: 'The instance type. This can be one of the following. CLOUD_SQL_INSTANCE:
            A Cloud SQL instance that is not replicating from a master. ON_PREMISES_INSTANCE:
            An instance running on the customer''s premises. READ_REPLICA_INSTANCE:
            A Cloud SQL instance configured as a read-replica.'
          enum:
          - SQL_INSTANCE_TYPE_UNSPECIFIED
          - CLOUD_SQL_INSTANCE
          - ON_PREMISES_INSTANCE
          - READ_REPLICA_INSTANCE
          - READ_REPLICA_POOL_INSTANCE
          type: string
          x-dcl-go-name: InstanceType
          x-dcl-go-type: InstanceInstanceTypeEnum
          x-kubernetes-immutable: true
        ipAddresses:
          description: The assigned IP addresses for the instance.
          items:
            properties:
              ipAddress:
                description: The IP address assigned.
                type: string
                x-dcl-go-name: IPAddress
                x-kubernetes-immutable: true
              timeToRetire:
                description: The due time for this IP to be retired in [RFC 3339](https://tools.ietf.org/html/rfc3339)
                  format, for example `2012-11-15T16:19:00.094Z`. This field is only
                  available when the IP is scheduled to be retired.
                properties:
                  nanos:
                    description: Non-negative fractions of a second at nanosecond
                      resolution. Negative second values with fractions must still
                      have non-negative nanos values that count forward in time. Must
                      be from 0 to 999,999,999 inclusive.
                    format: int64
                    type: integer
                    x-dcl-go-name: Nanos
                    x-kubernetes-immutable: true
                  seconds:
                    description: Represents seconds of UTC time since Unix epoch 1970-01-01T00:00:00Z.
                      Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.
                    format: int64
                    type: integer
                    x-dcl-go-name: Seconds
                    x-kubernetes-immutable: true
                type: object
                x-dcl-go-name: TimeToRetire
                x-dcl-go-type: InstanceIPAddressesTimeToRetire
                x-kubernetes-immutable: true
              type:
                description: The type of this IP address. A `PRIMARY` address is a
                  public address that can accept incoming connections. A `PRIVATE`
                  address is a private address that can accept incoming connections.
                  An `OUTGOING` address is the source address of connections originating
                  from the instance, if supported.
                enum:
                - SQL_IP_ADDRESS_TYPE_UNSPECIFIED
                - PRIMARY
                - OUTGOING
                - PRIVATE
                - MIGRATED_1ST_GEN
                type: string
                x-dcl-go-name: Type
                x-dcl-go-type: InstanceIPAddressesTypeEnum
                x-kubernetes-immutable: true
            type: object
            x-dcl-go-type: InstanceIPAddresses
          type: array
          x-dcl-go-name: IPAddresses
          x-dcl-list-type: list
          x-kubernetes-immutable: true
        masterInstance:
          description: The reference to the instance which will act as master in the
            replication setup.
          properties:
            name:
              description: The name of the Cloud SQL instance being referenced.
              type: string
              x-dcl-go-name: Name
              x-kubernetes-immutable: true
            region:
              description: The region of the Cloud SQL instance being referenced.
              type: string
              x-dcl-go-name: Region
              x-kubernetes-immutable: true
          type: object
          x-dcl-go-name: MasterInstance
          x-dcl-go-type: InstanceMasterInstance
          x-kubernetes-immutable: true
        masterInstanceName:
          description: The name of the instance which will act as master in the replication
            setup.
          type: string
          x-dcl-go-name: MasterInstanceName
          x-kubernetes-immutable: true
        maxDiskSize:
          description: The maximum disk size of the instance in bytes.
          properties:
            value:
              description: The int64 value.
              format: int64
              type: integer
              x-dcl-go-name: Value
              x-kubernetes-immutable: true
          type: object
          x-dcl-go-name: MaxDiskSize
          x-dcl-go-type: InstanceMaxDiskSize
          x-kubernetes-immutable: true
        name:
          description: Name of the Cloud SQL instance. This does not include the project
            ID.
          type: string
          x-dcl-go-name: Name
          x-kubernetes-immutable: true
        project:
          description: The project ID of the project containing the Cloud SQL instance.
            The Google apps domain is prefixed if applicable.
          type: string
          x-dcl-go-name: Project
          x-kubernetes-immutable: true
        region:
          description: The geographical region. Can be `us-central` (`FIRST_GEN` instances
            only), `us-central1` (`SECOND_GEN` instances only), `asia-east1` or `europe-west1`.
            Defaults to `us-central` or `us-central1` depending on the instance type
            (First Generation or Second Generation). The region can not be changed
            after instance creation.
          type: string
          x-dcl-go-name: Region
          x-kubernetes-immutable: true
        replicaConfiguration:
          description: Configuration specific to failover replicas and read replicas.
          properties:
            failoverTarget:
              description: Specifies if the replica is the failover target. If the
                field is set to `true` the replica will be designated as a failover
                replica. In case the master instance fails, the replica instance will
                be promoted as the new master instance.  Only one replica can be specified
                as failover target, and the replica has to be in different zone with
                the master instance.
              type: boolean
              x-dcl-go-name: FailoverTarget
              x-kubernetes-immutable: true
            kind:
              description: This is always `sql#replicaConfiguration`.
              type: string
              x-dcl-go-name: Kind
              x-kubernetes-immutable: true
            mysqlReplicaConfiguration:
              description: MySQL specific configuration when replicating from a MySQL
                on-premises master. Replication configuration information such as
                the username, password, certificates, and keys are not stored in the
                instance metadata. The configuration information is used only to set
                up the replication connection and is stored by MySQL in a file named
                `master.info` in the data directory.
              properties:
                caCertificate:
                  description: PEM representation of the trusted CA's x509 certificate.
                  type: string
                  x-dcl-go-name: CaCertificate
                  x-kubernetes-immutable: true
                clientCertificate:
                  description: PEM representation of the replica's x509 certificate.
                  type: string
                  x-dcl-go-name: ClientCertificate
                  x-kubernetes-immutable: true
                clientKey:
                  description: PEM representation of the replica's private key. The
                    corresponsing public key is encoded in the client's certificate.
                  type: string
                  x-dcl-go-name: ClientKey
                  x-kubernetes-immutable: true
                connectRetryInterval:
                  description: Seconds to wait between connect retries. MySQL's default
                    is 60 seconds.
                  format: int64
                  type: integer
                  x-dcl-go-name: ConnectRetryInterval
                  x-kubernetes-immutable: true
                dumpFilePath:
                  description: 'Path to a SQL dump file in Google Cloud Storage from
                    which the replica is to be created. The URI is in the form gs:
                    //bucketName/fileName. Compressed gzip files (.gz) are also supported.
                    // Dumps should have the binlog co-ordinates from which replication
                    should // begin. This can be accomplished by setting --master-data
                    to 1 when using // mysqldump.'
                  type: string
                  x-dcl-go-name: DumpFilePath
                  x-kubernetes-immutable: true
                kind:
                  description: This is always `sql#mysqlReplicaConfiguration`.
                  type: string
                  x-dcl-go-name: Kind
                  x-kubernetes-immutable: true
                masterHeartbeatPeriod:
                  description: Interval in milliseconds between replication heartbeats.
                  properties:
                    value:
                      description: The int64 value.
                      format: int64
                      type: integer
                      x-dcl-go-name: Value
                      x-kubernetes-immutable: true
                  type: object
                  x-dcl-go-name: MasterHeartbeatPeriod
                  x-dcl-go-type: InstanceReplicaConfigurationMysqlReplicaConfigurationMasterHeartbeatPeriod
                  x-kubernetes-immutable: true
                password:
                  description: The password for the replication connection.
                  type: string
                  x-dcl-go-name: Password
                  x-kubernetes-immutable: true
                sslCipher:
                  description: A list of permissible ciphers to use for SSL encryption.
                  type: string
                  x-dcl-go-name: SslCipher
                  x-kubernetes-immutable: true
                username:
                  description: The username for the replication connection.
                  type: string
                  x-dcl-go-name: Username
                  x-kubernetes-immutable: true
                verifyServerCertificate:
                  description: Whether or not to check the master's Common Name value
                    in the certificate that it sends during the SSL handshake.
                  type: boolean
                  x-dcl-go-name: VerifyServerCertificate
                  x-kubernetes-immutable: true
              type: object
              x-dcl-go-name: MysqlReplicaConfiguration
              x-dcl-go-type: InstanceReplicaConfigurationMysqlReplicaConfiguration
              x-kubernetes-immutable: true
            replicaPoolConfiguration:
              description: Read Replica Pool specific config. Replica pools can be
                static as well as autoscaling. This feature is only supported for
                Cloud SQL Lux.
              properties:
                autoscalingPoolConfiguration:
                  description: Autoscaling Pool Configuration
                  properties:
                    kind:
                      description: This is always `sql#AutoscalingPoolConfiguration`
                      type: string
                      x-dcl-go-name: Kind
                      x-kubernetes-immutable: true
                    maxReplicaCount:
                      description: Maximum number of replicas in the read replica
                        pool
                      format: int64
                      type: integer
                      x-dcl-go-name: MaxReplicaCount
                      x-kubernetes-immutable: true
                    minReplicaCount:
                      description: Minimum number of replicas in the read replica
                        pool
                      format: int64
                      type: integer
                      x-dcl-go-name: MinReplicaCount
                      x-kubernetes-immutable: true
                    targetCpuUtil:
                      description: CPU utilization threshold for autoscaling
                      format: double
                      type: number
                      x-dcl-go-name: TargetCpuUtil
                      x-kubernetes-immutable: true
                  type: object
                  x-dcl-go-name: AutoscalingPoolConfiguration
                  x-dcl-go-type: InstanceReplicaConfigurationReplicaPoolConfigurationAutoscalingPoolConfiguration
                  x-kubernetes-immutable: true
                kind:
                  description: This is always `sql#ReplicaPoolConfiguration`
                  type: string
                  x-dcl-go-name: Kind
                  x-kubernetes-immutable: true
                staticPoolConfiguration:
                  description: Static Pool Configuration
                  properties:
                    exposeReplicaIP:
                      description: If this is set to true, we'd expose the IP endpoint
                        for each individual replica to customers, in addition to the
                        load-balanced read pool endpoint.
                      type: boolean
                      x-dcl-go-name: ExposeReplicaIP
                      x-kubernetes-immutable: true
                    kind:
                      description: This is always `sql#StaticPoolConfiguration`
                      type: string
                      x-dcl-go-name: Kind
                      x-kubernetes-immutable: true
                    replicaCount:
                      description: Count of number of read replicas in the pool.
                      format: int64
                      type: integer
                      x-dcl-go-name: ReplicaCount
                      x-kubernetes-immutable: true
                  type: object
                  x-dcl-go-name: StaticPoolConfiguration
                  x-dcl-go-type: InstanceReplicaConfigurationReplicaPoolConfigurationStaticPoolConfiguration
                  x-kubernetes-immutable: true
              type: object
              x-dcl-go-name: ReplicaPoolConfiguration
              x-dcl-go-type: InstanceReplicaConfigurationReplicaPoolConfiguration
              x-kubernetes-immutable: true
          type: object
          x-dcl-go-name: ReplicaConfiguration
          x-dcl-go-type: InstanceReplicaConfiguration
          x-kubernetes-immutable: true
        rootPassword:
          description: Initial root password. Use only on creation.
          type: string
          x-dcl-go-name: RootPassword
          x-kubernetes-immutable: true
        scheduledMaintenance:
          description: The start time of any upcoming scheduled maintenance for this
            instance.
          properties:
            canDefer:
              description: NO DESCRIPTION FOUND
              type: boolean
              x-dcl-go-name: CanDefer
              x-kubernetes-immutable: true
            canReschedule:
              description: If the scheduled maintenance can be rescheduled.
              type: boolean
              x-dcl-go-name: CanReschedule
              x-kubernetes-immutable: true
            startTime:
              description: The start time of any upcoming scheduled maintenance for
                this instance.
              properties:
                nanos:
                  description: Non-negative fractions of a second at nanosecond resolution.
                    Negative second values with fractions must still have non-negative
                    nanos values that count forward in time. Must be from 0 to 999,999,999
                    inclusive.
                  format: int64
                  type: integer
                  x-dcl-go-name: Nanos
                  x-kubernetes-immutable: true
                seconds:
                  description: Represents seconds of UTC time since Unix epoch 1970-01-01T00:00:00Z.
                    Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.
                  format: int64
                  type: integer
                  x-dcl-go-name: Seconds
                  x-kubernetes-immutable: true
              type: object
              x-dcl-go-name: StartTime
              x-dcl-go-type: InstanceScheduledMaintenanceStartTime
              x-kubernetes-immutable: true
          type: object
          x-dcl-go-name: ScheduledMaintenance
          x-dcl-go-type: InstanceScheduledMaintenance
          x-kubernetes-immutable: true
        settings:
          description: The user settings.
          properties:
            activationPolicy:
              description: 'The activation policy specifies when the instance is activated;
                it is applicable only when the instance state is `RUNNABLE`. Valid
                values: `ALWAYS`: The instance is on, and remains so even in the absence
                of connection requests. `NEVER`: The instance is off; it is not activated,
                even if a connection request arrives. `ON_DEMAND`: First Generation
                instances only. The instance responds to incoming requests, and turns
                itself off when not in use. Instances with `PER_USE` pricing turn
                off after 15 minutes of inactivity. Instances with `PER_PACKAGE` pricing
                turn off after 12 hours of inactivity.'
              enum:
              - SQL_ACTIVATION_POLICY_UNSPECIFIED
              - ALWAYS
              - NEVER
              - ON_DEMAND
              type: string
              x-dcl-go-name: ActivationPolicy
              x-dcl-go-type: InstanceSettingsActivationPolicyEnum
              x-kubernetes-immutable: true
            authorizedGaeApplications:
              description: The App Engine app IDs that can access this instance. First
                Generation instances only.
              items:
                type: string
                x-dcl-go-type: string
              type: array
              x-dcl-go-name: AuthorizedGaeApplications
              x-dcl-list-type: list
              x-kubernetes-immutable: true
            availabilityType:
              description: 'Availability type (PostgreSQL and MySQL instances only).
                Potential values: `ZONAL`: The instance serves data from only one
                zone. Outages in that zone affect data accessibility. `REGIONAL`:
                The instance can serve data from more than one zone in a region (it
                is highly available). For more information, see [Overview of the High
                Availability Configuration](https://cloud.google.com/sql/docs/postgres/high-availability).'
              enum:
              - SQL_AVAILABILITY_TYPE_UNSPECIFIED
              - ZONAL
              - REGIONAL
              type: string
              x-dcl-go-name: AvailabilityType
              x-dcl-go-type: InstanceSettingsAvailabilityTypeEnum
              x-kubernetes-immutable: true
            crashSafeReplicationEnabled:
              description: Configuration specific to read replica instances. Indicates
                whether database flags for crash-safe replication are enabled. This
                property is only applicable to First Generation instances.
              type: boolean
              x-dcl-go-name: CrashSafeReplicationEnabled
              x-kubernetes-immutable: true
            dataDiskType:
              description: 'The type of data disk: `PD_SSD` (default) or `PD_HDD`.
                Not used for First Generation instances.'
              enum:
              - SQL_DATA_DISK_TYPE_UNSPECIFIED
              - PD_SSD
              - PD_HDD
              - OBSOLETE_LOCAL_SSD
              type: string
              x-dcl-go-name: DataDiskType
              x-dcl-go-type: InstanceSettingsDataDiskTypeEnum
              x-kubernetes-immutable: true
            databaseReplicationEnabled:
              description: Configuration specific to read replica instances. Indicates
                whether replication is enabled or not.
              type: boolean
              x-dcl-go-name: DatabaseReplicationEnabled
              x-kubernetes-immutable: true
            kind:
              description: This is always `sql#settings`.
              type: string
              x-dcl-go-name: Kind
              x-kubernetes-immutable: true
            pricingPlan:
              description: The pricing plan for this instance. This can be either
                `PER_USE` or `PACKAGE`. Only `PER_USE` is supported for Second Generation
                instances.
              enum:
              - SQL_PRICING_PLAN_UNSPECIFIED
              - PACKAGE
              - PER_USE
              type: string
              x-dcl-go-name: PricingPlan
              x-dcl-go-type: InstanceSettingsPricingPlanEnum
              x-kubernetes-immutable: true
            replicationType:
              description: The type of replication this instance uses. This can be
                either `ASYNCHRONOUS` or `SYNCHRONOUS`. This property is only applicable
                to First Generation instances.
              enum:
              - SQL_REPLICATION_TYPE_UNSPECIFIED
              - SYNCHRONOUS
              - ASYNCHRONOUS
              type: string
              x-dcl-go-name: ReplicationType
              x-dcl-go-type: InstanceSettingsReplicationTypeEnum
              x-kubernetes-immutable: true
            storageAutoResize:
              description: Configuration to increase storage size automatically. The
                default value is true. Not used for First Generation instances.
              type: boolean
              x-dcl-go-name: StorageAutoResize
              x-kubernetes-immutable: true
            tier:
              description: The tier (or machine type) for this instance, for example
                `db-n1-standard-1` (MySQL instances) or `db-custom-1-3840` (PostgreSQL
                instances). For MySQL instances, this property determines whether
                the instance is First or Second Generation. For more information,
                see [Instance Settings](/sql/docs/db_path/instance-settings).
              type: string
              x-dcl-go-name: Tier
              x-kubernetes-immutable: true
          type: object
          x-dcl-go-name: Settings
          x-dcl-go-type: InstanceSettings
          x-kubernetes-immutable: true
      title: Instance
      type: object
      x-dcl-id: projects/{{project}}/instances/{{name}}
      x-dcl-locations:
      - region
      x-dcl-parent-container: project
      x-dcl-uses-state-hint: false
info:
  description: DCL Specification for the sql Instance resource
  title: Instance
paths:
  list:
    description: The function called used to list information about many Instance
    parameters:
    - name: project
      required: true
